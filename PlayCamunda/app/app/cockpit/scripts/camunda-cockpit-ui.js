!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.CamundaCockpitUi=a()}}(function(){var define,module,exports;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";b.exports=["$animate","$rootScope",function(a,b){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(c,d,e){return function(c,d){function f(b){g&&(a.leave(g),g=void 0),h&&(h.$destroy(),h=void 0),b&&(h=c.$new(),e(h,function(b){g=b,a.enter(b,d.parent(),d)}))}var g,h;c.$on("authentication.changed",function(a,b){f(b)}),f(b.authentication)}}}}]},{}],2:[function(a,b,c){"use strict";b.exports=["$animate","$rootScope",function(a,b){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(c,d,e){return function(c,d){function f(b){g&&(a.leave(g),g=void 0),h&&(h.$destroy(),h=void 0),b&&(h=c.$new(),e(h,function(b){g=b,a.enter(b,d.parent(),d)}))}var g,h;c.$on("authentication.changed",function(a,b){f(!b)}),f(!b.authentication)}}}}]},{}],3:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular");a("angular-route"),a("angular-resource");var e=a("../util/index"),f=a("./page/login"),g=a("./directives/camIfLoggedIn"),h=a("./directives/camIfLoggedOut"),i=a("./service/authenticationService"),j=d.module("cam.commons.auth",[d.module("ngRoute").name,e.name]);j.config(f).run(["$rootScope","$location",function(a,b){var c;a.$on("authentication.login.required",function(d){a.$evalAsync(function(){var a=b.url();"/login"===a||d.defaultPrevented||(c=a,b.url("/login"))})}),a.$on("authentication.login.success",function(d){a.$evalAsync(function(){d.defaultPrevented||(b.url(c||"/").replace(),c=null)})})}]).run(["$cacheFactory","$rootScope","$location","$timeout","Notifications",function(a,b,c,d,e){b.$on("authentication.logout.success",function(f){b.$evalAsync(function(){f.defaultPrevented||(a.get("$http").removeAll(),c.url("/"))}),d(function(){var a=function(){var a=new Date;if(a.getDay()>=5)return"weekend";var b=a.getHours();switch(!0){case b>=4&&b<7:return"morning";case b>=7&&b<12:return"day";case b>=12&&b<17:return"afternoon";case b>=17&&b<22:return"evening";case b>=22||b<4:return"night"}return"day"};e.addMessage({status:"Logout successful",message:"Thank you for using Camunda today. Have a great "+a()+"!",exclusive:!0})})})}]).run(["$rootScope","Notifications",function(a,b){a.$on("authentication.login.required",function(){b.addError({status:"Failed to display resource",message:"Authentication failed. Your session might have expired, you need to login.",http:!0,exclusive:["http"]})})}]).run(["AuthenticationService",function(){}]).directive("camIfLoggedIn",g).directive("camIfLoggedOut",h).service("AuthenticationService",i),b.exports=j},{"../util/index":35,"./directives/camIfLoggedIn":1,"./directives/camIfLoggedOut":2,"./page/login":4,"./service/authenticationService":5,"angular-resource":"angular-resource","angular-route":"angular-route","camunda-bpm-sdk-js/vendor/angular":102}],4:[function(a,b,c){"use strict";var d='<!-- # CE - camunda-commons-ui/lib/auth/page/login.html -->\n<div class="form-signin-container">\n  <form class="form-signin"\n        ng-submit="login()"\n        name="signinForm"\n        request-aware>\n    <h2 class="form-signin-heading">Please sign in</h2>\n\n    <div notifications-panel\n         class="notifications-panel"></div>\n\n    <input autofocus\n           tabindex="1"\n           type="text"\n           class="form-control"\n           placeholder="Username"\n           auto-fill\n           required\n           ng-model="username"></input>\n    <input tabindex="2"\n           type="password"\n           class="form-control"\n           placeholder="Password"\n           auto-fill\n           required\n           ng-model="password"></input>\n    <button tabindex="3"\n            class="btn btn-lg btn-primary"\n            type="submit">Sign in</button>\n  </form>\n</div>\n<!-- / CE - camunda-commons-ui/lib/auth/page/login.html -->\n',e=a("jquery"),f=["$scope","$rootScope","AuthenticationService","Notifications","$location",function(a,b,c,d,f){if(b.authentication)return f.path("/");b.showBreadcrumbs=!1;var g=e('form[name="signinForm"] [autofocus]')[0];g&&g.focus(),a.login=function(){c.login(a.username,a.password).then(function(){d.clearAll()})["catch"](function(){d.addError({status:"Login Failed",message:"Wrong credentials or missing access rights to application",scope:a})})}}];b.exports=["$routeProvider",function(a){a.when("/login",{template:d,controller:f})}]},{jquery:"jquery"}],5:[function(a,b,c){"use strict";a("camunda-bpm-sdk-js/vendor/angular");var d=a("jquery"),e=a("../util/authentication");b.exports=["$rootScope","$q","$http","Uri",function(a,b,c,f){function g(b,c,d){a.$broadcast(b,c,d)}function h(a){if(200!==a.status)return b.reject(a);var c=a.data;return new e({name:c.userId,authorizedApps:c.authorizedApps})}function i(b){a.authentication=b,g("authentication.changed",b)}this.updateAuthentication=i,this.login=function(a,e){function j(a){return i(a),g("authentication.login.success",a),a}function k(a){return g("authentication.login.failure",a),b.reject(a)}var l=d.param({username:a,password:e});return c({method:"POST",url:f.appUri("admin://auth/user/:engine/login/:appName"),data:l,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(h).then(j,k)},this.logout=function(){function a(a){i(null),g("authentication.logout.success",a)}function d(a){return g("authentication.logout.failure",a),b.reject(a)}return c.post(f.appUri("admin://auth/user/:engine/logout")).then(a,d)};var j;a.$on("authentication.changed",function(a,c){j=b[c?"when":"reject"](c)}),this.getAuthentication=function(){function d(a){return i(a),a}return j||(j=a.authentication?b.when(a.authentication):c.get(f.appUri("admin://auth/user/:engine")).then(h).then(d)),j},a.$on("$routeChangeStart",function(a,c){c.authentication&&(c.resolve||(c.resolve={}),c.resolve.authentication||(c.resolve.authentication=["AuthenticationService",function(a){return a.getAuthentication()["catch"](function(a){return"optional"===c.authentication?null:(g("authentication.login.required",c),b.reject(a))})}]))})}]},{"../util/authentication":6,"camunda-bpm-sdk-js/vendor/angular":102,jquery:"jquery"}],6:[function(a,b,c){"use strict";function d(a){e.extend(this,a)}var e=a("camunda-bpm-sdk-js/vendor/angular");d.prototype.canAccess=function(a){return this.authorizedApps&&this.authorizedApps.indexOf(a)!==-1},b.exports=d},{"camunda-bpm-sdk-js/vendor/angular":102}],7:[function(a,b,c){"use strict";b.exports=["$interval",function(a){return{restrict:"A",require:"ngModel",link:function(b,c,d,e){var f=a(function(){var b=c.val();b!==e.$viewValue&&(e.$setViewValue(b),e.$setPristine()),"function"!=typeof document.contains||document.contains(c[0])?"function"!=typeof document.contains&&a.cancel(f):a.cancel(f)},500)}}}]},{}],8:[function(a,b,c){"use strict";b.exports=["$compile","$parse",function(a,b){return{restrict:"A",link:function(c,d,e){function f(){return(g(c)||"").toString()}var g=b(e.ngBindHtml);c.$watch(f,function(){a(d.contents())(c)})}}}]},{}],9:[function(a,b,c){"use strict";b.exports=function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){var e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;d.$parsers.unshift(function(a){return e.test(a)||!a?(d.$setValidity("email",!0),a):(d.$setValidity("email",!1),null)})}}}},{}],10:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e='<li class="dropdown engine-select"\n    ng-show="engines.length > 1 && currentEngine">\n<!-- # CE - camunda-commons-ui/lib/directives/engineSelect.html -->\n  <a href\n     class="dropdown-toggle"\n     data-toggle="dropdown">\n    <span class="glyphicon glyphicon-info-sign glyphicon glyphicon-info-sign "\n          tooltip="If you have multiple engines running you can select the process engine here. The data displayed in this application is based on the selected engine only."\n          tooltip-placement="bottom"></span>\n    {{ currentEngine.name }}\n  </a>\n  <ul class="dropdown-menu dropdown-menu-right">\n    <li ng-repeat="(id, engine) in engines"\n        ng-class="{ active: currentEngine.name === engine.name }">\n      <a ng-href="{{ \'app://../\' + engine.name + \'/\' | uri }}">\n        {{ engine.name }}\n      </a>\n    </li>\n  </ul>\n<!-- / CE - camunda-commons-ui/lib/directives/engineSelect.html -->\n</li>\n',f=a("jquery"),g=["$scope","$http","$location","$window","Uri","Notifications",function(a,b,c,e,f,g){var h=f.appUri(":engine"),i={};b.get(f.appUri("engine://engine/")).then(function(b){a.engines=b.data,d.forEach(a.engines,function(a){i[a.name]=a}),a.currentEngine=i[h],a.currentEngine||(g.addError({status:"Not found",message:"The process engine you are trying to access does not exist",scope:a}),c.path("/dashboard"))})}];b.exports=function(){return{template:e,replace:!0,controller:g,link:function(a,b,c){var d;a.$watch(c.ngShow,function(a){a&&!d&&(d=f('<li class="divider-vertical"></li>').insertAfter(b)),!a&&d&&(d.remove(),d=null)}),a.$on("$destroy",function(){d&&d.remove()})}}}},{"camunda-bpm-sdk-js/vendor/angular":102,jquery:"jquery"}],11:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e='<!-- # CE - camunda-commons-ui/lib/directives/inPlaceTextField.html -->\n<div in-place-text-field-root>\n  <div ng-if="!editing">\n    {{ context[property] }}\n    <span class="edit-toggle"\n          ng-click="enter()">\n      <span class="glyphicon glyphicon-pencil"></span>\n    </span>\n  </div>\n\n  <form ng-if="editing"\n        ng-submit="submit()"\n        class="inline-edit"\n        name="inPlaceTextFieldForm"\n        novalidate\n        request-aware>\n\n    <fieldset>\n      <!-- {{ value }} -->\n      <input name="value"\n             ng-model="value"\n             type="text"\n             class="in-place-edit form-control"\n             placeholder="{{ placeholder }}"\n             autofocus\n             ng-required="isRequired">\n    </fieldset>\n\n    <div class="inline-edit-footer">\n\n      <p class="error" ng-show="error">\n        {{ error.message }}\n      </p>\n\n      <div class="btn-group">\n        <button type="submit"\n                class="btn btn-sm btn-primary"\n                ng-disabled="inPlaceTextFieldForm.$invalid">\n          <span class="glyphicon glyphicon-ok "></span>\n        </button>\n        <button type="button"\n                class="btn btn-sm btn-default"\n                ng-click="leave()">\n          <span class="glyphicon glyphicon-ban-circle"></span>\n        </button>\n      </div>\n    </div>\n\n  </form>\n</div>\n<!-- / CE - camunda-commons-ui/lib/directives/inPlaceTextField.html -->\n';b.exports=[function(){function a(a){a.value=a.context[a.property]||a.defaultValue||null,a.enter=function(){a.editing=!0,a.value=a.context[a.property]},a.submit=function(){var b=this;return a.context[a.property]===b.value?void a.leave():(a.context[a.property]=b.value,d.isFunction(a.$parent[a.submitCallback])&&a.$parent[a.submitCallback](b),void a.leave())},a.leave=function(){a.editing=!1}}return{restrict:"E",scope:{unserializeCallback:"@unserialize",serializeCallback:"@serialize",initializeCallback:"@initialize",enterCallback:"@enter",validateCallback:"@validate",submitCallback:"@submit",successCallback:"@success",errorCallback:"@error",leaveCallback:"@leave",context:"=",property:"@",defaultValue:"@default"},template:e,link:function(b,c,d){if(b.isRequired=null!==d.required&&void 0!==d.required,!b.property)throw new Error("You must specify a property of the context to be editable");var e=b.initializeCallback?b.$parent[b.initializeCallback]:function(a,b){b()};e(b,function(){a(b)})}}}]},{"camunda-bpm-sdk-js/vendor/angular":102}],12:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("./email"),f=a("./engineSelect"),g=a("./autoFill"),h=a("./inPlaceTextField"),i=a("./notificationsPanel"),j=a("./passwordRepeat"),k=a("./showIfAuthorized"),l=a("./compileTemplate"),m=a("./nl2br"),n=a("./instantTypeahead"),o=a("../util/index");a("../../vendor/ui-bootstrap-tpls-0.11.2-camunda");var p=d.module("camunda.common.directives",["ui.bootstrap",o.name]);p.directive("email",e),p.directive("autoFill",g),p.directive("engineSelect",f),p.directive("camInPlaceTextField",h),p.directive("notificationsPanel",i),p.directive("passwordRepeat",j),p.directive("showIfAuthorized",k),p.directive("compileTemplate",l),p.directive("nl2br",m),p.directive("instantTypeahead",n),p.config(["$modalProvider","$tooltipProvider",function(a,b){a.options={backdrop:!0,keyboard:!0},b.options({animation:!0,popupDelay:100,appendToBody:!0})}]),b.exports=p},{"../../vendor/ui-bootstrap-tpls-0.11.2-camunda":711,"../util/index":35,"./autoFill":7,"./compileTemplate":8,"./email":9,"./engineSelect":10,"./inPlaceTextField":11,"./instantTypeahead":13,"./nl2br":14,"./notificationsPanel":15,"./passwordRepeat":16,"./showIfAuthorized":17,"camunda-bpm-sdk-js/vendor/angular":102}],13:[function(a,b,c){"use strict";var d="[$empty$]";b.exports=["$timeout",function(a){return{restrict:"A",require:"ngModel",link:function(b,c,e,f){a(function(){f.$parsers.unshift(function(a){var b=a?a:d;return f.$viewValue=b,b}),f.$parsers.push(function(a){return a===d?"":a}),b.instantTypeahead=function(a,b){return b===d||(""+a).toLowerCase().indexOf((""+b).toLowerCase())>-1},c.bind("click",function(){f.$setViewValue(f.$viewValue),c.triggerHandler("input")}),c.bind("input",function(){f.$setViewValue(f.$viewValue)})})}}}]},{}],14:[function(a,b,c){"use strict";b.exports=[function(){return{scope:{original:"=nl2br"},link:function(a,b){b.text(a.original||"");var c=b.html().replace(/\n/g,"<br/>");b.html(c)}}}]},{}],15:[function(a,b,c){"use strict";a("angular-sanitize");var d='<div class="notifications">  <div ng-repeat="notification in notifications" class="alert" ng-class="notificationClass(notification)">    <button type="button" class="close" ng-click="removeNotification(notification)">&times;</button>    <strong class="status" ng-bind-html="trustHTML(notification.status)" compile-template></strong>     <strong ng-if="notification.message">:</strong>    <span class="message" ng-bind-html="trustHTML(notification.message)" compile-template></span>  </div></div>';b.exports=["Notifications","$filter","$sce",function(a,b,c){return{restrict:"EA",scope:{filter:"=notificationsFilter"},template:d,link:function(d){function e(a){return!f||!!b("filter")([a],f).length}var f=d.filter,g=d.notifications=[],h={add:function(a){return!!e(a)&&(g.push(a),!0)},remove:function(a){var b=g.indexOf(a);b!=-1&&g.splice(b,1)}};a.registerConsumer(h),d.removeNotification=function(a){g.splice(g.indexOf(a),1)},d.notificationClass=function(a){var b=["danger","error","success","warning","info"],c="info";return b.indexOf(a.type)>-1&&(c=a.type),"alert-"+c},d.trustHTML=function(a){return c.trustAsHtml(a)},d.$on("$destroy",function(){a.unregisterConsumer(h)})}}}]},{"angular-sanitize":"angular-sanitize"}],16:[function(a,b,c){"use strict";b.exports=function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){var e=c.passwordRepeat;d.$parsers.unshift(function(b){var c=a.$eval(e),f=b==c;return d.$setValidity("passwordRepeat",f),b}),a.$watch(e,function(a){var b=a==d.$viewValue;d.$setValidity("passwordRepeat",b),b||d.$setViewValue(d.$viewValue)})}}}},{}],17:[function(a,b,c){"use strict";var d={application:0,user:1,group:2,"group membership":3,authorization:4},e=function(a,b,c){var e={};return e.permissionName=a,e.resourceName=b,e.resourceType=d[b],c&&(e.resourceId=c),e};b.exports=["$animate","AuthorizationResource",function(a,b){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(c,d,f){return function(c,g){var h,i,j=d.authPermission,k=d.authResourceName,l=c.$eval(d.authResourceId),m="true"===d.authInverse;b.check(e(j,k,l)).$promise.then(function(b){h&&(a.leave(h),h=void 0),i&&(i.$destroy(),i=void 0),(b.authorized&&!m||!b.authorized&&m)&&(i=c.$new(),f(i,function(b){h=b,a.enter(b,g.parent(),g)}))})}}}}]},{}],18:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("moment");a("angular-translate");var f=d.module("cam.commons.filter.date",["pascalprecht.translate"]);f.provider("camDateFormat",function(){var a={normal:"LLL","short":"LL","long":"LLLL"};this.setDateFormat=function(b,c){c=c||"normal",a[c]=b},this.$get=function(){return function(b){return b=b||"normal",a[b]}}}),f.config(["$filterProvider",function(a){a.register("camDate",["$translate","camDateFormat",function(a,b){return function(a,c){return a?e(a).format(b(c)):""}}])}]),b.exports=f},{"angular-translate":"angular-translate","camunda-bpm-sdk-js/vendor/angular":102,moment:"moment"}],19:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("./auth/index"),f=a("./util/index"),g=a("./pages/index"),h=a("./plugin/index"),i=a("./directives/index"),j=a("./resources/index"),k=a("./search/index"),l=a("./services/index"),m=a("./widgets/index"),n=a("./filter/date/index");a("../vendor/ui-bootstrap-tpls-0.11.2-camunda"),a("angular-translate"),b.exports=d.module("cam.commons",[e.name,f.name,g.name,h.name,i.name,j.name,k.name,l.name,m.name,n.name,"ui.bootstrap","pascalprecht.translate"])},{"../vendor/ui-bootstrap-tpls-0.11.2-camunda":711,"./auth/index":3,"./directives/index":12,"./filter/date/index":18,"./pages/index":20,"./plugin/index":21,"./resources/index":25,"./search/index":26,"./services/index":32,"./util/index":35,"./widgets/index":46,"angular-translate":"angular-translate","camunda-bpm-sdk-js/vendor/angular":102}],20:[function(a,b,c){"use strict";function d(a){var b="camunda Login";a.indexOf("/cockpit/")!==-1?b="camunda Cockpit":a.indexOf("/tasklist/")!==-1?b="camunda Tasklist":a.indexOf("/admin/")!==-1&&(b="camunda Admin"),f("head title").text(b)}var e=a("camunda-bpm-sdk-js/vendor/angular");a("angular-route");var f=a("jquery"),g=e.module("camunda.common.pages",["ngRoute"]),h=["$rootScope","$location","Notifications","AuthenticationService",function(a,b,c,e){function f(a){a.http=!0,a.exclusive=["http"],c.addError(a)}function g(c,g){var h=g.status,i=g.data;switch(h){case 500:f(i&&i.message?{status:"Server Error",message:i.message,exceptionType:i.exceptionType}:{status:"Server Error",message:"The server reported an internal error. Try to refresh the page or login and out of the application."});break;case 0:f({status:"Request Timeout",message:"Your request timed out. Try to refresh the page."});break;case 401:b.absUrl().indexOf("/setup/#")!==-1?b.path("/setup"):(f({type:"warning",status:"Session ended",message:"Your session timed out or was ended from another browser window. Please signin again."}),d(b.absUrl()),e.updateAuthentication(null),a.$broadcast("authentication.login.required"));break;case 403:f("AuthorizationException"==i.type?{status:"Access Denied",message:"You are unauthorized to "+i.permissionName.toLowerCase()+" "+i.resourceName.toLowerCase()+(i.resourceId?" "+i.resourceId:"s")+"."}:{status:"Access Denied",message:"Executing an action has been denied by the server. Try to refresh the page."});break;case 404:f({status:"Not found",message:"A resource you requested could not be found."});break;default:f({status:"Communication Error",message:"The application received an unexpected "+h+" response from the server. Try to refresh the page or login and out of the application."})}}a.$on("httpError",g)}],i=["$scope","$http","$location","$window","Uri","Notifications",function(a,b,c,d,f,g){var h=f.appUri(":engine"),i={};b.get(f.appUri("engine://engine/")).then(function(b){a.engines=b.data,e.forEach(a.engines,function(a){i[a.name]=a}),a.currentEngine=i[h],a.currentEngine||(g.addError({status:"Not found",message:"The process engine you are trying to access does not exist",scope:a}),c.path("/"))}),a.$watch("currentEngine",function(a){a&&h!==a.name&&(d.location.href=f.appUri("app://../"+a.name+"/"))})}],j=["$scope","$location",function(a,b){a.activeClass=function(a){var c=b.absUrl();return c.indexOf(a)!=-1?"active":""}}],k=["$scope","$window","$cacheFactory","$location","Notifications","AuthenticationService",function(a,b,c,d,e,f){a.logout=function(){f.logout()}}];b.exports=g.run(h).controller("ProcessEngineSelectionController",i).controller("AuthenticationController",k).controller("NavigationController",j)},{"angular-route":"angular-route","camunda-bpm-sdk-js/vendor/angular":102,jquery:"jquery"}],21:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("./view"),f=a("./service"),g=d.module("cockpit.plugin",[]);e(g),f(g),b.exports=g},{"./service":22,"./view":23,"camunda-bpm-sdk-js/vendor/angular":102}],22:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("jquery");b.exports=function(a){function b(a){return String.prototype.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}a._camPlugins={};var c,f=[],g=e("base").attr("cam-exclude-plugins")||"";g&&(d.forEach(g.split(","),function(a){a=a.split(":");var c="*";a.length>=2&&b(a[1])&&(c=b(a.pop())),a=b(a.shift()),a&&f.push(a+":"+c)}),c=new RegExp("("+f.join("|")+")","i"));var h=[function(){function b(a,b){for(var c,d="undefined"!=typeof b.priority?b.priority:-(1/0),e=0;c=a[e];e++)if("undefined"==typeof c.priority||c.priority<d)return void a.splice(e,0,b);a.push(b)}function d(a,c,d){var e=d[a]=d[a]||[];b(e,c)}var e={};this.registerPlugin=function(b,f,g){if(a._camPlugins[f+":"+g.id]=!1,!c||!c.test(f+":"+g.id)){a._camPlugins[f+":"+g.id]=!0;var h=e[b]=e[b]||{};d(f,g,h)}},this.$get=["$filter",function(a){var b={getAllProviders:function(a){return e[a]||{}},getProviders:function(b,c){if(!b)throw new Error("No type given");var d=c.component;if(!d)throw new Error("No component given");var f=(e[b]||{})[d];return c.id&&(f=a("filter")(f,{id:c.id})),f||[]},getProvider:function(a,b){var c=this.getProviders(a,b);return(c||[])[0]}};return b}]}];a.provider("Plugins",h);var i=["PluginsProvider",function(a){this.registerDefaultView=function(b,d){c&&c.test(b+":"+d.id)||a.registerPlugin("view",b,d)},this.registerView=function(b,c){a.registerPlugin("view",b,c)},this.$get=["Uri","Plugins",function(a,b){function c(b){d.forEach(b,function(b){d.forEach(b,function(b){b.url&&(b.url=a.appUri(b.url))})})}function e(){f||(c(b.getAllProviders("view")),f=!0)}var f=!1,g={getProviders:function(a){return e(),b.getProviders("view",a)},getProvider:function(a){var b=this.getProviders(a);return(b||[])[0]}};return g}]}];a.provider("Views",i);var j=["PluginsProvider",function(a){this.registerData=function(b,c){a.registerPlugin("data",b,c)},this.$get=["Plugins","$injector",function(a,b){var c={getProviders:function(b){return a.getProviders("data",b)},getProvider:function(a){var b=this.getProviders(a);return(b||[])[0]},instantiateProviders:function(a,c){var e=this.getProviders({component:a});d.forEach(e,function(a){b.instantiate(a.controller,c)})}};return c}]}];a.provider("Data",j)}},{"camunda-bpm-sdk-js/vendor/angular":102,jquery:"jquery"}],23:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular");b.exports=function(a){a.directive("view",["$q","$http","$templateCache","$anchorScroll","$compile","$controller",function(a,b,c,e,f,g){return{restrict:"ECA",terminal:!0,link:function(h,i,j){function k(){o&&(o.$destroy(),o=null)}function l(){i.html(""),k()}function m(a){var d=a.template;if(d)return d;var e=a.url;return b.get(e,{cache:c}).then(function(a){return a.data})}function n(){var b=h.$eval(j.provider),c=h.$eval(j.vars)||{};return b?void a.when(m(b)).then(function(a){i.html(a),k();var j,l=f(i.contents()),m={};o=h.$new(!0),c&&(c.read&&d.forEach(c.read,function(a){o[a]=h[a],h.$watch(a,function(b){o[a]=b})}),c.write&&d.forEach(c.write,function(a){o.$watch(a,function(b){h[a]=b})})),b.controller&&(m.$scope=o,j=g(b.controller,m),i.children().data("$ngControllerController",j)),l(o),o.$emit("$pluginContentLoaded"),e()},function(a){throw l(),a}):void l()}var o;h.$watch(j.provider,n)}}}])}},{"camunda-bpm-sdk-js/vendor/angular":102}],24:[function(a,b,c){"use strict";b.exports=["$resource","Uri",function(a,b){return a(b.appUri("engine://engine/:engine/authorization/:action"),{action:"@action"},{check:{method:"GET",params:{action:"check"},cache:!0},count:{method:"GET",params:{action:"count"}},create:{method:"POST",params:{action:"create"}}})}]},{}],25:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("./authorizationResource"),f=d.module("camunda.common.resources",[]);f.factory("AuthorizationResource",e),b.exports=f},{"./authorizationResource":24,"camunda-bpm-sdk-js/vendor/angular":102}],26:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=["$location","$rootScope",function(a,b){var c=!1;b.$on("$routeUpdate",function(a,d){c?c=!1:b.$broadcast("$routeChanged",d)}),b.$on("$routeChangeSuccess",function(){c=!1});var e=function(){return a.search.apply(a,arguments)};return e.updateSilently=function(b,e){var f=a.absUrl();d.forEach(b,function(b,c){a.search(c,b)});var g=a.absUrl();g!=f&&(c=!0),e&&a.replace()},e}],f=d.module("camunda.common.search",[]);f.factory("search",e),b.exports=f},{"camunda-bpm-sdk-js/vendor/angular":102}],27:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("camunda-bpm-sdk-js/lib/angularjs/index");b.exports=["$rootScope","$timeout","$q",function(a,b,c){function f(a){this._wrapped=new e.Client.HttpClient(a)}return d.forEach(["post","get","load","put","del","options","head"],function(e){f.prototype[e]=function(f,g){var h=b(function(){},1e5),i=d.isFunction(g.done)?g.done:d.noop;return g.done=function(c,d){function e(){return c&&401===c.status?(a.$broadcast("authentication.changed",null),a.authentication=null,void a.$broadcast("authentication.login.required")):void i(c,d)}var f=a.$$phase;"$apply"!==f&&"$digest"!==f?a.$apply(e):e(),b.cancel(h)},c.when(this._wrapped[e](f,g))}}),d.forEach(["on","once","off","trigger"],function(a){f.prototype[a]=function(){this._wrapped[a].apply(this,arguments)}}),f}]},{"camunda-bpm-sdk-js/lib/angularjs/index":60,"camunda-bpm-sdk-js/vendor/angular":102}],28:[function(a,b,c){"use strict";b.exports=["$rootScope",function(a){var b=0;return{logStarted:function(){b||a.$broadcast("requestStarted"),b++},logFinished:function(){b--,b||a.$broadcast("requestFinished")}}}]},{}],29:[function(a,b,c){"use strict";b.exports=["$route","$q","$location","Notifications",function(a,b,c,d){function e(e,f){function g(a){i.resolve(a)}function h(a){var b,e,g,h=!1;404===a.status?(b="No "+l+" with ID "+j,e=!0,g=f.redirectTo||"/dashboard","function"==typeof g&&(h=!0,g(a))):401===a.status?(b="Authentication failed. Your session might have expired, you need to login.",g="/login"):(b="Received "+a.status+" from server.",g="/dashboard"),h||(c.path(g),e&&c.replace(),d.addError({status:"Failed to display "+l,message:b,http:!0,exclusive:["http"]})),i.reject(b)}var i=b.defer(),j=a.current.params[e],k=f.resolve,l=f.name||"entity",m=k(j);if(m.$promise&&m.$promise.then)m=m.$promise.then(function(a){g(a)},h);else{if(!m.then)throw new Error("No promise returned by #resolve");m=m.then(g,h)}return i.promise}return{getByRouteParam:e}}]},{}],30:[function(a,b,c){"use strict";b.exports=["$timeout",function(a){return function(b,c){var d,e=function(){var f=this,g=arguments;e.$loading=!0,d&&a.cancel(d),d=a(function(){d=null,e.$loading=!1,b.apply(f,g)},c)};return e}}]},{}],31:[function(a,b,c){"use strict";b.exports=function(){return function(a){return encodeURIComponent(a).replace(/%2F/g,"%252F").replace(/\*/g,"%2A").replace(/%5C/g,"%255C")}}},{}],32:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("./../util/index"),f=a("./escape"),g=a("./debounce"),h=a("./RequestLogger"),i=a("./ResourceResolver"),j=a("./HttpClient"),k=a("./unescape"),l=d.module("camunda.common.services",[e.name]);l.filter("escape",f),l.factory("debounce",g),l.factory("RequestLogger",h),l.factory("ResourceResolver",i),l.factory("camAPIHttpClient",j),l.factory("unescape",k),l.config(["$httpProvider",function(a){a.responseInterceptors.push(["$rootScope","$q","RequestLogger",function(a,b,c){return function(d){function e(a){return c.logFinished(),a}function f(d){c.logFinished();var e={status:parseInt(d.status),response:d,data:d.data};return a.$broadcast("httpError",e),b.reject(d)}return c.logStarted(),d.then(e,f)}}])}]),l.config(["$httpProvider","$windowProvider",function(a,b){var c=b.$get(),d=c.location.href,e=d.match(/\/app\/([\w-]+)\/([\w-]+)\//);if(!e)throw new Error("no process engine selected");a.defaults.headers.get={"X-Authorized-Engine":e[2]}}]),b.exports=l},{"./../util/index":35,"./HttpClient":27,"./RequestLogger":28,"./ResourceResolver":29,"./debounce":30,"./escape":31,"./unescape":33,"camunda-bpm-sdk-js/vendor/angular":102}],33:[function(a,b,c){"use strict";b.exports=function(){return function(a){var b=a.replace(/%252F/g,"%2F").replace(/%255C/g,"%5C").replace(/%2A/g,"*");return decodeURIComponent(b)}}},{}],34:[function(a,b,c){"use strict";function d(a,b){return a.replace('xmlns="'+b+'"','xmlns="'+f+'"')}var e=["http://www.omg.org/spec/DMN/20151101/dmn11.xsd"],f="http://www.omg.org/spec/DMN/20151101/dmn.xsd";b.exports=function(a){return e.reduce(d,a)}},{}],35:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("./uriFilter"),f=a("./uriProvider"),g=a("./notifications");b.exports=d.module("cam.commons.util",[]).filter("uri",e).provider("Uri",f).service("Notifications",g)},{"./notifications":36,"./uriFilter":37,"./uriProvider":38,"camunda-bpm-sdk-js/vendor/angular":102}],36:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular");b.exports=["$filter","$timeout",function(a,b){return{notifications:[],consumers:[],addError:function(a){a.type||(a.type="danger"),this.add(a)},addMessage:function(a){a.type||(a.type="info"),this.add(a)},add:function(a){var c=this,e=this.notifications,f=this.consumers,g=a.exclusive;if(g)if("boolean"==typeof g)this.clearAll();else{var h={};d.forEach(g,function(b){h[b]=a[b]}),c.clear(h)}e.push(a);for(var i,j=f.length-1;(i=f[j])&&!i.add(a);j--);a.duration&&b(function(){a.scope&&delete a.scope,c.clear(a)},a.duration),a.scope&&a.scope.$on("$destroy",function(){delete a.scope,c.clear(a)})},clear:function(b){var c=this.notifications,e=this.consumers,f=[];"string"==typeof b&&(b={status:b}),f=a("filter")(c,b),f.push(b),d.forEach(f,function(a){var b=c.indexOf(a);b!=-1&&c.splice(b,1),d.forEach(e,function(b){b.remove(a)})})},clearAll:function(){for(var a=this.notifications;a.length;){var b=a.pop();this.clear(b)}},registerConsumer:function(a){this.consumers.push(a)},unregisterConsumer:function(a){var b=this.consumers,c=b.indexOf(a);c!=-1&&b.splice(c,1)}}}]},{"camunda-bpm-sdk-js/vendor/angular":102}],37:[function(a,b,c){"use strict";var d=["Uri",function(a){return function(b){return a.appUri(b)}}];b.exports=d},{}],38:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular");b.exports=function(){var a=/[\w]+:\/\/|:[\w]+/g,b={};this.replace=function(a,c){b[a]=c},this.$get=["$injector",function(c){return{appUri:function(e){var f=e.replace(a,function(a){var e=b[a];return void 0===e?a:((d.isFunction(e)||d.isArray(e))&&(e=c.invoke(e)),e)});return f}}}]}},{"camunda-bpm-sdk-js/vendor/angular":102}],39:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("bpmn-js/lib/NavigatedViewer"),f='<div class="alert alert-danger"\n     ng-if="error">\n  <span>\n    <strong>Could not render diagram:</strong>\n  </span>\n  <span>\n   {{ error.message }}\n  </span>\n</div>\n\n<div ng-show="!error">\n\n  <div ng-if="!loaded" class="placeholder-container">\n    <div class="placeholder-content">\n      <span class="glyphicon glyphicon-refresh animate-spin"></span>\n      <span class="loading-text">Loading diagram</span>\n    </div>\n  </div>\n\n  <div class="diagram-holder" ng-class=\'{"diagram-holder": true, "grab-cursor": !disableNavigation && !grabbing, "djs-cursor-move": !disableNavigation && grabbing}\'></div>\n\n  <div class="actions"></div>\n\n  <div ng-if="!disableNavigation"\n       class="navigation zoom">\n    <button class="btn btn-default in"\n            title="zoom in"\n            ng-click="zoomIn()">\n      <span class="glyphicon glyphicon-plus"></span>\n    </button>\n    <button class="btn btn-default out"\n            title="zoom out"\n            ng-click="zoomOut()">\n      <span class="glyphicon glyphicon-minus"></span>\n    </button>\n  </div>\n\n  <div ng-if="!disableNavigation"\n       class="navigation reset">\n    <button class="btn btn-default"\n            title="reset zoom"\n            ng-click="resetZoom()">\n      <span class="glyphicon glyphicon-screenshot"></span>\n    </button>\n  </div>\n</div>\n';
b.exports=["$q","$document","$compile","$location","$rootScope","search","debounce",function(a,b,c,g,h,i,j){return{scope:{diagramData:"=",control:"=?",disableNavigation:"&",onLoad:"&",onClick:"&",onMouseEnter:"&",onMouseLeave:"&"},template:f,link:function(f,k){function l(c){var e=b[0].body,f=a.defer(),g=d.element("<img>").css("position","absolute").css("left","-9999em").css("top","-9999em").attr("src",c)[0];return g.onload=function(){f.resolve(g)},g.onerror=function(){f.reject(g)},e.appendChild(g),f.promise}function m(){if(x){f.loaded=!1;var a="object"==typeof x,b=(a?r.importDefinitions:r.importXML).bind(r);b(x,function(b,c){var d=a?function(a){a()}:f.$apply.bind(f);d(function(){return b?void(f.error=b):(f.warn=c,y=r.get("canvas"),p=r.definitions,n(),o(),f.loaded=!0,void f.onLoad())})})}}function n(){if(y){var a=JSON.parse((g.search()||{}).viewbox||"{}")[p.id];a?y.viewbox(a):y.zoom("fit-viewport","auto")}}function o(){var a=r.get("eventBus");a.on("element.click",function(a){f.onClick({element:a.element,$event:a.originalEvent})}),a.on("element.hover",function(a){f.onMouseEnter({element:a.element,$event:a.originalEvent})}),a.on("element.out",function(a){f.onMouseLeave({element:a.element,$event:a.originalEvent})}),a.on("element.mousedown",function(){f.grabbing=!0,document.addEventListener("mouseup",z),f.$apply()}),a.on("canvas.viewbox.changed",j(function(a){var b=JSON.parse((g.search()||{}).viewbox||"{}");b[p.id]={x:a.viewbox.x,y:a.viewbox.y,width:a.viewbox.width,height:a.viewbox.height},i.updateSilently({viewbox:JSON.stringify(b)});var c=h.$$phase;"$apply"!==c&&"$digest"!==c?f.$apply(function(){g.replace()}):g.replace()},500))}var p;f.grabbing=!1,f.disableNavigation=f.$eval(f.disableNavigation),f.control=f.control||{},f.control.highlight=function(a){y.addMarker(a,"highlight"),k.find('[data-element-id="'+a+'"]>.djs-outline').attr({rx:"14px",ry:"14px"})},f.control.clearHighlight=function(a){y.removeMarker(a,"highlight")},f.control.isHighlighted=function(a){return y.hasMarker(a,"highlight")},f.control.createBadge=function(a,b){var d,e=r.get("overlays");b.html?d=b.html:(d=document.createElement("span"),b.color&&(d.style["background-color"]=b.color),b.tooltip&&(d.setAttribute("tooltip",b.tooltip),d.setAttribute("tooltip-placement","top")),b.text&&d.appendChild(document.createTextNode(b.text)));var g=e.add(a,{position:b.position||{bottom:0,right:0},show:{minZoom:-(1/0),maxZoom:+(1/0)},html:d});return c(d)(f),g},f.control.removeBadges=function(a){r.get("overlays").remove({element:a})},f.control.removeBadge=function(a){r.get("overlays").remove(a)},f.control.getViewer=function(){return r},f.control.scrollToElement=function(a){var b,c,d,e,f=r.get("elementRegistry").get(a),g=y.viewbox();b=Math.max(g.height,f.height),c=Math.max(g.width,f.width),d=Math.min(Math.max(g.x,f.x-g.width+f.width),f.x),e=Math.min(Math.max(g.y,f.y-g.height+f.height),f.y),y.viewbox({x:d,y:e,width:c,height:b})},f.control.getElement=function(a){return r.get("elementRegistry").get(a)},f.control.getElements=function(a){return r.get("elementRegistry").filter(a)},f.loaded=!1,f.control.isLoaded=function(){return f.loaded},f.control.addAction=function(a){var b=k.find(".actions"),d=a.html;b.append(d),c(d)(f)},f.control.addImage=function(a,c,e){return l(a).then(function(f){var g=f.offsetWidth,h=f.offsetHeight,i=b[0].createElementNS("http://www.w3.org/2000/svg","image");return i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),i.setAttributeNS(null,"width",g),i.setAttributeNS(null,"height",h),i.setAttributeNS(null,"x",c),i.setAttributeNS(null,"y",e),b[0].body.removeChild(f),y._viewport.appendChild(i),d.element(i)},function(a){b[0].body.removeChild(a)})};var q=e;f.disableNavigation&&(q=Object.getPrototypeOf(e.prototype).constructor);var r=new q({container:k[0].querySelector(".diagram-holder"),width:"100%",height:"100%",canvas:{deferUpdate:!1}}),s=r.get("overlays").show.bind(r.get("overlays"));r.get("overlays").show=function(){r.get("eventBus").fire("overlays.show"),s()};var t=r.get("overlays").hide.bind(r.get("overlays"));r.get("overlays").hide=function(){r.get("eventBus").fire("overlays.hide"),t()};var u=j(function(){r.get("overlays").show()},300),v=r.get("canvas")._viewboxChanged.bind(r.get("canvas")),w=j(function(){v(),r.get("overlays").hide(),u()},0);r.get("canvas")._viewboxChanged=function(){w()};var x=null,y=null;f.$watch("diagramData",function(a){a&&(x=a,m())});var z=function(){f.grabbing=!1,document.removeEventListener("mouseup",z),f.$apply()};f.zoomIn=function(){r.get("zoomScroll").zoom(1,{x:k[0].offsetWidth/2,y:k[0].offsetHeight/2})},f.zoomOut=function(){r.get("zoomScroll").zoom(-1,{x:k[0].offsetWidth/2,y:k[0].offsetHeight/2})},f.resetZoom=function(){y.resized(),y.zoom("fit-viewport","auto")},f.control.resetZoom=f.resetZoom,f.control.refreshZoom=function(){y.resized(),y.zoom(y.zoom(),"auto")}}}}]},{"bpmn-js/lib/NavigatedViewer":"bpmn-js/lib/NavigatedViewer","camunda-bpm-sdk-js/vendor/angular":102}],40:[function(a,b,c){"use strict";var d=a("clipboard"),e='<span ng-transclude></span>\n<a ng-if="!noTooltip"\n   tooltip="{{ tooltipText }}"\n   tooltip-append-to-body="true"\n   ng-class="{\'copy-ok\': copyStatus === true, \'copy-error\': copyStatus === false}"\n   class="glyphicon glyphicon-copy"\n   ng-click="copy()"></a>\n<a ng-if="noTooltip"\n   ng-class="{\'copy-ok\': copyStatus === true, \'copy-error\': copyStatus === false}"\n   class="glyphicon glyphicon-copy"\n   ng-click="copy()"></a>\n';b.exports=["$timeout",function(a){return{transclude:!0,template:e,scope:{value:"=camWidgetClipboard"},link:function(b,c,e){function f(){b.$apply(),h=a(function(){b.copyStatus=null},1200,!0)}var g;b.noTooltip="undefined"!=typeof e.noTooltip,b.copyStatus=null,b.$watch("value",function(){b.tooltipText="Click to copy '"+b.value+"'"});var h;a(function(){var a=c[0].querySelector("a.glyphicon-copy");a&&(g=new d(a,{text:function(){return b.value}}),g.on("success",function(){b.copyStatus=!0,f()}),g.on("error",function(){b.copyStatus=!1,f()}))}),b.$on("$destroy",function(){g&&g.destroy&&g.destroy(),h&&a.cancel(top)})}}}]},{clipboard:"clipboard"}],41:[function(a,b,c){"use strict";var d=a("cmmn-js/lib/NavigatedViewer"),e='<div class="alert alert-danger"\n     ng-if="error">\n  <span>\n    <strong>Could not render diagram:</strong>\n  </span>\n  <span>\n   {{ error.message }}\n  </span>\n</div>\n\n<div ng-show="!error">\n\n  <div ng-if="!loaded" class="placeholder-container">\n    <div class="placeholder-content">\n      <span class="glyphicon glyphicon-refresh animate-spin"></span>\n      <span class="loading-text">Loading diagram</span>\n    </div>\n  </div>\n\n  <div class="diagram-holder" ng-class=\'{"diagram-holder": true, "grab-cursor": !disableNavigation && !grabbing, "djs-cursor-move": !disableNavigation && grabbing}\'></div>\n\n  <div class="actions"></div>\n\n  <div ng-if="!disableNavigation"\n       class="navigation zoom">\n    <button class="btn btn-default in"\n            title="zoom in"\n            ng-click="zoomIn()">\n      <span class="glyphicon glyphicon-plus"></span>\n    </button>\n    <button class="btn btn-default out"\n            title="zoom out"\n            ng-click="zoomOut()">\n      <span class="glyphicon glyphicon-minus"></span>\n    </button>\n  </div>\n\n  <div ng-if="!disableNavigation"\n       class="navigation reset">\n    <button class="btn btn-default"\n            title="reset zoom"\n            ng-click="resetZoom()">\n      <span class="glyphicon glyphicon-screenshot"></span>\n    </button>\n  </div>\n</div>\n';b.exports=["$compile","$location","$rootScope","search","debounce",function(a,b,c,f,g){return{scope:{diagramData:"=",control:"=?",disableNavigation:"&",onLoad:"&",onClick:"&",onMouseEnter:"&",onMouseLeave:"&"},template:e,link:function(e,h){function i(){if(t){e.loaded=!1;var a="object"==typeof t,b=(a?n.importDefinitions:n.importXML).bind(n);b(t,function(b,c){var d=a?function(a){a()}:e.$apply.bind(e);d(function(){return b?void(e.error=b):(e.warn=c,u=n.get("canvas"),l=n.definitions,j(),k(),e.loaded=!0,void e.onLoad())})})}}function j(){if(u){var a=JSON.parse((b.search()||{}).viewbox||"{}")[l.id];a?u.viewbox(a):u.zoom("fit-viewport","auto")}}function k(){var a=n.get("eventBus");a.on("element.click",function(a){e.onClick({element:a.element,$event:a.originalEvent})}),a.on("element.hover",function(a){e.onMouseEnter({element:a.element,$event:a.originalEvent})}),a.on("element.out",function(a){e.onMouseLeave({element:a.element,$event:a.originalEvent})}),a.on("element.mousedown",function(){e.grabbing=!0,document.addEventListener("mouseup",v),e.$apply()}),a.on("canvas.viewbox.changed",g(function(a){var d=JSON.parse((b.search()||{}).viewbox||"{}");d[l.id]={x:a.viewbox.x,y:a.viewbox.y,width:a.viewbox.width,height:a.viewbox.height},f.updateSilently({viewbox:JSON.stringify(d)});var g=c.$$phase;"$apply"!==g&&"$digest"!==g?e.$apply(function(){b.replace()}):b.replace()},500))}var l;e.grabbing=!1,e.disableNavigation=e.$eval(e.disableNavigation),e.control=e.control||{},e.control.highlight=function(a){e.control.addMarker(a,"highlight");var b=a.id||a;h.find('[data-element-id="'+b+'"]>.djs-outline').attr({rx:"14px",ry:"14px"})},e.control.clearHighlight=function(a){e.control.removeMarker(a,"highlight")},e.control.isHighlighted=function(a){return e.control.hasMarker(a,"highlight")},e.control.addMarker=function(a,b){u.addMarker(a,b)},e.control.removeMarker=function(a,b){u.removeMarker(a,b)},e.control.hasMarker=function(a,b){return u.hasMarker(a,b)},e.control.createBadge=function(b,c){var d,f=n.get("overlays");c.html?d=c.html:(d=document.createElement("span"),c.color&&(d.style["background-color"]=c.color),c.tooltip&&(d.setAttribute("tooltip",c.tooltip),d.setAttribute("tooltip-placement","top")),c.text&&d.appendChild(document.createTextNode(c.text)));var g=f.add(b,{position:c.position||{bottom:0,right:0},show:{minZoom:-(1/0),maxZoom:+(1/0)},html:d});return a(d)(e),g},e.control.removeBadges=function(a){n.get("overlays").remove({element:a})},e.control.removeBadge=function(a){n.get("overlays").remove(a)},e.control.getViewer=function(){return n},e.control.scrollToElement=function(a){var b,c,d,e,f=n.get("elementRegistry").get(a),g=u.viewbox();b=Math.max(g.height,f.height),c=Math.max(g.width,f.width),d=Math.min(Math.max(g.x,f.x-g.width+f.width),f.x),e=Math.min(Math.max(g.y,f.y-g.height+f.height),f.y),u.viewbox({x:d,y:e,width:c,height:b})},e.control.getElement=function(a){return n.get("elementRegistry").get(a)},e.control.getElements=function(a){return n.get("elementRegistry").filter(a)},e.loaded=!1,e.control.isLoaded=function(){return e.loaded},e.control.addAction=function(b){var c=h.find(".actions"),d=b.html;c.append(d),a(d)(e)},e.control.addImage=function(a,b,c){var d=u._viewport.image(a,b,c);return d};var m=d;e.disableNavigation&&(m=Object.getPrototypeOf(d.prototype).constructor);var n=new m({container:h[0].querySelector(".diagram-holder"),width:"100%",height:"100%",canvas:{deferUpdate:!1}}),o=n.get("overlays").show.bind(n.get("overlays"));n.get("overlays").show=function(){n.get("eventBus").fire("overlays.show"),o()};var p=n.get("overlays").hide.bind(n.get("overlays"));n.get("overlays").hide=function(){n.get("eventBus").fire("overlays.hide"),p()};var q=g(function(){n.get("overlays").show()},300),r=n.get("canvas")._viewboxChanged.bind(n.get("canvas")),s=g(function(){r(),n.get("overlays").hide(),q()},0);n.get("canvas")._viewboxChanged=function(){s()};var t=null,u=null;e.$watch("diagramData",function(a){a&&(t=a,i())});var v=function(){e.grabbing=!1,document.removeEventListener("mouseup",v),e.$apply()};e.zoomIn=function(){n.get("zoomScroll").zoom(1,{x:h[0].offsetWidth/2,y:h[0].offsetHeight/2})},e.zoomOut=function(){n.get("zoomScroll").zoom(-1,{x:h[0].offsetWidth/2,y:h[0].offsetHeight/2})},e.resetZoom=function(){u.resized(),u.zoom("fit-viewport","auto")},e.control.resetZoom=e.resetZoom,e.control.refreshZoom=function(){u.resized(),u.zoom(u.zoom(),"auto")}}}}]},{"cmmn-js/lib/NavigatedViewer":103}],42:[function(a,b,c){"use strict";var d='<div class="debug">\n  <div class="col-xs-2">\n    <button class="btn btn-default btn-round"\n            ng-click="toggleOpen()"\n            tooltip="{{tooltip}}">\n      <span class="glyphicon"\n            ng-class="{\'glyphicon-eye-open\': !open, \'glyphicon-eye-close\': open}"></span>\n    </button>\n  </div>\n  <div class="col-xs-10"\n       ng-show="open">\n    <span ng-show="extended" cam-widget-clipboard="extendedInfo"\n          no-tooltip>\n      <code>{{ extensionName }}</code>\n    </span>\n    <pre ng-show="extended">{{ extendedInfo }}</pre>\n    <span cam-widget-clipboard="debugged | json "\n          no-tooltip>\n      <code>{{ varName }}</code>\n    </span>\n    <pre>{{ debugged | json }}</pre>\n  </div>\n</div>\n';b.exports=[function(){return{template:d,scope:{debugged:"=",displayName:"=?",extensionName:"@extensionName",open:"@",extendedInfo:"=",tooltip:"@camWidgetDebugTooltip"},link:function(a,b,c){a.varName=c.displayName||c.debugged,a.extended=void 0!==c.extended,a.toggleOpen=function(){a.open=!a.open}}}}]},{}],43:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("dmn-js/lib/NavigatedViewer"),f=a("dmn-js/lib/Modeler"),g=a("../../util/change-dmn-namespace"),h='<div class="alert alert-danger"\n     ng-if="error">\n  <strong>Could not render table:</strong><br/>\n  {{ error.message }}\n</div>\n\n<div ng-show="!error"\n     ng-if="!loaded && !disableLoader"\n     class="placeholder-container">\n  <div class="placeholder-content">\n    Loading table<br />\n    <span class="glyphicon glyphicon-refresh animate-spin"></span>\n  </div>\n</div>\n\n<div ng-show="!error"\n     ng-class="{\n      \'grab-cursor\': isDrd && !grabbing,\n      \'cursor-move\': isDrd && grabbing\n     }"\n     class="table-holder">\n</div>\n\n<div ng-if="!error && !disableNavigation && isDrd">\n  <div class="navigation zoom">\n    <button class="btn btn-default in"\n            title="zoom in"\n            ng-click="zoomIn()">\n      <span class="glyphicon glyphicon-plus"></span>\n    </button>\n    <button class="btn btn-default out"\n            title="zoom out"\n            ng-click="zoomOut()">\n      <span class="glyphicon glyphicon-minus"></span>\n    </button>\n  </div>\n\n  <div class="navigation reset">\n    <button class="btn btn-default"\n            title="reset zoom"\n            ng-click="resetZoom()">\n      <span class="glyphicon glyphicon-screenshot"></span>\n    </button>\n  </div>\n</div>\n';b.exports=["$window",function(a){return{scope:{xml:"=",table:"@",width:"=",height:"=",control:"=?",editMode:"=",showDetails:"=",disableNavigation:"=",enableDrdNavigation:"=",disableLoader:"=",onLoad:"&",onClick:"&",onDblClick:"&"},template:h,link:function(b,c){function h(a,b){var c=p.get("overlays"),d=c.add(a,{position:b.position||{bottom:10,right:10},show:{minZoom:-(1/0),maxZoom:+(1/0)},html:b.html});return d}function i(){if(q){var a=g(q);b.loaded=!1,p.importXML(a,function(a){if(b.isDrd=p.getDecisions().length>1&&!b.table,b.isDrd&&(l=p.get("canvas"),l.zoom("fit-viewport","auto"),b.control.getElements(function(a){return"dmn:Decision"===a.type}).forEach(function(a){l.addMarker(a.id,"decision-element")})),b.table){var c=p.getDecisions(),d=/^[0-9]+$/.test(b.table);b.table=d?+b.table:b.table,c.forEach(function(a,b){j(a,b)&&p.showDecision(a)})}b.$apply(function(){return a?void(b.error=a):(b.loaded=!0,void b.onLoad())})})}}function j(a,c){return!!(d.isString(b.table)&&a.id===b.table||a.name===b.table)||b.table===c}function k(){l&&(l.resized(),l.zoom("fit-viewport","auto"))}var l,m=a.document;b.isDrd=!1,b.grabbing=!1,b.control=b.control||{},b.control.getViewer=function(){return p},b.control.getElement=function(a){return p.get("elementRegistry").get(a)},b.loaded=!1,b.control.isLoaded=function(){return b.loaded},b.control.highlightRow=function(a,b){var c=p.table,e=c.get("elementRegistry");c.get("eventBus").on("row.render",function(c){c.data.id===a&&d.element(c.gfx).addClass(b)}),c.get("graphicsFactory").update("row",e.get(a),e.getGraphics(a))},b.control.highlightElement=function(a){l&&p.get("elementRegistry").get(a)&&(l.addMarker(a,"highlight"),c.find('[data-element-id="'+a+'"]>.djs-outline').attr({rx:"14px",ry:"14px"}))},b.control.clearAllElementsHighlight=function(){if(l){var a=l.getRootElement().children;a.forEach(function(a){var b=a.id;l.hasMarker(b,"highlight")&&l.removeMarker(b,"highlight")})}},b.control.clearElementHighlight=function(a){l&&l.removeMarker(a,"highlight")},b.control.isElementHighlighted=function(a){if(l)return l.hasMarker(a,"highlight")},b.control.getElements=function(a){if(l)return p.get("elementRegistry").filter(a)},b.control.createBadge=function(a,b){l&&h(a,b)},b.control.resetZoom=k,b.control.refreshZoom=function(){l.resized(),l.zoom(l.zoom(),"auto")};var n;n=b.editMode?f:e;var o=c[0].querySelector(".table-holder"),p=new n({container:o,width:b.width,height:b.height,hideDetails:!b.showDetails,disableDrdInteraction:!b.enableDrdNavigation}),q=null;b.$watch("xml",function(a){a&&(q=a,i())}),p.on("element.click",function(a){b.$apply(function(){b.onClick({element:a.element,$event:a.originalEvent})})}),p.on("element.dblclick",function(a){b.$apply(function(){b.onDblClick({element:a.element,$event:a.originalEvent})})}),p.on("view.switch",function(a){b.$apply(function(){b.isDrd=a.fromTable})});var r=b.$apply.bind(b,function(){b.grabbing=!1,m.removeEventListener("mouseup",r)});p.on("element.mousedown",b.$apply.bind(b,function(){b.grabbing=!0,m.addEventListener("mouseup",r)})),b.zoomIn=function(){p.get("zoomScroll").zoom(1,{x:c[0].offsetWidth/2,y:c[0].offsetHeight/2})},b.zoomOut=function(){p.get("zoomScroll").zoom(-1,{x:c[0].offsetWidth/2,y:c[0].offsetHeight/2})},b.resetZoom=k,a.addEventListener("resize",b.resetZoom),b.$on("destroy",function(){a.removeEventListener("resize",b.resetZoom),m.removeEventListener("mouseup",r)})}}}]},{"../../util/change-dmn-namespace":34,"camunda-bpm-sdk-js/vendor/angular":102,"dmn-js/lib/Modeler":"dmn-js/lib/Modeler","dmn-js/lib/NavigatedViewer":337}],44:[function(a,b,c){"use strict";var d='<div class="container-fluid">\n  <div class="row">\n    <div class="col-xs-12">\n      Powered by <a href="http://camunda.org">camunda BPM</a> /\n      <span class="version">{{version}}</span>\n    </div>\n  </div>\n</div>\n';b.exports=[function(){return{template:d,scope:{version:"@"}}}]},{}],45:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e='<div class="navbar-header">\n  <button type="button"\n          class="navbar-toggle"\n          ng-class="{open: !!navbarOpen}"\n          ng-click="navbarOpen = !navbarOpen">\n    <em class="sr-only">{{ toggleNavigation }}</em>\n    <span></span>\n    <span></span>\n    <span></span>\n  </button>\n\n  <a class="navbar-brand"\n     href="#/"\n     title="{{ brandName }} {{ appName }}">\n    <span class="brand-logo"></span>\n    <span class="brand-name" ng-cloak>{{ brandName }}</span>\n  </a>\n\n  <div class="small-screen-warning">\n    <span class="glyphicon glyphicon-exclamation-sign"\n          tooltip="{{ smallScreenWarning }}"\n          tooltip-placement="bottom"></span>\n  </div>\n</div>\n\n<nav class="cam-nav app-menu">\n  <ul ng-class="{collapse: !navbarOpen}">\n\n    <li engine-select></li>\n\n    <li class="account dropdown"\n        ng-if="authentication.name"\n        ng-cloak>\n      <a href\n         class="dropdown-toggle">\n        <span class="glyphicon glyphicon-user "></span>\n        {{ (userName || authentication.name) }}\n      </a>\n\n      <ul class="dropdown-menu dropdown-menu-right">\n        <li class="profile"\n            ng-if="currentApp !== \'welcome\'">\n          <a ng-href="{{ \'../../welcome/:engine/\' | uri }}">\n            {{ myProfile }}\n          </a>\n        </li>\n\n        <li class="divider"\n            ng-if="currentApp !== \'welcome\'"></li>\n\n        <li class="logout">\n          <a href\n             ng-click="logout()">\n            {{ signOut }}\n          </a>\n        </li>\n      </ul>\n    </li>\n\n    <li class="divider-vertical"\n        ng-if="authentication.name"\n        ng-cloak></li>\n\n    <li class="app-switch dropdown"\n        ng-if="showAppDropDown">\n      <a href\n         class="dropdown-toggle">\n        <span class="glyphicon glyphicon-home"></span>\n        <span class="caret"></span>\n      </a>\n\n      <ul class="dropdown-menu dropdown-menu-right">\n        <li ng-repeat="(appName, app) in apps"\n            ng-class="appName">\n          <a ng-href="{{ \'../../\' + appName + \'/:engine/\' | uri }}">\n            {{ app.label }}\n          </a>\n        </li>\n      </ul>\n    </li>\n  </ul>\n</nav>\n\n<div ng-transclude\n     class="sections-menu"\n     ng-class="{collapse: !navbarOpen}"></div>\n',f={welcome:{label:"Welcome"},admin:{label:"Admin"},cockpit:{label:"Cockpit"},tasklist:{label:"Tasklist"}};b.exports=[function(){return{transclude:!0,template:e,scope:{authentication:"=",userName:"=?",currentApp:"@",signOut:"@?",toggleNavigation:"@?",myProfile:"@?",smallScreenWarning:"@?",brandName:"@"},compile:function(a,b){b.toggleNavigation||(b.toggleNavigation="Toggle navigation"),b.myProfile||(b.myProfile="My profile"),b.signOut||(b.signOut="Sign out"),b.brandName||(b.brandName="Camunda"),b.smallScreenWarning||(b.smallScreenWarning="This application is conceived for larger screens.")},controller:["$scope","AuthenticationService",function(a,b){function c(){var b=d.copy(f);a.currentApp&&("welcome"===a.currentApp&&a.authentication?b={}:delete b[a.currentApp]),a.authentication&&a.authentication.name&&(delete b.welcome,Object.keys(b).forEach(function(c){a.authentication.authorizedApps.indexOf(c)<0&&delete b[c]})),a.showAppDropDown=Object.keys(b).length>0,a.apps=b}a.logout=b.logout,a.$watch("currentApp",c),a.$watch("authentication",c)}]}}]},{"camunda-bpm-sdk-js/vendor/angular":102}],46:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("./inline-field/cam-widget-inline-field"),f=a("./search-pill/cam-widget-search-pill"),g=a("./search-pill/cam-query-component"),h=a("./header/cam-widget-header"),i=a("./footer/cam-widget-footer"),j=a("./loader/cam-widget-loader"),k=a("./debug/cam-widget-debug"),l=a("./clipboard/cam-widget-clipboard"),m=a("./variable/cam-widget-variable"),n=a("./variables-table/cam-widget-variables-table"),o=a("./variables-table/cam-render-var-template"),p=a("./search/cam-widget-search"),q=a("./bpmn-viewer/cam-widget-bpmn-viewer"),r=a("./cmmn-viewer/cam-widget-cmmn-viewer"),s=a("./dmn-viewer/cam-widget-dmn-viewer"),t=a("../filter/date/index"),u=a("../directives/index"),v=a("../search/index"),w=a("./variable/cam-variable-validator");a("../../vendor/ui-bootstrap-tpls-0.11.2-camunda");var x=d.module("camunda.common.widgets",[t.name,u.name,v.name,"ui.bootstrap"]);x.directive("camWidgetInlineField",e),x.directive("camWidgetSearchPill",f),x.directive("camWidgetHeader",h),x.directive("camWidgetFooter",i),x.directive("camWidgetLoader",j),x.directive("camWidgetDebug",k),x.directive("camWidgetClipboard",l),x.directive("camWidgetVariable",m),x.directive("camWidgetVariablesTable",n),x.directive("camRenderVarTemplate",o),x.directive("camWidgetSearch",p),x.directive("camWidgetBpmnViewer",q),x.directive("camWidgetCmmnViewer",r),x.directive("camWidgetDmnViewer",s),x.directive("camVariableValidator",w),x.filter("camQueryComponent",g),b.exports=x},{"../../vendor/ui-bootstrap-tpls-0.11.2-camunda":711,"../directives/index":12,"../filter/date/index":18,"../search/index":26,"./bpmn-viewer/cam-widget-bpmn-viewer":39,"./clipboard/cam-widget-clipboard":40,"./cmmn-viewer/cam-widget-cmmn-viewer":41,"./debug/cam-widget-debug":42,"./dmn-viewer/cam-widget-dmn-viewer":43,"./footer/cam-widget-footer":44,"./header/cam-widget-header":45,"./inline-field/cam-widget-inline-field":47,"./loader/cam-widget-loader":48,"./search-pill/cam-query-component":49,"./search-pill/cam-widget-search-pill":50,"./search/cam-widget-search":51,"./variable/cam-variable-validator":53,"./variable/cam-widget-variable":54,"./variables-table/cam-render-var-template":55,"./variables-table/cam-widget-variables-table":56,"camunda-bpm-sdk-js/vendor/angular":102}],47:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("jquery"),f='<span ng-show="!editing"\n      ng-click="startEditing()"\n      ng-transclude\n      class="view-value">\n</span>\n\n<span ng-if="editing && (varType === \'datetime\' || varType === \'date\' || varType === \'time\')"\n      class="preview">\n  {{ dateValue | camDate }}\n</span>\n\n<span ng-if="editing"\n      class="edit">\n\n  <input ng-if="simpleField"\n         class="form-control"\n         type="{{ varType }}"\n         ng-model="editValue"\n         ng-keydown="handleKeydown($event)"\n         placeholder="{{ placeholder }}" />\n\n  <span ng-show="varType === \'datetime\' || varType === \'date\' || varType === \'time\'"\n        class="cam-widget-inline-field field-control">\n\n    <datepicker class="datepicker"\n                ng-if="varType === \'datetime\' || varType === \'date\'"\n                type="text"\n                ng-required="true"\n                is-open="datePickerOptions.isOpen"\n                show-button-bar="false"\n                ng-keydown="trapKeyboard($event, true); cancelOnEsc($event);"\n\n                ng-model="dateValue"\n                ng-change="changeDate(this)"></datepicker>\n\n    <timepicker class="timepicker"\n                ng-if="varType === \'datetime\' || varType === \'time\'"\n                show-meridian="false"\n\n                ng-model="dateValue"\n                ng-keydown="cancelOnEsc($event);"\n                ng-change="changeDate(this)"></timepicker>\n  </span>\n\n  <input ng-if="varType === \'option\' && options[0].value"\n         class="form-control"\n         type="text"\n         ng-model="editValue"\n         ng-keydown="handleKeydown($event)"\n         typeahead="option as option.value for option in options | filter:$viewValue:instantTypeahead"\n         typeahead-on-select="saveSelection($item)"\n         instant-typeahead />\n  <input ng-if="varType === \'option\' && !options[0].value"\n         class="form-control"\n         type="text"\n         ng-model="editValue"\n         ng-keydown="handleKeydown($event)"\n         typeahead="option for option in options | filter:$viewValue:instantTypeahead"\n         typeahead-on-select="saveSelection($item)"\n         instant-typeahead />\n\n  <span ng-show="varType !== \'option\'"\n        class="cam-widget-inline-field btn-group">\n    <button type="button"\n            class="btn btn-xs btn-default"\n            ng-click="changeType()"\n            ng-if="flexible">\n      <span class="glyphicon"\n            ng-class="\'glyphicon-\' + (varType === \'text\' ? \'calendar\' : \'pencil\')"></span>\n    </button>\n\n    <button type="button"\n            class="btn btn-xs btn-default"\n            ng-click="applyChange($event);"\n            ng-keydown="cancelOnEsc($event);">\n      <span class="glyphicon glyphicon-ok"></span>\n    </button>\n\n    <button type="button"\n            class="btn btn-xs btn-default"\n            ng-click="cancelChange($event)"\n            ng-keydown="trapKeyboard($event); cancelOnEsc($event);">\n      <span class="glyphicon glyphicon-remove"></span>\n    </button>\n  </span>\n</span>\n';b.exports=["$timeout","$filter","$document",function(a,b,c){return{scope:{varValue:"=value",varType:"@type",validator:"&validate",change:"&",onStart:"&onStartEditing",onCancel:"&onCancelEditing",placeholder:"@",options:"=?",allowNonOptions:"@",flexible:"@"},template:f,link:function(f,g){function h(a){var b,c,d,e,f,g,h,i=w.exec(a);if(i)return b=parseInt(i[1]||0,10),c=parseInt(i[2]||0,10)-1,d=parseInt(i[3]||0,10),e=parseInt(i[4]||0,10),f=parseInt(i[5]||0,10),g=parseInt(i[6]||0,10),h=parseInt(i[7]||0,10),new Date(b,c,d,e,f,g,h)}function i(){return["datetime","date","time"].indexOf(f.varType)>-1}function j(){return["color","email","month","number","range","tel","text","time","url","week"].indexOf(f.varType)>-1}function k(){if(f.editing=!1,f.invalid=!1,f.editValue=f.varValue,f.validator=f.validator||function(){},f.onStart=f.onStart||function(){},f.onCancel=f.onCancel||function(){},f.change=f.change||function(){},f.options=f.options||[],f.allowNonOptions=f.allowNonOptions||!1,f.flexible=f.flexible||!1,f.varType=f.varType?f.varType:"text",f.simpleField=j(),i()){var a=f.varValue,b=null;b=a?h(a):Date.now(),f.dateValue=b}}function l(a){if(!a||!a.length)return!1;var b=a.parent();return!(!b||!b.length)&&"body"===b[0].tagName.toLowerCase()}function m(){var a=e(g).offset();if(i()?r.addClass("datepicker-control").show().css({left:a.left+(s.outerWidth()-r.outerWidth()),top:a.top+s.outerHeight()}):r.removeClass("datepicker-control").show().css({left:a.left+(e(g).outerWidth()-r.outerWidth()),top:a.top-r.outerHeight()}),s.show().css({left:a.left,top:a.top+e(g).outerHeight()}),i()){var b=s[0].querySelector(".cam-widget-inline-field.field-control > .datepicker > table");b&&b.focus()}}function n(){s=(s&&s.length?s:e(g[0].querySelector(".field-control"))).hide(),l(s)||t.append(s),r=(r&&r.length?r:e(g[0].querySelector(".btn-group"))).hide(),l(r)||t.append(r),a(m,50)}function o(b){a(function(){f.editing&&!b||(r&&r.remove&&r.remove(),r=null,s&&s.remove&&s.remove(),s=null)},50)}function p(a){return g[0].contains(a.target)||r&&r.length&&r[0].contains(a.target)||s&&s.length&&s[0].contains(a.target)}function q(a){if(f.editing&&!p(a)){var b=e(a.target),c="ng-binding text-muted";if(!b.hasClass(c)){var d=b.children();d.hasClass(c)||f.$apply(f.cancelChange)}}}var r,s,t=e("body"),u=b("date"),v="yyyy-MM-dd'T'HH:mm:ss",w=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(?:.(\d\d\d)| )?$/;f.editing=!1,f.$on("$locationChangeSuccess",function(){f.cancelChange()}),f.$on("$destroy",function(){o(!0)}),f.$watch("editing",function(a,b){a!==b&&(f.editing?(n(),g.addClass("inline-editing")):(o(),g.removeClass("inline-editing")))}),f.changeType=function(){"datetime"===f.varType?f.varType="text":f.varType="datetime",k(),f.editing=!0,g[0].attributes.type.value=f.varType,f.simpleField=j()},f.startEditing=function(){if(!f.editing){k(),f.editing=!0,f.onStart(f);var b=f.editValue;f.editValue="",a(function(){a(function(){d.element(g[0].querySelector('[ng-model="editValue"]')).triggerHandler("input"),f.editValue=b,b&&a(function(){for(var a="object"==typeof b?b.value:b,c=e(g[0].querySelector("li[ng-mouseenter]")),d=0;d<c.length;d++){var f=c[d];if(0===f.innerText.indexOf(a))return void e(f).trigger("mouseenter")}})})}),a(function(){e('[ng-model="editValue"]').focus(),e('[ng-model="editValue"]').select(),c.bind("click",q)},50)}},f.applyChange=function(a,b){if(f.invalid=f.validator(f),!f.invalid){if(f.simpleField)f.editValue=e('[ng-model="editValue"]').val(),f.varValue=f.editValue;else if("option"===f.varType){if(f.options.indexOf(a)===-1&&!f.allowNonOptions)return void f.cancelChange();f.editValue=a||e('[ng-model="editValue"]').val(),f.varValue=f.editValue}else i()&&(f.varValue=u(f.dateValue,v));f.$event=b,f.change(f),f.editing=!1,c.unbind("click",q)}},f.cancelChange=function(){f.editing&&(f.editing=!1,f.onCancel(f),c.unbind("click",q))},f.changeDate=function(a){f.editValue=f.dateValue=a.dateValue},f.selectNextInlineField=function(b){for(var c=e("[cam-widget-inline-field][type='text'], [cam-widget-inline-field][type='option']"),d=b*(c.length-1);d!==!b*(c.length-1);d+=2*!b-1)if(c[d]===g[0])return void a(function(){var f=e(c[d+2*!b-1]);f.find(".view-value").click(),a(function(){f.find("input").select()})});a(function(){e(c[b*c.length-1]).find(".view-value").click()})},f.trapKeyboard=function(a,b){i()&&9===a.keyCode&&(b||a.shiftKey?b&&a.shiftKey&&(e('.cam-widget-inline-field.btn-group > button[ng-click="cancelChange($event)"]')[0].focus(),a.preventDefault()):(e(".cam-widget-inline-field.field-control > .datepicker > table")[0].focus(),a.preventDefault()))},f.cancelOnEsc=function(a){i()&&27===a.keyCode&&f.cancelChange()},
f.handleKeydown=function(a){13===a.keyCode?(f.applyChange(f.selection,a),a.preventDefault()):27===a.keyCode?(f.cancelChange(a),a.preventDefault()):9===a.keyCode&&(f.applyChange(f.selection,a),f.selectNextInlineField(a.shiftKey),a.preventDefault()),f.selection=null},f.selection=null,f.saveSelection=function(b){f.selection=b,a(function(){f.selection===b&&f.applyChange(b)})}},transclude:!0}}]},{"camunda-bpm-sdk-js/vendor/angular":102,jquery:"jquery"}],48:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e='<div class="loader-state loaded"\n     ng-show="loadingState === \'LOADED\'"\n     ng-transclude></div>\n\n<div class="loader-state loading"\n     ng-if="loadingState === \'LOADING\'">\n  <span class="glyphicon glyphicon-refresh animate-spin"></span>\n  {{ textLoading }}\n</div>\n\n<div class="loader-state empty"\n     ng-if="loadingState === \'EMPTY\'">\n  {{ textEmpty }}\n</div>\n\n<div class="loader-state alert alert-danger"\n     ng-if="loadingState === \'ERROR\'">\n  {{ textError }}\n</div>\n';b.exports=[function(){return{transclude:!0,template:e,scope:{loadingState:"@",textEmpty:"@",textError:"@",textLoading:"@"},compile:function(a,b){d.isDefined(b.textLoading)||(b.textLoading="Loading…"),d.isDefined(b.loadingState)||(b.loadingState="INITIAL")}}}]},{"camunda-bpm-sdk-js/vendor/angular":102}],49:[function(a,b,c){"use strict";b.exports=["$filter",function(a){function b(a){return a.match(c)}var c=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(?:.(\d\d\d)| )?$/,d=a("camDate");return function(a){return a&&b(a)?d(a):a?a:"??"}}]},{}],50:[function(a,b,c){"use strict";var d=a("jquery"),e='<!-- CE # camunda-commons-ui/lib/widgets/search-pill/search-pill.html -->\n<span class="search-label"\n      ng-class="{\'invalid\': !valid}">\n  <a href\n     ng-click="onDelete()"\n     tooltip-placement="top"\n     tooltip="{{ deleteText }}"\n     class="remove-search glyphicon glyphicon-remove">\n  </a>\n\n  <span cam-widget-inline-field\n        class="set-value type-field"\n        tabindex="0"\n        ng-keydown="onKeydown($event, \'type\')"\n        type="option"\n        options="type.values"\n        change="changeSearch(\'type\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'type\')"\n        value="type.value">\n    <span ng-if="type.tooltip"\n          tooltip-placement="top"\n          tooltip="{{type.tooltip}}">\n      {{ type.value.value | camQueryComponent }}\n    </span>\n    <span ng-if="!type.tooltip">\n      {{ type.value.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if="extended">:</span>\n\n  <span ng-if="extended && potentialNames.length <= 0 && !!name.value.value"\n        cam-widget-inline-field\n        class="set-value name-field"\n        type="text"\n        tabindex="0"\n        ng-keydown="onKeydown($event,\'name\')"\n        change="changeSearch(\'name\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'name\')"\n        value="name.value.value">\n    <span ng-if="name.tooltip"\n          tooltip-placement="top"\n          tooltip="{{name.tooltip}}">\n        {{ name.value.value | camQueryComponent }}\n    </span>\n    <span ng-if="!name.tooltip">\n        {{ name.value.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if="extended && potentialNames.length <= 0 && !name.value.value"\n        cam-widget-inline-field\n        class="set-value name-field"\n        tabindex="0"\n        ng-keydown="onKeydown($event, \'name\')"\n        type="text"\n        change="changeSearch(\'name\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'name\')"\n        value="name.value">\n    <span ng-if="name.tooltip"\n          tooltip-placement="top"\n          tooltip="{{name.tooltip}}">\n        {{ name.value | camQueryComponent }}\n    </span>\n    <span ng-if="!name.tooltip">\n        {{ name.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if="extended && potentialNames.length > 0"\n        cam-widget-inline-field\n        class="set-value name-field"\n        tabindex="0"\n        ng-keydown="onKeydown($event, \'name\')"\n        type="option"\n        options="potentialNames"\n        allow-non-options="true"\n        change="changeSearch(\'name\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'name\')"\n        value="name.value">\n    <span ng-if="extended && name.tooltip && name.value.key">\n      {{ name.value.value | camQueryComponent }}\n    </span>\n    <span ng-if="extended && name.tooltip && !name.value.key">\n      {{ name.value | camQueryComponent }}\n    </span>\n    <span ng-if="extended && !name.tooltip && name.value.key">\n      {{ name.value.value | camQueryComponent }}\n    </span>\n    <span ng-if="extended && !name.tooltip && !name.value.key">\n      {{ name.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if="!basic && operator.values.length > 1"\n        cam-widget-inline-field\n        class="set-value operator-field"\n        tabindex="0"\n        ng-keydown="onKeydown($event, \'operator\')"\n        type="option"\n        options="operator.values"\n        change="changeSearch(\'operator\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'operator\')"\n        value="operator.value">\n    <span ng-if="operator.tooltip"\n          tooltip-placement="top"\n          tooltip="{{operator.tooltip}}">\n      {{ operator.value.value | camQueryComponent }}\n    </span>\n    <span ng-if="!operator.tooltip">\n      {{ operator.value.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if="operator.values.length < 2 && operator.tooltip"\n        tooltip-placement="top"\n        tooltip="{{operator.tooltip}}"\n        class="operator-field">\n    {{ operator.value.value | camQueryComponent }}\n  </span>\n  <span ng-if="operator.values.length < 2 && !operator.tooltip"\n        class="operator-field">\n    {{ operator.value.value | camQueryComponent }}\n  </span>\n\n  <span cam-widget-inline-field\n        class="set-value value-field"\n        tabindex="0"\n        ng-keydown="onKeydown($event, \'value\')"\n        type="{{ valueType }}"\n        change="changeSearch(\'value\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'value\')"\n        ng-if="!basic"\n        options="options"\n        value="value.value"\n        flexible="{{ allowDates }}">\n    <span class="visible-whitespace"\n          ng-if="value.tooltip"\n          tooltip-placement="top"\n          tooltip="{{value.tooltip}}">{{ value.value | camQueryComponent }}</span>\n    <span class="visible-whitespace"\n          ng-if="!value.tooltip">{{ value.value | camQueryComponent }}</span>\n  </span>\n</span>\n<!-- CE / camunda-commons-ui/lib/widgets/search-pill/search-pill.html -->\n';b.exports=["$timeout",function(a){return{restrict:"A",scope:{valid:"=",extended:"=",basic:"=",allowDates:"=",enforceDates:"=",enforceString:"=",options:"=",invalidText:"@",deleteText:"@",type:"=",name:"=",potentialNames:"=?",operator:"=",value:"=",onChange:"&",onDelete:"&"},link:function(b,c){function e(){return b.options?"option":b.enforceDates?"datetime":"text"}b.valueType=e(),b.potentialNames=b.potentialNames||[],b.changeSearch=function(a,c,d){var e=b[a].value;b[a].value=c,b[a].inEdit=!1,"function"==typeof b.onChange&&b.onChange({field:a,before:e,value:c,$event:d})},b.clearEditTrigger=function(a){b[a].inEdit=!1},b.onKeydown=function(a,c){13===a.keyCode&&a.target===a.currentTarget&&(b[c].inEdit=!0)},b.$watch("allowDates",function(a){a||(b.valueType=e())}),b.$watch("enforceDates",function(a){a&&(b.valueType=e())}),b.$watch("enforceString",function(a){a&&(b.valueType=e())});var f=function(b){a(function(){d(c[0].querySelectorAll("[cam-widget-inline-field][value='"+b+".value']")).find(".view-value").click()})};b.$watch("value",function(a){return a&&a.inEdit&&f("value")},!0),b.$watch("name",function(a){return a&&a.inEdit&&f("name")},!0),b.$watch("type",function(a){return a&&a.inEdit&&f("type")},!0),b.$watch("operator",function(a){return a&&!a.value&&1===a.values.length&&(a.value=a.values[0]),a&&a.inEdit&&f("operator")},!0)},template:e}}]},{jquery:"jquery"}],51:[function(a,b,c){"use strict";function d(a){return a&&"string"==typeof a&&a.match(h)?"date":typeof a}var e=a("camunda-bpm-sdk-js/vendor/angular"),f=a("jquery"),g='<form class="search-field"\n      ng-submit="createSearch()"\n      ng-class="{\'has-search\': searches.length}">\n\n  <div class="form-container search-container"\n       ng-class="{\'has-icon\': !!mode}">\n    <span ng-if="mode"\n          class="search-type glyphicon"\n          ng-class="\'glyphicon-\' + mode"></span>\n    <span cam-widget-search-pill\n          ng-repeat="search in searches"\n          extended="search.extended"\n          basic="search.basic"\n          allow-dates="search.allowDates"\n          enforce-dates="search.enforceDates"\n          valid="search.valid"\n          name="search.name"\n          potential-names="search.potentialNames"\n          type="search.type"\n          operator="search.operator"\n          value="search.value"\n          options="search.options"\n          invalid-text="{{ translations.invalid }}"\n          delete-text="{{ translations.deleteSearch }}"\n          on-change="handleChange($index, field, before, value, $event)"\n          on-delete="deleteSearch($index)"></span>\n    <input class="form-control main-field"\n           type="text"\n           ng-model="inputQuery"\n           ng-keydown="onKeydown($event)"\n           typeahead="type as type.value for type in dropdownTypes | filter:$viewValue:instantTypeahead"\n           typeahead-on-select="createSearch($item)"\n           instant-typeahead />\n  </div>\n</form>\n',h=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(?:.(\d\d\d)| )?$/,i=function(a){return a.type.value&&(!a.extended||a.name.value)&&(a.basic||a.operator.value)&&(a.basic||a.value.value)&&("date"===d(a.value.value)||!a.enforceDates)},j=function(a){if(!a.value)return void(a.value=a.values[0]);var b=a.values.map(function(a){return a.key}).indexOf(a.value.key);a.value=a.values[b===-1?0:b]},k=function(a,b){return b?""+a:isNaN(a)||""===a.trim()?"true"===a||"false"!==a&&("NULL"===a?null:a):+a},l=!1;b.exports=["$timeout","$location","search",function(a,b,c){var h=function(b){a(function(){var c=document.createElement("input");c.setAttribute("type","text"),c.setAttribute("placeholder","set");var d=!1;c.addEventListener("input",function(){d=!0}),document.body.appendChild(c),c.focus(),document.body.removeChild(c),a(function(){b(d)})},0,!1)};return{restrict:"A",scope:{types:"=camWidgetSearchTypes",translations:"=camWidgetSearchTranslations",operators:"=camWidgetSearchOperators",searches:"=?camWidgetSearchSearches",validSearches:"=?camWidgetSearchValidSearches",mode:"@?camWidgetSearchMode",searchId:"@camWidgetSearchId"},link:function(g,m){h(function(a){if(a){var b=document.createElement("div");b.textContent=g.translations.inputPlaceholder+":",m[0].insertBefore(b,m[0].firstChild),g.$root.$broadcast("plugin:search:change")}else m[0].querySelector("input.main-field").setAttribute("placeholder",g.translations.inputPlaceholder)});var n=g.searchId||"search";g.searchTypes=g.types.map(function(a){return a.id});var o=g.types.reduce(function(a,b){return a||(b["default"]?b:null)},null),p=function(){var a=g.searches.map(function(a){return a.type.value.key}).reduce(function(a,b){return a.indexOf(b)===-1&&a.push(b),a},[]),b=a.map(function(a){return q(a).groups}).filter(function(a){return!!a}).reduce(function(a,b){if(a){if(0===a.length)return e.copy(b);for(var c=0;c<a.length;c++)b.indexOf(a[c])===-1&&(a.splice(c,1),c--);return 0===a.length?null:a}return null},[]);return null===b?[]:0===b.length?g.searchTypes:g.searchTypes.filter(function(a){var c=q(a.key).groups;if(!c)return!0;for(var d=0;d<c.length;d++)if(b.indexOf(c[d])>-1)return!0;return!1})},q=function(a){return g.types.reduce(function(b,c){return b||(c.id.key===a?c:null)},null)},r=function(a,b){return a.operators||g.operators[d(k(b,a.enforceString))]},s=function(){var a=JSON.parse((b.search()||{})[n+"Query"]||"[]"),c=[];return e.forEach(a,function(a){var b=q(a.type);if(b){var d={extended:b.extended,basic:b.basic,type:{values:p(),value:p().reduce(function(b,c){return b||(c.key===a.type?c:null)},null),tooltip:g.translations.type},name:{value:a.name,tooltip:g.translations.name},options:b.options,operator:{tooltip:g.translations.operator},value:{value:a.value,tooltip:g.translations.value},allowDates:b.allowDates,enforceDates:b.enforceDates,potentialNames:b.potentialNames||[],enforceString:b.enforceString};d.operator.values=r(b,d.value.value),d.operator.value=d.operator.values.reduce(function(b,c){return b||(c.key===a.operator?c:null)},null),d.valid=i(d),c.push(d)}}),c};g.searches=g.searches||[],g.searches=s(),g.validSearchesBuffer=g.searches.reduce(function(a,b){return b.valid&&a.push(b),a},[]),g.validSearches=e.copy(g.validSearchesBuffer);var t=function(a,b){var c=g.searches[a];if(!c.valid){if(c.extended&&!c.name.value&&"name"!==b)return void(c.name.inEdit=!0);if("value"!==b)return void(c.value.inEdit=!0)}for(var d=1;d<g.searches.length;d++){var e=(d+a)%g.searches.length;if(c=g.searches[e],!c.valid)return void(c.extended&&!c.name.value?c.name.inEdit=!0:c.value.inEdit=!0)}};g.createSearch=function(b){if(b||g.inputQuery){var c=b?"":g.inputQuery;b=b&&q(b.key)||o;var d=r(b,c);g.searches.push({extended:b.extended,basic:b.basic,type:{values:p(),value:b.id,tooltip:g.translations.type},name:{value:"",inEdit:b.extended,tooltip:g.translations.name},operator:{value:d[0],values:d,tooltip:g.translations.operator},options:b.options,value:{value:c,inEdit:!b.extended&&!c,tooltip:g.translations.value},allowDates:b.allowDates,enforceDates:b.enforceDates,potentialNames:b.potentialNames,enforceString:b.enforceString});var e=g.searches[g.searches.length-1];e.valid=i(e),c?g.inputQuery="":a(function(){a(function(){g.inputQuery="",f(m[0].querySelector(".search-container > input")).blur()})})}},g.deleteSearch=function(b){g.searches.splice(b,1),a(function(){f(m[0].querySelector(".search-container > input")).focus()})},g.handleChange=function(b,c,d,e,h){var k,l=g.searches[b];"type"===c?(k=q(e.key),l.extended=k.extended,l.basic=k.basic,l.allowDates=k.allowDates,!l.enforceDates&&k.enforceDates&&(l.value.value=""),l.enforceDates=k.enforceDates,l.operator.values=r(k,l.value.value),j(l.operator)):"value"===c&&(b===g.searches.length-1&&a(function(){f(m[0].querySelector(".search-container > input")).focus()}),k=q(l.type.value.key),k.operators||(l.operator.values=r(k,l.value.value),j(l.operator))),l.valid=i(l),h&&13===h.keyCode&&t(b,c)},g.onKeydown=function(b){[38,40,13].indexOf(b.keyCode)!==-1&&0===f(m[0].querySelectorAll(".dropdown-menu")).length&&a(function(){e.element(b.target).triggerHandler("input")})};var u=function(a){var b=[];return e.forEach(a,function(a){b.push({type:a.type.value.key,operator:a.operator.value.key,value:a.value.value,name:a.name.value})}),b},v=function(){var d=g.searches;e.forEach(d,function(a){a.valid&&g.validSearchesBuffer.indexOf(a)===-1&&g.validSearchesBuffer.push(a)}),e.forEach(g.validSearchesBuffer,function(a,b){a.valid&&d.indexOf(a)!==-1||g.validSearchesBuffer.splice(b,1)});var f={};f[n+"Query"]=JSON.stringify(u(g.validSearchesBuffer)),l=!0,c.updateSilently(f,!b.search()[n+"Query"]),a(function(){l=!1}),x()};g.$watch("searches",v,!0),g.$on("$locationChangeSuccess",function(){if(!l&&b.search().hasOwnProperty(n+"Query")){var a=s();e.equals(a,g.validSearchesBuffer)||(e.forEach(g.searches,function(b){b.valid||a.push(b)}),g.validSearchesBuffer=[],g.searches=a)}});var w;g.$watch("validSearchesBuffer",function(){a.cancel(w),w=a(function(){g.validSearches=e.copy(g.validSearchesBuffer)})},!0);var x=function(){var a=p();g.dropdownTypes=a;for(var b=0;b<g.searches.length;b++)g.searches[b].type.values=a};g.$watch("types",function(){g.searchTypes=g.types.map(function(a){return a.id}),g.dropdownTypes=p(),e.forEach(g.searches,function(a){a.potentialNames=q(a.type.value.key).potentialNames||[]})},!0),g.dropdownTypes=p()},template:g}}]},{"camunda-bpm-sdk-js/vendor/angular":102,jquery:"jquery"}],52:[function(a,b,c){"use strict";function d(a){return a=a||new Date,a.toISOString().slice(0,-5)}var e=a("camunda-bpm-sdk-js/vendor/angular"),f=a("camunda-bpm-sdk-js/lib/forms/type-util"),g='<!-- # CE - camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html -->\n<div class="modal-header">\n  <h3>Inspect "{{ variable.name }}" variable</h3>\n</div>\n\n<div class="modal-body">\n  <div ng-if="readonly"\n       class="form-group">\n    <label>Object type name:</label>\n    <code class="form-control-static"\n          cam-widget-clipboard="variable.valueInfo.objectTypeName">{{ variable.valueInfo.objectTypeName }}</code>\n  </div>\n\n  <div ng-if="readonly"\n       class="form-group">\n    <label>Serialization Data Format:</label>\n    <code class="form-control-static"\n          cam-widget-clipboard="variable.valueInfo.serializationDataFormat">{{ variable.valueInfo.serializationDataFormat }}</code>\n  </div>\n\n  <div ng-if="!readonly"\n       class="form-group">\n    <label for="object-type-name"\n           cam-widget-clipboard="variable.valueInfo.objectTypeName">Object type name</label>\n    <input type="text"\n           id="object-type-name"\n           class="form-control"\n           ng-model="variable.valueInfo.objectTypeName" />\n  </div>\n\n  <div ng-if="!readonly"\n       class="form-group">\n    <label for="serialization-data-format"\n           cam-widget-clipboard="variable.valueInfo.serializationDataFormat">Serialization data format</label>\n    <input type="text"\n           id="serialization-data-format"\n           class="form-control"\n           ng-model="variable.valueInfo.serializationDataFormat" />\n  </div>\n\n  <div class="form-group">\n    <label for="serialized-value"\n           cam-widget-clipboard="variable.value"\n           no-tooltip\n           ng-class="{hovered: hovered === \'var-value\'}">Serialized value</label>\n    <textarea ng-model="variable.value"\n              id="serialized-value"\n              rows="10"\n              class="form-control"\n              ng-readonly="readonly"\n              ng-mouseenter="toggleHover(\'var-value\')"\n              ng-mouseleave="toggleHover()"></textarea>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="$dismiss(\'close\')">\n    Close\n  </button>\n\n  <button class="btn btn-primary"\n          ng-if="!readonly"\n          ng-readonly="!hasChanged(\'serialized\')"\n          ng-click="$close(variable)">\n    Change\n  </button>\n</div>\n<!-- / CE - camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html -->\n',h='<!-- # CE - camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html -->\n<div class="modal-header">\n  <h3>Inspect "{{ variable.name }}" variable</h3>\n</div>\n\n<div class="modal-body">\n  <div class="form-group">\n    <label for="value"\n           cam-widget-clipboard="variable.value"\n           no-tooltip\n           ng-class="{hovered: hovered === \'var-value\'}">\n      Value\n    </label>\n    <textarea ng-model="variable.value"\n              id="value"\n              rows="10"\n              class="form-control cam-string-variable"\n              ng-readonly="readonly"\n              ng-mouseenter="toggleHover(\'var-value\')"\n              ng-mouseleave="toggleHover()"></textarea>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="$dismiss(\'close\')">\n    Close\n  </button>\n</div>\n<!-- / CE - camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html -->\n',i={};i.camundaFormattedDate=d,i.templateDialog=g,i.templateStringDialog=h,i.modalCtrl=["$scope","variable","readonly",function(a,b,c){a.hovered=!1,a.toggleHover=function(b){a.hovered=b},a.variable=b,a.readonly=c;var d=e.copy(b);a.hasChanged=function(){return d.valueInfo=d.valueInfo||{},b.valueInfo=b.valueInfo||{},d.value!==b.value||d.valueInfo.serializationDataFormat!==b.valueInfo.serializationDataFormat||d.valueInfo.objectTypeName!==b.valueInfo.objectTypeName}}],i.typeUtils=f,i.types=["Boolean","Bytes","File","Date","Double","Integer","Long","Null","Object","Short","String"],i.defaultValues={Boolean:!1,Bytes:null,File:null,Date:d(),Double:0,Integer:0,Long:0,Null:"",Short:0,String:"",Object:{}},i.isPrimitive=function(a){return function(b){return!b&&!a.variable||(b=b||a.variable.type,!b||["Boolean","Date","Double","Integer","Long","Short","String"].indexOf(b)>=0)}},i.isBinary=function(a){return function(b){return!(!b&&!a.variable)&&(b=b||a.variable.type,!!b&&["Bytes","File"].indexOf(b)>=0)}},i.useCheckbox=function(a){return function(b){return!(!b&&!a.variable)&&(b=b||a.variable.type,"Boolean"===b)}},i.validate=function(a){return function(){if(a.variable.name&&a.variable.type?null===a.variable.value||["String","Object","Null"].indexOf(a.variable.type)>-1?a.valid=!0:a.valid=f.isType(a.variable.value,a.variable.type):a.valid=!1,a.valid&&a.variable.type&&null!==a.variable.value&&a.isPrimitive(a.variable.type)){var b;b="Boolean"!==a.variable.type?f.convertToType(a.variable.value,a.variable.type):!!a.variable.value&&"false"!==a.variable.value,typeof a.variable.value!=typeof b&&(a.variable.value=b)}}},b.exports=i},{"camunda-bpm-sdk-js/lib/forms/type-util":98,"camunda-bpm-sdk-js/vendor/angular":102}],53:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/lib/forms/type-util");b.exports=[function(){return{require:"ngModel",link:function(a,b,c,e){var f=function(a){var b=c.camVariableValidator;return["String","Object","Null"].indexOf(b)!==-1?e.$setValidity("camVariableValidator",!0):e.$setValidity("camVariableValidator",d.isType(a,b)),a};e.$parsers.unshift(f),e.$formatters.push(f),c.$observe("camVariableValidator",function(){return f(e.$viewValue)})}}}]},{"camunda-bpm-sdk-js/lib/forms/type-util":98}],54:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("./cam-variable-utils"),f='<div ng-if="display && isShown(\'type\')"\n     class="type">{{ variable.type }}</div>\n<div ng-if="display && isShown(\'name\')"\n     class="name">{{ variable.name }}</div>\n<div ng-if="display && isShown(\'value\') && isPrimitive()"\n     ng-class="{null: isNull()}"\n     class="value">\n  <span ng-if="isNull()"\n        class="null-symbol">&lt;null&gt;</span>\n  {{ (variable.value === null ? \'\' : variable.value.toString()) }}\n</div>\n<div ng-if="display && isShown(\'value\') && variable.type === \'Object\'"\n     ng-class="{null: isNull()}"\n     class="value">\n  <a ng-click="editVariableValue()">\n    {{ variable.valueInfo.objectTypeName }}\n  </a>\n</div>\n\n\n<div ng-if="!display"\n     class="input-group editing">\n  <div ng-if="isShown(\'type\')"\n       class="input-group-btn type">\n    <select class="form-control"\n            ng-model="variable.type"\n            ng-options="variableType for variableType in variableTypes track by variableType"\n            ng-disabled="isDisabled(\'type\')"\n            required>\n    </select>\n  </div><!-- /btn-group -->\n\n  <input ng-if="isShown(\'name\')"\n         type="text"\n         class="form-control name"\n         ng-model="variable.name"\n         placeholder="varName"\n         ng-disabled="isDisabled(\'name\')"\n         required />\n\n  <div ng-if="isShown(\'value\') && !isNull()"\n       class="value-wrapper input-group"\n       ng-class="{checkbox: useCheckbox()}">\n    <div ng-if="variable.type !== \'Null\'"\n         class="input-group-btn">\n      <a ng-click="setNull()"\n         class="btn btn-default set-null"\n         ng-disabled="isDisabled(\'value\')"\n         tooltip="Set value to &quot;null&quot;">\n        <span class="glyphicon glyphicon-remove"></span>\n      </a>\n    </div>\n\n    <input ng-if="isPrimitive() && !useCheckbox()"\n           type="text"\n           class="form-control value"\n           ng-model="variable.value"\n           ng-disabled="isDisabled(\'value\')"\n           placeholder="Value of the variable"\n           cam-variable-validator="{{variable.type}}" />\n\n    <input ng-if="useCheckbox()"\n           type="checkbox"\n           class="value"\n           ng-model="variable.value"\n           ng-disabled="isDisabled(\'value\')"\n           placeholder="Value of the variable"\n           cam-variable-validator="{{variable.type}}" />\n\n    <div ng-if="variable.type === \'Object\'"\n         class="value form-control-static">\n      <a ng-click="editVariableValue()" ng-disabled="isDisabled(\'value\')">\n        {{ variable.valueInfo.objectTypeName || \'&lt;undefined&gt;\' }}\n      </a>\n    </div>\n  </div>\n\n  <div ng-if="variable.type !== \'Null\' && isShown(\'value\') && isNull()"\n       ng-click="setNonNull()"\n       class="value-wrapper value null-value btn btn-default"\n       ng-disabled="isDisabled(\'value\')"\n       tooltip="Re-set to previous or default value">\n    <span class="null-symbol">&lt;null&gt;</span>\n  </div>\n\n  <div ng-if="variable.type === \'Null\'"\n       ng-disabled="isDisabled(\'value\')"\n       class="value-wrapper value btn no-click null-value">\n    <span class="null-symbol">&lt;null&gt;</span>\n  </div>\n</div>\n',g=e.types,h=e.modalCtrl;b.exports=["$modal",function(a){return{template:f,scope:{variable:"=camVariable",display:"@?",shown:"=?",disabled:"=?"},link:function(b,c){b.variableTypes=d.copy(g);var f=e.defaultValues;b.isPrimitive=e.isPrimitive(b),b.useCheckbox=e.useCheckbox(b),b.isShown=function(a){return!Array.isArray(b.shown)||!b.shown.length||b.shown.indexOf(a)>-1},b.isDisabled=function(a){return!(!Array.isArray(b.disabled)||!b.disabled.length)&&b.disabled.indexOf(a)>-1},b.shownClasses=function(){return Array.isArray(b.shown)&&b.shown.length?b.shown.map(function(a){return"show-"+a}).join(" "):""},b.$watch("shown",function(){c.removeClass("show-type show-name show-value").addClass(b.shownClasses())});var i=e.validate(b);b.valid=!0,b.$watch("variable.value",i),b.$watch("variable.name",i),b.$watch("variable.type",i),i();var j=b.variable.value;b.$watch("variable.type",function(a,d){"Boolean"===a?null!==b.variable.value&&(j=b.variable.value,b.variable.value="false"!==b.variable.value&&!!b.variable.value):"Boolean"===d&&(b.variable.value=j);var e=c[0].classList;d&&e.remove("var-type-"+d.toLowerCase()),a&&e.add("var-type-"+a.toLowerCase())}),b.isNull=function(){return null===b.variable.value},b.setNonNull=function(){b.variable.value=j||f[b.variable.type]},b.setNull=function(){j=b.variable.value,b.variable.value=null},b.editVariableValue=function(){a.open({template:e.templateDialog,controller:h,windowClass:"cam-widget-variable-dialog",resolve:{variable:function(){return d.copy(b.variable)},readonly:function(){return b.display}}}).result.then(function(a){b.variable.value=a.value,b.variable.valueInfo=a.valueInfo})}}}}]},{"./cam-variable-utils":52,"camunda-bpm-sdk-js/vendor/angular":102}],55:[function(a,b,c){"use strict";var d=a("jquery");b.exports=["$compile",function(a){return{template:"<div></div>",scope:{info:"=",headerName:"="},link:function(b,c){var e=b.info.additions[b.headerName]||{};e.scopeVariables=e.scopeVariables||{};for(var f in e.scopeVariables)b[f]=e.scopeVariables[f];b.variable=b.info.variable,c.html("<div>"+e.html+"</div>"),a(d("div",c)[0])(b)}}}]},{jquery:"jquery"}],56:[function(a,b,c){"use strict";function d(a){return JSON.parse(JSON.stringify(a))}function e(a){return{then:function(b){b(f.copy(a.variable))}}}var f=a("camunda-bpm-sdk-js/vendor/angular"),g=a("../variable/cam-variable-utils"),h='<table class="cam-table">\n  <thead>\n    <tr>\n      <td ng-repeat="headerName in headerNames" ng-class="\'col-\' + headerName">\n        {{ headers[headerName] }}\n      </td>\n\n      <td class="actions"\n          ng-if="editable.length">\n        Actions\n      </td>\n    </tr>\n  </thead>\n\n  <tbody>\n    <tr ng-repeat="(v, info) in variables"\n        ng-class="rowClasses(info, v)">\n      <td ng-repeat="headerName in headerNames"\n          ng-init="variable=info.variable"\n          ng-class="colClasses(info, headerName, v)"\n          ng-switch on="headerName">\n        <!-- ................................................................................... -->\n        <div ng-switch-when="type"\n             ng-if="!isEditable(\'type\', info)">\n          {{ variable.type }}\n        </div>\n        <select class="form-control"\n                ng-switch-when="type"\n                ng-if="isEditable(\'type\', info)"\n                ng-model="variable.type"\n                ng-options="variableType for variableType in variableTypes track by variableType"\n                required>\n        </select>\n        <!-- ................................................................................... -->\n\n\n        <!-- ................................................................................... -->\n        <div ng-switch-when="name"\n             ng-if="!isEditable(\'name\', info)">\n          <span cam-widget-clipboard="variable.name">{{ variable.name }}</span>\n        </div>\n\n        <input class="form-control"\n               ng-switch-when="name"\n               ng-model="variable.name"\n               ng-if="isEditable(\'name\', info)" />\n        <!-- ................................................................................... -->\n\n\n        <!-- ................................................................................... -->\n        <a ng-switch-when="value"\n           ng-if="!isEditable(\'value\', info) && isBinary(variable.type)"\n           ng-href="{{ downloadLink(info) }}"\n           download="{{ variable.name }}-data">\n          Download\n        </a>\n\n        <div ng-switch-when="value"\n             ng-if="!isEditable(\'value\', info) && variable.type === \'Object\'"\n             class="read-only value-wrapper">\n          <span ng-if="variable.valueInfo.objectTypeName"\n                cam-widget-clipboard="variable.valueInfo.objectTypeName">\n            <a ng-click="editVariableValue(v)"\n               href>{{ variable.valueInfo.objectTypeName }}</a>\n          </span>\n          <a ng-if="!variable.valueInfo.objectTypeName"\n             ng-click="editVariableValue(v)"\n             href>&lt;undefined&gt;</a>\n        </div>\n\n        <div ng-switch-when="value"\n             ng-if="!isEditable(\'value\', info) && variable.type === \'String\'"\n             class="read-only value-wrapper">\n          <span cam-widget-clipboard="variable.value">\n            <span ng-click="readStringVar(v)">{{ variable.value }}</span>\n          </span>\n        </div>\n\n        <div ng-switch-when="value"\n             ng-if="!isEditable(\'value\', info) && variable.type !== \'Object\' && variable.type !== \'String\'"\n             class="read-only value-wrapper">\n          <span ng-if="variable.type !== \'Bytes\'"\n                cam-widget-clipboard="variable.value">{{ variable.value }}</span>\n          <span ng-if="variable.type === \'Bytes\'">{{ variable.value }}</span>\n        </div>\n\n        <div class="value-wrapper"\n             ng-switch-when="value"\n             ng-if="isEditable(\'value\', info)">\n          <a ng-click="setNull(v)"\n             ng-if="!isNull(v)"\n             class="set-null"\n             tooltip-append-to-body="true"\n             tooltip="Set value to &quot;null&quot;">\n            <span class="glyphicon glyphicon-remove"></span>\n          </a>\n\n          <input ng-if="isPrimitive(variable.type) && !useCheckbox(variable.type) && !isNull(v)"\n                 type="text"\n                 class="form-control"\n                 ng-model="variable.value"\n                 placeholder="Value of the variable" />\n\n          <input ng-if="useCheckbox(variable.type)"\n                 type="checkbox"\n                 ng-model="variable.value"\n                 placeholder="Value of the variable" />\n\n          <a ng-if="variable.type === \'Object\' && !isNull(v)"\n             ng-click="editVariableValue(v)">\n            {{ variable.valueInfo.objectTypeName || \'&lt;undefined&gt;\' }}\n          </a>\n\n          <a ng-if="variable.type !== \'Null\' && !isBinary(variable.type) && isNull(v)"\n             ng-click="setNonNull(v)"\n             class="null-value"\n             tooltip-append-to-body="true"\n             tooltip="Re-set to previous or default value">\n            <span class="null-symbol">&lt;null&gt;</span>\n          </a>\n\n          <a ng-if="isBinary(variable.type)"\n             ng-click="uploadVariable(v)"\n             tooltip-append-to-body="true"\n             tooltip="Upload a new file">\n            Upload\n          </a>\n\n          <span ng-if="variable.type === \'Null\'"\n                class="null-value">\n            <span class="null-symbol">&lt;null&gt;</span>\n          </span>\n        </div><!-- / value-wrapper -->\n        <!-- ................................................................................... -->\n\n\n        <div ng-switch-default\n             cam-render-var-template\n             info="info"\n             header-name="headerName">\n        </div>\n      </td>\n\n      <td class="actions"\n          ng-if="editable.length">\n        <div ng-if="!info.editMode"\n             class="btn-group">\n          <button class="btn btn-xs btn-primary"\n                  ng-disabled="!canEditVariable(info, v)"\n                  ng-click="info.editMode = true"\n                  tooltip-append-to-body="true"\n                  tooltip="Edit the variable">\n            <span class="glyphicon glyphicon-pencil"></span>\n          </button>\n          <button class="btn btn-xs btn-default"\n                  ng-disabled="!canEditVariable(info, v)"\n                  ng-click="deleteVariable(v)"\n                  tooltip-append-to-body="true"\n                  tooltip="Delete the variable">\n            <span class="glyphicon glyphicon glyphicon-trash"></span>\n          </button>\n        </div>\n\n        <div ng-if="info.editMode"\n             class="btn-group">\n          <button class="btn btn-xs btn-primary"\n                  ng-disabled="!info.valid || !info.changed"\n                  ng-click="saveVariable(v)"\n                  tooltip-append-to-body="true"\n                  tooltip="Save the variable">\n            <span class="glyphicon glyphicon-ok"></span>\n          </button>\n          <button class="btn btn-xs btn-default"\n                  ng-click="info.editMode = false"\n                  tooltip-append-to-body="true"\n                  tooltip="Revert the variable">\n            <span class="glyphicon glyphicon-remove"></span>\n          </button>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n',i=g.typeUtils,j={
variable:{name:null,type:null,value:null,valueInfo:{}},additions:{}};b.exports=["$modal",function(a){return{template:h,scope:{variables:"=camVariables",headers:"=?camHeaders",editable:"=?camEditable",isVariableEditable:"=?",deleteVar:"=?onDelete",saveVar:"=?onSave",editVar:"=?onEdit",downloadVar:"=?onDownload",uploadVar:"=?onUpload"},link:function(b){function c(a){return(b.variables[a]||{}).variable}function h(a){if(!b.variables||!b.variables[a]||!b.variables[a]._copy)return!1;var d,e=c(a),f=b.variables[a]._copy;return d=!e||!f,d=d||e.name!==f.name,d=d||e.type!==f.type,d=d||e.value!==f.value}function k(a,c){if(a.variable.name&&a.variable.type?null===a.variable.value||["String","Object","Null"].indexOf(a.variable.type)>-1?a.valid=!0:a.valid=i.isType(a.variable.value,a.variable.type):a.valid=!1,a.valid&&a.variable.type&&null!==a.variable.value&&b.isPrimitive(a.variable.type)){var d;d="Boolean"!==a.variable.type?i.convertToType(a.variable.value,a.variable.type):!!a.variable.value&&"false"!==a.variable.value,typeof a.variable.value!=typeof d&&(a.variable.value=d)}a.changed=h(c)}function l(){(b.variables||[]).forEach(function(a,c){function e(){k(a,c)}a.valid=!0;var g="variables["+c+"].variable";b.$watch(g+".value",e),b.$watch(g+".name",e),b.$watch(g+".type",e),b.$watch("variables["+c+"].editMode",function(b,c){f.isUndefined(b)||(b===!0?a._copy=d(a.variable):b===!1&&c===!0&&a._copy&&(a.variable.type=a._copy.type,a.variable.name=a._copy.name,a.variable.value=a._copy.value,delete a._copy))}),k(a,c),m[c]=a.variable.value})}var m=[];b.editable=b.editable||["type","name","value"],b.headers=b.headers||{name:"Name",type:"Type",value:"Value"},b.headerNames=Object.keys(b.headers),b.variableTypes=f.copy(g.types),b.defaultValues=g.defaultValues,b.isPrimitive=g.isPrimitive(b),b.isBinary=g.isBinary(b),b.useCheckbox=g.useCheckbox(b),b.headers=b.headers||{name:"Name",type:"Type",value:"Value"},b.headerNames=Object.keys(b.headers),["uploadVar","deleteVar","saveVar"].forEach(function(a){b[a]=f.isFunction(b[a])?b[a]:e});var n=function(a,b,d){return{template:b,controller:g.modalCtrl,windowClass:"cam-widget-variable-dialog",resolve:{variable:function(){return f.copy(c(a))},readonly:d}}};b.editVar=f.isFunction(b.editVar)?b.editVar:function(c,d){var e=function(){return!b.isEditable("value",b.variables[d])};return a.open(n(d,g.templateDialog,e)).result},b.readStringVar=f.isFunction(b.readStringVar)?b.readStringVar:function(b){var c=function(){return!0};return a.open(n(b,g.templateStringDialog,c)).result},b.downloadLink=f.isFunction(b.downloadVar)?b.downloadVar:function(a){return"/camunda/api/engine/engine/default/variable-instance/"+a.variable.id+"/data"},b.$watch("variables",l),l(),b.canEditVariable=f.isFunction(b.isVariableEditable)?b.isVariableEditable:function(){return!0},b.isEditable=function(a,c){return c.editMode&&b.editable.indexOf(a)>-1},b.rowClasses=function(a){return[a.editMode?"editing":null,a.valid?null:"ng-invalid",a.valid?null:"ng-invalid-cam-variable-validator"]},b.colClasses=function(a,c){return[b.isEditable(c,a)?"editable":null,"type-"+(a.variable.type||"").toLowerCase(),"col-"+c]},b.isNull=function(a){return null===b.variables[a].variable.value},b.setNull=function(a){var b=c(a);m[a]=b.value,b.value=null},b.setNonNull=function(a){var d=c(a);d.value=m[a]||b.defaultValues[d.type]},b.editVariableValue=function(a){var d=b.variables[a];b.editVar(d,a).then(function(b){c(a).value=b.value,c(a).valueInfo=b.valueInfo})},b.addVariable=function(){b.variables.push(f.copy(j))},b.deleteVariable=function(a){var c=b.variables[a];b.deleteVar(c,a).then(function(){b.variables.splice(b.variables.indexOf(c),1)},function(){})},b.saveVariable=function(a){var c=b.variables[a];c.editMode=!1,b.saveVar(c,a).then(function(a){c.variable.name=a.name,c.variable.type=a.type,c.variable.value=a.value,c.variable.valueInfo=a.valueInfo,delete c._copy},function(){c.editMode=!0})},b.uploadVariable=function(a){var c=b.variables[a];b.uploadVar(c,a).then(function(){delete c._copy,c.editMode=!1},function(){c.editMode=!1})}}}}]},{"../variable/cam-variable-utils":52,"camunda-bpm-sdk-js/vendor/angular":102}],57:[function(a,b,c){b.exports=a("./lib/index")},{"./lib/index":100}],58:[function(require,module,exports){"use strict";var CamundaForm=require("./../../forms/camunda-form"),angular=require("angular"),$=CamundaForm.$,constants=require("./../../forms/constants"),CamundaFormAngular=CamundaForm.extend({renderForm:function(){function a(a,b){var c=$(b);if(!c.attr("ng-model")){var d=c.attr(constants.DIRECTIVE_CAM_VARIABLE_NAME);d&&c.attr("ng-model",d)}}var b=this;this.formElement=angular.element(this.formElement),CamundaForm.prototype.renderForm.apply(this,arguments);for(var c=0;c<this.formFieldHandlers.length;c++){var d=this.formFieldHandlers[c],e=d.selector;$(e,b.formElement).each(a)}this.formElement=angular.element(this.formElement);var f=b.formElement.injector();if(f){var g=b.formElement.scope();f.invoke(["$compile",function(a){a(b.formElement)(g)}]),g.camForm=this}},executeFormScript:function(script){this.formElement=angular.element(this.formElement);var injector=this.formElement.injector(),scope=this.formElement.scope();!function(camForm,$scope){var inject=function(a){if(!angular.isFunction(a)&&!angular.isArray(a))throw new Error("Must call inject(array|fn)");injector.instantiate(a,{$scope:scope})};eval(script)}(this,scope)},fireEvent:function(){this.formElement=angular.element(this.formElement);var a=this,b=arguments,c=this.formElement.scope(),d=function(){CamundaForm.prototype.fireEvent.apply(a,b)},e=a.formElement.injector();e&&e.invoke(["$rootScope",function(a){var b=a.$$phase;"$apply"!==b&&"$digest"!==b?c.$apply(function(){d()}):d()}])}});module.exports=CamundaFormAngular},{"./../../forms/camunda-form":91,"./../../forms/constants":92,angular:"angular"}],59:[function(a,b,c){"use strict";var d=a("angular"),e=a("./camunda-form-angular"),f=a("./../../forms/type-util").isType,g=a("./../../forms/type-util").dateToString,h=d.module("cam.embedded.forms",[]);h.directive("camVariableName",["$rootScope",function(a){return{require:"ngModel",link:function(b,c,d,e){c.on("camFormVariableApplied",function(c,d){var f=a.$$phase;"$apply"!==f&&"$digest"!==f?b.$apply(function(){e.$setViewValue(d)}):e.$setViewValue(d)})}}}]),h.directive("camVariableType",[function(){return{require:"ngModel",link:function(a,b,c,d){var e=function(a){var e=c.camVariableType;return d.$setValidity("camVariableType",!0),(a||a===!1||"Bytes"===e)&&(d.$pristine&&(d.$pristine=!1,d.$dirty=!0,b.addClass("ng-dirty"),b.removeClass("ng-pristine")),"Date"===e&&(d.$viewValue=a=g(a)),["Boolean","String","Bytes"].indexOf(e)!==-1||f(a,e)||d.$setValidity("camVariableType",!1),"file"===c.type&&"Bytes"===e&&b[0].files&&b[0].files[0]&&b[0].files[0].size>(c.camMaxFilesize||5e6)&&d.$setValidity("camVariableType",!1)),a};d.$parsers.unshift(e),d.$formatters.push(e),c.$observe("camVariableType",function(){return e(d.$viewValue)}),b.bind("change",function(){e(d.$viewValue),a.$apply()})}}}]),b.exports=e},{"./../../forms/type-util":98,"./camunda-form-angular":58,angular:"angular"}],60:[function(a,b,c){b.exports={Client:a("./../api-client"),Form:a("./forms"),utils:a("./../utils")}},{"./../api-client":63,"./../utils":101,"./forms":59}],61:[function(a,b,c){"use strict";function d(){}var e=a("q"),f=a("./../events"),g=a("./../base-class"),h=g.extend({initialize:function(){this.http=this.constructor.http}},{path:"",http:{},create:function(){},list:function(a,b){"function"==typeof a&&(b=a,a={}),a=a||{},b=b||d;var c=this,f={count:0,items:[]},g=e.defer(),h=!1,i=!1,j=function(){i&&h&&(c.trigger("loaded",f),g.resolve(f),b(null,f))};return c.count(a,function(a,d){a?(c.trigger("error",a),g.reject(a),b(a)):(f.count=d,h=!0,j())}),c.http.get(c.path,{data:a,done:function(d,e){d?(c.trigger("error",d),g.reject(d),b(d)):(f.items=e,f.firstResult=parseInt(a.firstResult||0,10),f.maxResults=f.firstResult+parseInt(a.maxResults||10,10),i=!0,j())}}),g.promise},count:function(a,b){"function"==typeof a&&(b=a,a={}),a=a||{},b=b||d;var c=this,f=e.defer();return this.http.get(this.path+"/count",{data:a,done:function(a,d){a?(c.trigger("error",a),f.reject(a),b(a)):(f.resolve(d.count),b(null,d.count))}}),f.promise},update:function(){},"delete":function(){}});f.attach(h),b.exports=h},{"./../base-class":89,"./../events":90,q:"q"}],62:[function(a,b,c){(function(c){"use strict";function d(){}function e(a,b,c){return b=b||d,function(d,e){return d||!e.ok&&!e.noContent?(d=d||e.error||new Error("The "+e.req.method+" request on "+e.req.url+" failed"),e&&e.body&&e.body.message&&(d.message=e.body.message),a.trigger("error",d),c&&c.reject(d),b(d)):("application/hal+json"===e.type&&(e.body&&0!==Object.keys(e.body).length||(e.body=JSON.parse(e.text)),e.body=i.solveHALEmbedded(e.body)),c&&c.resolve(e.body?e.body:e.text?e.text:""),void b(null,e.body?e.body:e.text?e.text:""))}}var f=a("superagent"),g=a("q"),h=a("./../events"),i=a("./../utils"),j=function(a){if(a=a||{},a.headers=a.headers||{},a.headers.Accept||(a.headers.Accept="application/hal+json, application/json; q=0.5"),!a.baseUrl)throw new Error("HttpClient needs a `baseUrl` configuration property.");h.attach(this),this.config=a};j.prototype.post=function(a,b){b=b||{};var h=b.done||d,i=this,j=g.defer(),k=this.config.baseUrl+(a?"/"+a:""),l=f.post(k);if("undefined"!=typeof c)Object.keys(b.fields||{}).forEach(function(a){l.field(a,b.fields[a])}),(b.attachments||[]).forEach(function(a,b){l.attach("data_"+b,new c(a.content),a.name)});else if(b.fields||b.attachments){var m=new Error("Multipart request is only supported in node.js environement.");return h(m),j.reject(m)}return l.set(this.config.headers).send(b.data||{}).query(b.query||{}),l.end(e(i,h,j)),j.promise},j.prototype.get=function(a,b){var c=this.config.baseUrl+(a?"/"+a:"");return this.load(c,b)},j.prototype.load=function(a,b){b=b||{};var c=b.done||d,h=this,i=g.defer(),j=b.accept||this.config.headers.Accept,k=f.get(a).set(b.headers||this.config.headers).set("Accept",j).query(b.data||{});return k.end(e(h,c,i)),i.promise},j.prototype.put=function(a,b){b=b||{};var c=b.done||d,h=this,i=g.defer(),j=this.config.baseUrl+(a?"/"+a:""),k=f.put(j).set(b.headers||this.config.headers).send(b.data||{});return k.end(e(h,c,i)),i.promise},j.prototype.del=function(a,b){b=b||{};var c=b.done||d,h=this,i=g.defer(),j=this.config.baseUrl+(a?"/"+a:""),k=f.del(j).set(b.headers||this.config.headers).send(b.data||{});return k.end(e(h,c,i)),i.promise},j.prototype.options=function(a,b){b=b||{};var c=b.done||d,h=this,i=g.defer(),j=this.config.baseUrl+(a?"/"+a:""),k=f("OPTIONS",j).set(b.headers||this.config.headers);return k.end(e(h,c,i)),i.promise},b.exports=j}).call(this,a("buffer").Buffer)},{"./../events":90,"./../utils":101,buffer:681,q:"q",superagent:"superagent"}],63:[function(a,b,c){"use strict";function d(a){if(!a)throw new Error("Needs configuration");if(!a.apiUri)throw new Error("An apiUri is required");e.attach(this),a.engine="undefined"!=typeof a.engine?a.engine:"default",a.mock="undefined"==typeof a.mock||a.mock,a.resources=a.resources||{},this.HttpClient=a.HttpClient||d.HttpClient,this.baseUrl=a.apiUri,a.engine&&(this.baseUrl+="/"!==this.baseUrl.slice(-1)?"/":"",this.baseUrl+="engine/"+a.engine),this.config=a,this.initialize()}var e=a("./../events");d.HttpClient=a("./http-client"),function(b){b.config={};var c={};b.initialize=function(){function b(a){d.trigger("error",a)}c.authorization=a("./resources/authorization"),c.batch=a("./resources/batch"),c.deployment=a("./resources/deployment"),c["external-task"]=a("./resources/external-task"),c.filter=a("./resources/filter"),c.history=a("./resources/history"),c["process-definition"]=a("./resources/process-definition"),c["process-instance"]=a("./resources/process-instance"),c.task=a("./resources/task"),c["task-report"]=a("./resources/task-report"),c.variable=a("./resources/variable"),c["case-execution"]=a("./resources/case-execution"),c["case-instance"]=a("./resources/case-instance"),c["case-definition"]=a("./resources/case-definition"),c.user=a("./resources/user"),c.group=a("./resources/group"),c.tenant=a("./resources/tenant"),c.incident=a("./resources/incident"),c["job-definition"]=a("./resources/job-definition"),c.job=a("./resources/job"),c.metrics=a("./resources/metrics"),c["decision-definition"]=a("./resources/decision-definition"),c.execution=a("./resources/execution"),c.migration=a("./resources/migration"),c.drd=a("./resources/drd");var d=this;this.http=new this.HttpClient({baseUrl:this.baseUrl,headers:this.config.headers});var e,f,g,h;for(e in c){f={name:e,mock:this.config.mock,baseUrl:this.baseUrl,headers:this.config.headers},g=this.config.resources[e]||{};for(h in g)f[h]=g[h];c[e].http=new this.HttpClient(f),c[e].http.on("error",b)}},b.resource=function(a){return c[a]}}(d.prototype),b.exports=d},{"./../events":90,"./http-client":62,"./resources/authorization":64,"./resources/batch":65,"./resources/case-definition":66,"./resources/case-execution":67,"./resources/case-instance":68,"./resources/decision-definition":69,"./resources/deployment":70,"./resources/drd":71,"./resources/execution":72,"./resources/external-task":73,"./resources/filter":74,"./resources/group":75,"./resources/history":76,"./resources/incident":77,"./resources/job":79,"./resources/job-definition":78,"./resources/metrics":80,"./resources/migration":81,"./resources/process-definition":82,"./resources/process-instance":83,"./resources/task":85,"./resources/task-report":84,"./resources/tenant":86,"./resources/user":87,"./resources/variable":88}],64:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="authorization",e.list=function(a,b){return this.http.get(this.path,{data:a,done:b})},e.get=function(a,b){return this.http.get(this.path+"/"+a,{done:b})},e.create=function(a,b){return this.http.post(this.path+"/create",{data:a,done:b})},e.update=function(a,b){return this.http.put(this.path+"/"+a.id,{data:a,done:b})},e.save=function(a,b){return e[a.id?"update":"create"](a,b)},e["delete"]=function(a,b){return this.http.del(this.path+"/"+a,{done:b})},e.check=function(a,b){return this.http.get(this.path+"/check",{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":61}],65:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="batch",e.get=function(a,b){return this.http.get(this.path+"/"+a,{done:b})},e.suspended=function(a,b){return this.http.put(this.path+"/"+a.id+"/suspended",{data:{suspended:!!a.suspended},done:b})},e.statistics=function(a,b){return this.http.get(this.path+"/statistics/",{data:a,done:b})},e.statisticsCount=function(a,b){return this.http.get(this.path+"/statistics/count",{data:a,done:b})},e["delete"]=function(a,b){var c=this.path+"/"+a.id;return a.cascade&&(c+="?cascade=true"),this.http.del(c,{done:b})},b.exports=e},{"./../abstract-client-resource":61}],66:[function(a,b,c){"use strict";function d(){}var e=a("./../abstract-client-resource"),f=e.extend();f.path="case-definition",f.get=function(a,b){return this.http.get(this.path+"/"+a,{done:b})},f.getByKey=function(a,b){return this.http.get(this.path+"/key/"+a,{done:b})},f.list=function(a,b){return this.http.get(this.path,{data:a,done:b})},f.create=function(a,b){var c=this.path+"/";return a.id?c+=a.id:(c=c+"key/"+a.key,a.tenantId&&(c=c+"/tenant-id/"+a.tenantId)),this.http.post(c+"/create",{data:a,done:b})},f.xml=function(a,b){var c=this.path+"/"+(a.id?a.id:"key/"+a.key)+"/xml";return this.http.get(c,{done:b||d})},b.exports=f},{"./../abstract-client-resource":61}],67:[function(a,b,c){"use strict";function d(){}var e=a("./../abstract-client-resource"),f=e.extend();f.path="case-execution",f.list=function(a,b){return b=b||d,this.http.get(this.path,{data:a,done:b})},f.disable=function(a,b,c){return this.http.post(this.path+"/"+a+"/disable",{data:b,done:c})},f.reenable=function(a,b,c){return this.http.post(this.path+"/"+a+"/reenable",{data:b,done:c})},f.manualStart=function(a,b,c){return this.http.post(this.path+"/"+a+"/manual-start",{data:b,done:c})},f.complete=function(a,b,c){return this.http.post(this.path+"/"+a+"/complete",{data:b,done:c})},f.deleteVariable=function(a,b){return this.http.del(this.path+"/"+a.id+"/localVariables/"+a.varId,{done:b})},f.modifyVariables=function(a,b){return this.http.post(this.path+"/"+a.id+"/localVariables",{data:a,done:b})},b.exports=f},{"./../abstract-client-resource":61}],68:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="case-instance",e.list=function(a,b){return this.http.get(this.path,{data:a,done:b})},e.close=function(a,b,c){return this.http.post(this.path+"/"+a+"/close",{data:b,done:c})},e.terminate=function(a,b,c){return this.http.post(this.path+"/"+a+"/terminate",{data:b,done:c})},b.exports=e},{"./../abstract-client-resource":61}],69:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="decision-definition",e.list=function(a,b){return this.http.get(this.path,{data:a,done:b})},e.get=function(a,b){return this.http.get(this.path+"/"+a,{done:b})},e.getXml=function(a,b){return this.http.get(this.path+"/"+a+"/xml",{done:b})},e.evaluate=function(a,b){return this.http.post(this.path+"/"+(a.id?a.id:"key/"+a.key)+"/evaluate",{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":61}],70:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="deployment",e.create=function(a,b){var c={"deployment-name":a.deploymentName},d=Array.isArray(a.files)?a.files:[a.files];return a.deploymentSource&&(c["deployment-source"]=a.deploymentSource),a.enableDuplicateFiltering&&(c["enable-duplicate-filtering"]="true"),a.deployChangedOnly&&(c["deploy-changed-only"]="true"),a.tenantId&&(c["tenant-id"]=a.tenantId),this.http.post(this.path+"/create",{data:{},fields:c,attachments:d,done:b})},e["delete"]=function(a,b,c){var d=this.path+"/"+a;if(b){var e=[];for(var f in b){var g=b[f];e.push(f+"="+g)}e.length&&(d+="?"+e.join("&"))}return this.http.del(d,{done:c})},e.list=function(){return d.list.apply(this,arguments)},e.get=function(a,b){return this.http.get(this.path+"/"+a,{done:b})},e.getResources=function(a,b){return this.http.get(this.path+"/"+a+"/resources",{done:b})},e.getResource=function(a,b,c){return this.http.get(this.path+"/"+a+"/resources/"+b,{done:c})},e.getResourceData=function(a,b,c){return this.http.get(this.path+"/"+a+"/resources/"+b+"/data",{accept:"*/*",done:c})},e.redeploy=function(a,b){var c=a.id;return delete a.id,this.http.post(this.path+"/"+c+"/redeploy",{data:a,done:b||function(){}})},b.exports=e},{"./../abstract-client-resource":61}],71:[function(a,b,c){"use strict";function d(a,b){return a+"/"+g.escapeUrl(b)}function e(a,b,c){var d=a+"/key/"+g.escapeUrl(b);return"function"!=typeof c&&(d+="/tenant-id/"+g.escapeUrl(c)),d}var f=a("../abstract-client-resource"),g=a("../../utils"),h=f.extend();h.path="decision-requirements-definition",h.count=function(a,b){return"function"==typeof a&&(b=a,a={}),this.http.get(this.path+"/count",{data:a,done:b})},h.list=function(a,b){return"function"==typeof a&&(b=a,a={}),this.http.get(this.path,{data:a,done:b})},h.get=function(a,b){return this.http.get(d(this.path,a),{done:b})},h.getByKey=function(a,b,c){var d=e(this.path,a,b);return"function"==typeof b&&(c=b),this.http.get(d,{done:c})},h.getXML=function(a,b){return this.http.get(d(this.path,a)+"/xml",{done:b})},h.getXMLByKey=function(a,b,c){var d=e(this.path,a,b)+"/xml";return"function"==typeof b&&(c=b),this.http.get(d,{done:c})},b.exports=h},{"../../utils":101,"../abstract-client-resource":61}],72:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="execution",e.deleteVariable=function(a,b){return this.http.del(this.path+"/"+a.id+"/localVariables/"+a.varId,{done:b})},e.modifyVariables=function(a,b){return this.http.post(this.path+"/"+a.id+"/localVariables",{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":61}],73:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="external-task",e.get=function(a,b){return this.http.get(this.path+"/"+a.id,{data:a,done:b})},e.list=function(a,b){var c=this.path+"/";return c+="?firstResult="+(a.firstResult||0),c+="&maxResults="+(a.maxResults||15),this.http.post(c,{data:a,done:b})},e.count=function(a,b){return this.http.post(this.path+"/count",{data:a,done:b})},e.fetchAndLock=function(a,b){return this.http.post(this.path+"/fetchAndLock",{data:a,done:b})},e.complete=function(a,b){return this.http.post(this.path+"/"+a.id+"/complete",{data:a,done:b})},e.failure=function(a,b){return this.http.post(this.path+"/"+a.id+"/failure",{data:a,done:b})},e.unlock=function(a,b){return this.http.post(this.path+"/"+a.id+"/unlock",{data:a,done:b})},e.retries=function(a,b){return this.http.put(this.path+"/"+a.id+"/retries",{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":61}],74:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="filter",e.get=function(a,b){return this.http.get(this.path+"/"+a,{done:b})},e.list=function(a,b){return this.http.get(this.path,{data:a,done:b})},e.getTasks=function(a,b){var c=this.path+"/";return"string"==typeof a?(c=c+a+"/list",a={}):(c=c+a.id+"/list",delete a.id),c+="?firstResult="+(a.firstResult||0),c+="&maxResults="+(a.maxResults||15),this.http.post(c,{data:a,done:b})},e.create=function(a,b){return this.http.post(this.path+"/create",{data:a,done:b})},e.update=function(a,b){return this.http.put(this.path+"/"+a.id,{data:a,done:b})},e.save=function(a,b){return e[a.id?"update":"create"](a,b)},e["delete"]=function(a,b){return this.http.del(this.path+"/"+a,{done:b})},e.authorizations=function(a,b){return 1===arguments.length?this.http.options(this.path,{done:a,headers:{Accept:"application/json"}}):this.http.options(this.path+"/"+a,{done:b,headers:{Accept:"application/json"}})},b.exports=e},{"./../abstract-client-resource":61}],75:[function(a,b,c){"use strict";function d(){}var e=a("./../abstract-client-resource"),f=a("../../utils"),g=e.extend();g.path="group",g.options=function(a,b){var c;return 1===arguments.length?(b=a,c=""):(c="string"==typeof a?a:a.id,void 0===c&&(c="")),this.http.options(this.path+"/"+f.escapeUrl(c),{done:b||d,headers:{Accept:"application/json"}})},g.create=function(a,b){return this.http.post(this.path+"/create",{data:a,done:b||d})},g.count=function(a,b){return 1===arguments.length?(b=a,a={}):a=a||{},this.http.get(this.path+"/count",{data:a,done:b||d})},g.get=function(a,b){var c="string"==typeof a?a:a.id;return this.http.get(this.path+"/"+f.escapeUrl(c),{data:a,done:b||d})},g.list=function(a,b){return 1===arguments.length?(b=a,a={}):a=a||{},this.http.get(this.path,{data:a,done:b||d})},g.createMember=function(a,b){return this.http.put(this.path+"/"+f.escapeUrl(a.id)+"/members/"+f.escapeUrl(a.userId),{data:a,done:b||d})},g.deleteMember=function(a,b){return this.http.del(this.path+"/"+f.escapeUrl(a.id)+"/members/"+f.escapeUrl(a.userId),{data:a,done:b||d})},g.update=function(a,b){return this.http.put(this.path+"/"+f.escapeUrl(a.id),{data:a,done:b||d})},g["delete"]=function(a,b){return this.http.del(this.path+"/"+f.escapeUrl(a.id),{data:a,done:b||d})},b.exports=g},{"../../utils":101,"./../abstract-client-resource":61}],76:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="history",e.userOperation=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.get(this.path+"/user-operation",{data:a,done:b})},e.processInstance=function(a,b){"function"==typeof a&&(b=arguments[0],a={});var c={},d={},e=["firstResult","maxResults"];for(var f in a)e.indexOf(f)>-1?d[f]=a[f]:c[f]=a[f];return this.http.post(this.path+"/process-instance",{data:c,query:d,done:b})},e.processInstanceCount=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.post(this.path+"/process-instance/count",{data:a,done:b})},e.deleteProcessInstancesAsync=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.post(this.path+"/process-instance/delete",{data:a,done:b})},e.decisionInstance=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.get(this.path+"/decision-instance",{data:a,done:b})},e.decisionInstanceCount=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.get(this.path+"/decision-instance/count",{data:a,done:b})},e.batch=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.get(this.path+"/batch",{data:a,done:b})},e.singleBatch=function(a,b){return this.http.get(this.path+"/batch/"+a,{done:b})},e.batchCount=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.get(this.path+"/batch/count",{data:a,done:b})},e.batchDelete=function(a,b){var c=this.path+"/batch/"+a;return this.http.del(c,{done:b})},e.report=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),a.reportType=a.reportType||"duration",a.periodUnit=a.periodUnit||"month",this.http.get(this.path+"/process-instance/report",{data:a,done:b})},e.reportAsCsv=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),a.reportType=a.reportType||"duration",a.periodUnit=a.periodUnit||"month",this.http.get(this.path+"/process-instance/report",{data:a,accept:"text/csv",done:b})},e.task=function(a,b){"function"==typeof a&&(b=arguments[0],a={});var c={},d={},e=["firstResult","maxResults"];for(var f in a)e.indexOf(f)>-1?d[f]=a[f]:c[f]=a[f];return this.http.post(this.path+"/task",{data:c,query:d,done:b})},e.taskCount=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.post(this.path+"/task/count",{data:a,done:b})},e.taskDurationReport=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),a.reportType=a.reportType||"duration",a.periodUnit=a.periodUnit||"month",this.http.get(this.path+"/task/report",{data:a,done:b})},e.taskReport=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),a.reportType=a.reportType||"count",this.http.get(this.path+"/task/report",{data:a,done:b})},e.caseInstance=function(a,b){"function"==typeof a&&(b=arguments[0],a={});var c={},d={},e=["firstResult","maxResults"];for(var f in a)e.indexOf(f)>-1?d[f]=a[f]:c[f]=a[f];return this.http.post(this.path+"/case-instance",{data:c,query:d,done:b})},e.caseInstanceCount=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.post(this.path+"/case-instance/count",{data:a,done:b})},e.caseActivityInstance=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.get(this.path+"/case-activity-instance",{data:a,done:b})},e.caseActivityInstanceCount=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.get(this.path+"/case-activity-instance/count",{data:a,done:b})},e.variableInstance=function(a,b){"function"==typeof a&&(b=arguments[0],a={});var c={},d={},e=["firstResult","maxResults","deserializeValues"];for(var f in a)e.indexOf(f)>-1?d[f]=a[f]:c[f]=a[f];return this.http.post(this.path+"/variable-instance",{data:c,query:d,done:b})},e.variableInstanceCount=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.post(this.path+"/variable-instance/count",{data:a,done:b})},e.caseActivityStatistics=function(a,b){var c=a.id||a;return this.http.get(this.path+"/case-definition/"+c+"/statistics",{done:b})},e.drdStatistics=function(a,b,c){var d=this.path+"/decision-requirements-definition/"+a+"/statistics";return"function"==typeof b&&(c=b,b={}),this.http.get(d,{data:b,done:c})},b.exports=e},{"./../abstract-client-resource":61}],77:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="incident",e.get=function(a,b){return this.http.get(this.path,{data:a,done:b})},e.count=function(a,b){return this.http.get(this.path+"/count",{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":61}],78:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="job-definition",e.setRetries=function(a,b){return this.http.put(this.path+"/"+a.id+"/retries",{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":61}],79:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="job",e.list=function(a,b){var c=this.path;return c+="?firstResult="+(a.firstResult||0),a.maxResults&&(c+="&maxResults="+a.maxResults),this.http.post(c,{data:a,done:b})},e.setRetries=function(a,b){return this.http.put(this.path+"/"+a.id+"/retries",{data:a,done:b})},e["delete"]=function(a,b){return this.http.del(this.path+"/"+a,{done:b})},b.exports=e},{"./../abstract-client-resource":61}],80:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="metrics",e.sum=function(a,b){var c=this.path+"/"+a.name+"/sum";return delete a.name,this.http.get(c,{data:a,done:b})},e.byInterval=function(a,b){return this.http.get(this.path,{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":61}],81:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="migration",e.generate=function(a,b){var c=this.path+"/generate";return this.http.post(c,{data:a,done:b})},e.execute=function(a,b){var c=this.path+"/execute";return this.http.post(c,{data:a,done:b})},e.executeAsync=function(a,b){var c=this.path+"/executeAsync";return this.http.post(c,{data:a,done:b})},e.validate=function(a,b){var c=this.path+"/validate";return this.http.post(c,{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":61}],82:[function(a,b,c){"use strict";function d(){}var e=a("q"),f=a("./../abstract-client-resource"),g=f.extend({suspend:function(a,b){return"function"==typeof a&&(b=a,a={}),a=a||{},b=b||d,this.http.post(this.path,{done:b})},stats:function(a){return this.http.post(this.path,{done:a||d})},start:function(a){return this.http.post(this.path,{data:{},done:a})}},{path:"process-definition",get:function(a,b){return this.http.get(this.path+"/"+a,{done:b})},getByKey:function(a,b){return this.http.get(this.path+"/key/"+a,{done:b})},list:function(){return f.list.apply(this,arguments)},formVariables:function(a,b){var c="";if(b=b||d,a.key)c="key/"+a.key;else{if(!a.id){var f=new Error("Process definition task variables needs either a key or an id.");return b(f),e.reject(f)}c=a.id}var g={deserializeValues:a.deserializeValues};return a.names&&(g.variableNames=(a.names||[]).join(",")),this.http.get(this.path+"/"+c+"/form-variables",{data:g,done:b})},submitForm:function(a,b){var c="";if(b=b||d,a.key)c="key/"+a.key,a.tenantId&&(c+="/tenant-id/"+a.tenantId);else{if(!a.id)return b(new Error("Process definition task variables needs either a key or an id."));c=a.id}return this.http.post(this.path+"/"+c+"/submit-form",{data:{businessKey:a.businessKey,variables:a.variables},done:b})},startForm:function(a,b){var c=this.path+"/"+(a.key?"key/"+a.key:a.id)+"/startForm";return this.http.get(c,{done:b||d})},xml:function(a,b){var c=this.path+"/"+(a.id?a.id:"key/"+a.key)+"/xml";return this.http.get(c,{done:b||d})},statistics:function(a,b){var c=this.path+"/"+(a.id?a.id:"key/"+a.key)+"/statistics";return this.http.get(c,{data:a,done:b||d})},submit:function(a,b){var c=this.path;return c+=a.key?"/key/"+a.key:"/"+a.id,c+="/submit-form",this.http.post(c,{data:a,done:b})},suspend:function(a,b,c){return"function"==typeof b&&(c=b,b={}),b=b||{},c=c||d,a=Array.isArray(a)?a:[a],this.http.post(this.path,{done:c})},start:function(a,b){var c=this.path+"/";return a.id?c+=a.id:(c=c+"key/"+a.key,a.tenantId&&(c=c+"/tenant-id/"+a.tenantId)),this.http.post(c+"/start",{data:a,done:b})}});b.exports=g},{"./../abstract-client-resource":61,q:"q"}],83:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend({},{path:"process-instance",get:function(a,b){return this.http.get(this.path+"/"+a,{done:b})},create:function(a,b){return this.http.post(a,b)},list:function(a,b){var c=this.path;return c+="?firstResult="+(a.firstResult||0),c+="&maxResults="+(a.maxResults||15),this.http.post(c,{data:a,done:b})},count:function(a,b){var c=this.path+"/count";return this.http.post(c,{
data:a,done:b})},modify:function(a,b){return this.http.post(this.path+"/"+a.id+"/modification",{data:{instructions:a.instructions,skipCustomListeners:a.skipCustomListeners,skipIoMappings:a.skipIoMappings},done:b})},deleteAsync:function(a,b){return this.http.post(this.path+"/delete",{data:a,done:b})},setJobsRetriesAsync:function(a,b){return this.http.post(this.path+"/job-retries",{data:a,done:b})}});b.exports=e},{"./../abstract-client-resource":61}],84:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="task/report",e.countByCandidateGroup=function(a){return this.http.get(this.path+"/candidate-group-count",{done:a})},e.countByCandidateGroupAsCsv=function(a){return this.http.get(this.path+"/candidate-group-count",{accept:"text/csv",done:a})},b.exports=e},{"./../abstract-client-resource":61}],85:[function(a,b,c){"use strict";function d(){}var e=a("q"),f=a("./../abstract-client-resource"),g=f.extend();g.path="task",g.list=function(a,b){b=b||d;var c=e.defer();return this.http.get(this.path,{data:a,done:function(a,d){if(a)return b(a),c.reject(a);if(d._embedded){var e=d._embedded.task||d._embedded.tasks,f=d._embedded.processDefinition;for(var g in e){var h=e[g];h._embedded=h._embedded||{};for(var i in f)if(f[i].id===h.processDefinitionId){h._embedded.processDefinition=[f[i]];break}}}b(null,d),c.resolve(d)}}),c.promise},g.get=function(a,b){return this.http.get(this.path+"/"+a,{done:b})},g.comments=function(a,b){return this.http.get(this.path+"/"+a+"/comment",{done:b})},g.identityLinks=function(a,b){return this.http.get(this.path+"/"+a+"/identity-links",{done:b})},g.identityLinksAdd=function(a,b,c){return 2===arguments.length&&(c=arguments[1],b=arguments[0],a=b.id),this.http.post(this.path+"/"+a+"/identity-links",{data:b,done:c})},g.identityLinksDelete=function(a,b,c){return 2===arguments.length&&(c=arguments[1],b=arguments[0],a=b.id),this.http.post(this.path+"/"+a+"/identity-links/delete",{data:b,done:c})},g.createComment=function(a,b,c){return this.http.post(this.path+"/"+a+"/comment/create",{data:{message:b},done:c})},g.create=function(a,b){return this.http.post(this.path+"/create",{data:a,done:b})},g.update=function(a,b){return this.http.put(this.path+"/"+a.id,{data:a,done:b})},g.assignee=function(a,b,c){var d={userId:b};return 2===arguments.length&&(a=arguments[0].taskId,d.userId=arguments[0].userId,c=arguments[1]),this.http.post(this.path+"/"+a+"/assignee",{data:d,done:c})},g.delegate=function(a,b,c){var d={userId:b};return 2===arguments.length&&(a=arguments[0].taskId,d.userId=arguments[0].userId,c=arguments[1]),this.http.post(this.path+"/"+a+"/delegate",{data:d,done:c})},g.claim=function(a,b,c){var d={userId:b};return 2===arguments.length&&(a=arguments[0].taskId,d.userId=arguments[0].userId,c=arguments[1]),this.http.post(this.path+"/"+a+"/claim",{data:d,done:c})},g.unclaim=function(a,b){return"string"!=typeof a&&(a=a.taskId),this.http.post(this.path+"/"+a+"/unclaim",{done:b})},g.submitForm=function(a,b){if(b=b||d,!a.id){var c=new Error("Task submitForm needs a task id.");return b(c),e.reject(c)}return this.http.post(this.path+"/"+a.id+"/submit-form",{data:{variables:a.variables},done:b})},g.complete=function(a,b){if(b=b||d,!a.id){var c=new Error("Task complete needs a task id.");return b(c),e.reject(c)}return this.http.post(this.path+"/"+a.id+"/complete",{data:{variables:a.variables},done:b})},g.formVariables=function(a,b){b=b||d;var c="";if(a.key)c="key/"+a.key;else{if(!a.id){var f=new Error("Task variables needs either a key or an id.");return b(f),e.reject(f)}c=a.id}var g={deserializeValues:a.deserializeValues};return a.names&&(g.variableNames=a.names.join(",")),this.http.get(this.path+"/"+c+"/form-variables",{data:g,done:b})},g.form=function(a,b){return this.http.get(this.path+"/"+a+"/form",{done:b})},g.localVariable=function(a,b){return this.http.put(this.path+"/"+a.id+"/localVariables/"+a.varId,{data:a,done:b})},g.localVariables=function(a,b){return this.http.get(this.path+"/"+a+"/localVariables",{done:b})},g.modifyVariables=function(a,b){return this.http.post(this.path+"/"+a.id+"/localVariables",{data:a,done:b})},g.deleteVariable=function(a,b){return this.http.del(this.path+"/"+a.id+"/localVariables/"+a.varId,{done:b})},b.exports=g},{"./../abstract-client-resource":61,q:"q"}],86:[function(a,b,c){"use strict";function d(){}var e=a("./../abstract-client-resource"),f=a("../../utils"),g=e.extend();g.path="tenant",g.create=function(a,b){return this.http.post(this.path+"/create",{data:a,done:b||d})},g.count=function(a,b){return 1===arguments.length?(b=a,a={}):a=a||{},this.http.get(this.path+"/count",{data:a,done:b||d})},g.get=function(a,b){var c;return"string"==typeof a?(c=a,a={}):(c=a.id,delete a.id),this.http.get(this.path+"/"+f.escapeUrl(c),{data:a,done:b||d})},g.list=function(a,b){return 1===arguments.length?(b=a,a={}):a=a||{},this.http.get(this.path,{data:a,done:b||d})},g.createUserMember=function(a,b){return this.http.put(this.path+"/"+f.escapeUrl(a.id)+"/user-members/"+f.escapeUrl(a.userId),{data:a,done:b||d})},g.createGroupMember=function(a,b){return this.http.put(this.path+"/"+f.escapeUrl(a.id)+"/group-members/"+f.escapeUrl(a.groupId),{data:a,done:b||d})},g.deleteUserMember=function(a,b){return this.http.del(this.path+"/"+f.escapeUrl(a.id)+"/user-members/"+f.escapeUrl(a.userId),{data:a,done:b||d})},g.deleteGroupMember=function(a,b){return this.http.del(this.path+"/"+f.escapeUrl(a.id)+"/group-members/"+f.escapeUrl(a.groupId),{data:a,done:b||d})},g.update=function(a,b){return this.http.put(this.path+"/"+f.escapeUrl(a.id),{data:a,done:b||d})},g["delete"]=function(a,b){return this.http.del(this.path+"/"+f.escapeUrl(a.id),{data:a,done:b||d})},g.options=function(a,b){var c;return 1===arguments.length?(b=a,c=""):(c="string"==typeof a?a:a.id,void 0===c&&(c="")),this.http.options(this.path+"/"+f.escapeUrl(c),{done:b||d,headers:{Accept:"application/json"}})},b.exports=g},{"../../utils":101,"./../abstract-client-resource":61}],87:[function(a,b,c){"use strict";function d(){}var e=a("q"),f=a("./../abstract-client-resource"),g=a("../../utils"),h=f.extend();h.path="user",h.options=function(a,b){var c;return 1===arguments.length?(b=a,c=""):(c="string"==typeof a?a:a.id,void 0===c&&(c="")),this.http.options(this.path+"/"+g.escapeUrl(c),{done:b||d,headers:{Accept:"application/json"}})},h.create=function(a,b){a=a||{},b=b||d;var c=["id","firstName","lastName","password"];for(var f in c){var g=c[f];if(!a[g]){var h=new Error("Missing "+g+" option to create user");return b(h),e.reject(h)}}var i={profile:{id:a.id,firstName:a.firstName,lastName:a.lastName},credentials:{password:a.password}};return a.email&&(i.profile.email=a.email),this.http.post(this.path+"/create",{data:i,done:b})},h.list=function(a,b){return 1===arguments.length?(b=a,a={}):a=a||{},this.http.get(this.path,{data:a,done:b||d})},h.count=function(a,b){return 1===arguments.length?(b=a,a={}):a=a||{},this.http.get(this.path+"/count",{data:a,done:b||d})},h.profile=function(a,b){var c="string"==typeof a?a:a.id;return this.http.get(this.path+"/"+g.escapeUrl(c)+"/profile",{done:b||d})},h.updateProfile=function(a,b){if(a=a||{},b=b||d,!a.id){var c=new Error("Missing id option to update user profile");return b(c),e.reject(c)}return this.http.put(this.path+"/"+g.escapeUrl(a.id)+"/profile",{data:a,done:b})},h.updateCredentials=function(a,b){a=a||{},b=b||d;var c;if(!a.id)return c=new Error("Missing id option to update user credentials"),b(c),e.reject(c);if(!a.password)return c=new Error("Missing password option to update user credentials"),b(c),e.reject(c);var f={password:a.password};return a.authenticatedUserPassword&&(f.authenticatedUserPassword=a.authenticatedUserPassword),this.http.put(this.path+"/"+g.escapeUrl(a.id)+"/credentials",{data:f,done:b})},h["delete"]=function(a,b){var c="string"==typeof a?a:a.id;return this.http.del(this.path+"/"+g.escapeUrl(c),{done:b||d})},b.exports=h},{"../../utils":101,"./../abstract-client-resource":61,q:"q"}],88:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="variable-instance",e.instances=function(a,b){return this.http.post(this.path,{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":61}],89:[function(a,b,c){"use strict";function d(){}function e(){this.initialize()}var f=a("./events");e.extend=function(a,b){a=a||{},b=b||{};var c,d,e,f,g=this;c=a&&Object.hasOwnProperty.call(g,"constructor")?a.constructor:function(){return g.apply(this,arguments)};for(e in g)c[e]=g[e];for(e in b)c[e]=b[e];d=function(){this.constructor=c},d.prototype=g.prototype,c.prototype=new d;for(f in a)c.prototype[f]=a[f];return c},e.prototype.initialize=d,f.attach(e),b.exports=e},{"./events":90}],90:[function(a,b,c){"use strict";function d(a){var b,c=[];for(b in a)c.push(a[b]);return c}function e(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}}function f(a,b){a._events=a._events||{},a._events[b]=a._events[b]||[]}var g={};g.attach=function(a){a.on=this.on,a.once=this.once,a.off=this.off,a.trigger=this.trigger,a._events={}},g.on=function(a,b){return f(this,a),this._events[a].push(b),this},g.once=function(a,b){var c=this,d=e(function(){c.off(a,e),b.apply(this,arguments)});return d._callback=b,this.on(a,d)},g.off=function(a,b){if(f(this,a),!b)return delete this._events[a],this;var c,d=[];for(c in this._events[a])this._events[a][c]!==b&&d.push(this._events[a][c]);return this._events[a]=d,this},g.trigger=function(){var a=d(arguments),b=a.shift();f(this,b);var c;for(c in this._events[b])this._events[b][c](this,a);return this},b.exports=g},{}],91:[function(require,module,exports){"use strict";function CamundaForm(a){if(!a)throw new Error("CamundaForm need to be initialized with options.");var b=a.done=a.done||function(a){if(a)throw a};return a.client?this.client=a.client:this.client=new CamSDK.Client(a.clientConfig||{}),a.taskId||a.processDefinitionId||a.processDefinitionKey?(this.taskId=a.taskId,this.taskId&&(this.taskBasePath=this.client.baseUrl+"/task/"+this.taskId),this.processDefinitionId=a.processDefinitionId,this.processDefinitionKey=a.processDefinitionKey,this.formElement=a.formElement,this.containerElement=a.containerElement,this.formUrl=a.formUrl,this.formElement||this.containerElement?this.formElement||this.formUrl?(this.variableManager=new VariableManager({client:this.client}),this.formFieldHandlers=a.formFieldHandlers||[InputFieldHandler,ChoicesFieldHandler,FileDownloadHandler],this.businessKey=null,this.fields=[],this.scripts=[],this.options=a,Events.attach(this),void this.initialize(b)):b(new Error("Camunda form needs to be intialized with either 'formElement' or 'formUrl'")):b(new Error("CamundaForm needs to be initilized with either 'formElement' or 'containerElement'"))):b(new Error("Cannot initialize Taskform: either 'taskId' or 'processDefinitionId' or 'processDefinitionKey' must be provided"))}var $=require("./dom-lib"),VariableManager=require("./variable-manager"),InputFieldHandler=require("./controls/input-field-handler"),ChoicesFieldHandler=require("./controls/choices-field-handler"),FileDownloadHandler=require("./controls/file-download-handler"),BaseClass=require("./../base-class"),constants=require("./constants"),Events=require("./../events");CamundaForm.prototype.initializeHandler=function(a){var b=this,c=a.selector;$(c,b.formElement).each(function(){b.fields.push(new a(this,b.variableManager))})},CamundaForm.prototype.initialize=function(a){a=a||function(a){if(a)throw a};var b=this;if(this.formUrl)this.client.http.load(this.formUrl,{accept:"*/*",done:function(c,d){if(c)return a(c);try{b.renderForm(d),b.initializeForm(a)}catch(e){a(e)}},data:{noCache:Date.now()}});else try{this.initializeForm(a)}catch(c){a(c)}},CamundaForm.prototype.renderForm=function(a){$(this.containerElement).html("").append('<div class="injected-form-wrapper">'+a+"</div>");var b=this.formElement=$("form",this.containerElement);if(1!==b.length)throw new Error("Form must provide exaclty one element <form ..>");b.attr("name")||b.attr("name","$$camForm")},CamundaForm.prototype.initializeForm=function(a){var b=this;this.initializeFormScripts(),this.initializeFieldHandlers(),this.executeFormScripts(),this.fireEvent("form-loaded"),this.fetchVariables(function(c,d){if(c)throw c;b.mergeVariables(d),b.storeOriginalValues(d),b.fireEvent("variables-fetched"),b.restore(),b.fireEvent("variables-restored"),b.applyVariables(),b.fireEvent("variables-applied"),a(null,b)})},CamundaForm.prototype.initializeFieldHandlers=function(){for(var a in this.formFieldHandlers)this.initializeHandler(this.formFieldHandlers[a])},CamundaForm.prototype.initializeFormScripts=function(){for(var a=$("script["+constants.DIRECTIVE_CAM_SCRIPT+"]",this.formElement),b=0;b<a.length;b++)this.scripts.push(a[b].text)},CamundaForm.prototype.executeFormScripts=function(){for(var a=0;a<this.scripts.length;a++)this.executeFormScript(this.scripts[a])},CamundaForm.prototype.executeFormScript=function(script){!function(camForm){eval(script)}(this)},CamundaForm.prototype.store=function(a){var b=this.taskId||this.processDefinitionId||this.caseInstanceId;if(!b){if("function"==typeof a)return a(new Error("Cannot determine the storage ID"));throw new Error("Cannot determine the storage ID")}if(this.storePrevented=!1,this.fireEvent("store"),!this.storePrevented){try{this.retrieveVariables();var c={date:Date.now(),vars:{}};for(var d in this.variableManager.variables)"Bytes"!==this.variableManager.variables[d].type&&(c.vars[d]=this.variableManager.variables[d].value);localStorage.setItem("camForm:"+b,JSON.stringify(c))}catch(e){if("function"==typeof a)return a(e);throw e}this.fireEvent("variables-stored"),"function"==typeof a&&a()}},CamundaForm.prototype.isRestorable=function(){var a=this.taskId||this.processDefinitionId||this.caseInstanceId;if(!a)throw new Error("Cannot determine the storage ID");if(!localStorage.getItem("camForm:"+a))return!1;var b=localStorage.getItem("camForm:"+a);try{b=JSON.parse(b)}catch(c){return!1}return!(!b||!Object.keys(b).length)},CamundaForm.prototype.restore=function(a){var b,c=this.variableManager.variables,d=this.taskId||this.processDefinitionId||this.caseDefinitionId;if(!d){if("function"==typeof a)return a(new Error("Cannot determine the storage ID"));throw new Error("Cannot determine the storage ID")}if(this.isRestorable()){try{b=localStorage.getItem("camForm:"+d),b=JSON.parse(b).vars}catch(e){if("function"==typeof a)return a(e);throw e}for(var f in b)c[f]?c[f].value=b[f]:c[f]={name:f,value:b[f]};"function"==typeof a&&a()}else if("function"==typeof a)return a()},CamundaForm.prototype.submit=function(a){var b=this.taskId||this.processDefinitionId;if(this.submitPrevented=!1,this.fireEvent("submit"),this.submitPrevented){var c=new Error("camForm submission prevented");return this.fireEvent("submit-failed",c),a&&a(c)}try{this.retrieveVariables()}catch(d){return a&&a(d)}var e=this;this.transformFiles(function(){e.submitVariables(function(c,d){return c?(e.fireEvent("submit-failed",c),a&&a(c)):(localStorage.removeItem("camForm:"+b),e.fireEvent("submit-success"),a&&a(null,d))})})},CamundaForm.prototype.transformFiles=function(a){var b=this,c=1,d=function(){0===--c&&a()},e=function(a){if(0===a)return"0 Byte";var b=1e3,c=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],d=Math.floor(Math.log(a)/Math.log(b));return(a/Math.pow(b,d)).toPrecision(3)+" "+c[d]};for(var f in this.fields){var g=this.fields[f].element[0];if("file"===g.getAttribute("type"))if("function"==typeof FileReader&&g.files.length>0){if(g.files[0].size>(parseInt(g.getAttribute("cam-max-filesize"),10)||5e6))throw new Error("Maximum file size of "+e(parseInt(g.getAttribute("cam-max-filesize"),10)||5e6)+" exceeded.");var h=new FileReader;h.onloadend=function(a,c){return function(e){for(var f="",g=new Uint8Array(e.target.result),h=g.byteLength,i=0;i<h;i++)f+=String.fromCharCode(g[i]);var j=b.variableManager.variables[b.fields[a].variableName];j.value=btoa(f),"file"===j.type.toLowerCase()&&(j.valueInfo={filename:c.files[0].name,mimeType:c.files[0].type}),d()}}(f,g),h.readAsArrayBuffer(g.files[0]),c++}else b.variableManager.variables[b.fields[f].variableName].value=null}d()},CamundaForm.prototype.fetchVariables=function(a){a=a||function(){};var b=this.variableManager.variableNames();if(b.length){var c={names:b,deserializeValues:!1};this.taskId?(c.id=this.taskId,this.client.resource("task").formVariables(c,a)):(c.id=this.processDefinitionId,c.key=this.processDefinitionKey,this.client.resource("process-definition").formVariables(c,a))}else a()},CamundaForm.prototype.submitVariables=function(a){a=a||function(){};var b=this.variableManager,c=b.variables,d={};for(var e in c)if(b.isDirty(e)){var f=c[e].value;b.isJsonVariable(e)&&(f=JSON.stringify(f)),d[e]={value:f,type:c[e].type,valueInfo:c[e].valueInfo}}var g={variables:d};if(this.taskId)g.id=this.taskId,this.client.resource("task").submitForm(g,a);else{var h=this.businessKey||this.formElement.find('input[type="text"][cam-business-key]').val();h&&(g.businessKey=h),g.id=this.processDefinitionId,g.key=this.processDefinitionKey,this.client.resource("process-definition").submitForm(g,a)}},CamundaForm.prototype.storeOriginalValues=function(a){for(var b in a)this.variableManager.setOriginalValue(b,a[b].value)},CamundaForm.prototype.mergeVariables=function(a){var b=this.variableManager.variables;for(var c in a){if(b[c])for(var d in a[c])b[c][d]=b[c][d]||a[c][d];else b[c]=a[c];this.variableManager.isJsonVariable(c)&&(b[c].value=JSON.parse(a[c].value));var e=b[c].type;!this.taskBasePath||"Bytes"!==e&&"File"!==e||(b[c].contentUrl=this.taskBasePath+"/variables/"+b[c].name+"/data"),this.variableManager.isVariablesFetched=!0}},CamundaForm.prototype.applyVariables=function(){for(var a in this.fields)this.fields[a].applyValue()},CamundaForm.prototype.retrieveVariables=function(){for(var a in this.fields)this.fields[a].getValue()},CamundaForm.prototype.fireEvent=function(a,b){this.trigger(a,b)},CamundaForm.$=$,CamundaForm.VariableManager=VariableManager,CamundaForm.fields={},CamundaForm.fields.InputFieldHandler=InputFieldHandler,CamundaForm.fields.ChoicesFieldHandler=ChoicesFieldHandler,CamundaForm.cleanLocalStorage=function(a){for(var b=0;b<localStorage.length;b++){var c=localStorage.key(b);if(0===c.indexOf("camForm:")){var d=JSON.parse(localStorage.getItem(c));d.date<a&&(localStorage.removeItem(c),b--)}}},CamundaForm.extend=BaseClass.extend,module.exports=CamundaForm},{"./../base-class":89,"./../events":90,"./constants":92,"./controls/choices-field-handler":94,"./controls/file-download-handler":95,"./controls/input-field-handler":96,"./dom-lib":97,"./variable-manager":99}],92:[function(a,b,c){"use strict";b.exports={DIRECTIVE_CAM_FORM:"cam-form",DIRECTIVE_CAM_VARIABLE_NAME:"cam-variable-name",DIRECTIVE_CAM_VARIABLE_TYPE:"cam-variable-type",DIRECTIVE_CAM_FILE_DOWNLOAD:"cam-file-download",DIRECTIVE_CAM_CHOICES:"cam-choices",DIRECTIVE_CAM_SCRIPT:"cam-script"}},{}],93:[function(a,b,c){"use strict";function d(){}function e(a,b){this.element=g(a),this.variableManager=b,this.variableName=null,this.initialize()}var f=a("../../base-class"),g=a("./../dom-lib");e.selector=null,e.extend=f.extend,e.prototype.initialize=d,e.prototype.applyValue=d,e.prototype.getValue=d,b.exports=e},{"../../base-class":89,"./../dom-lib":97}],94:[function(a,b,c){"use strict";var d=a("./../constants"),e=a("./abstract-form-field"),f=a("./../dom-lib"),g=e.extend({initialize:function(){var a=this.variableName=this.element.attr(d.DIRECTIVE_CAM_VARIABLE_NAME),b=this.variableType=this.element.attr(d.DIRECTIVE_CAM_VARIABLE_TYPE),c=this.choicesVariableName=this.element.attr(d.DIRECTIVE_CAM_CHOICES);this.variableManager.createVariable({name:a,type:b,value:this.element.val()||null}),c&&this.variableManager.fetchVariable(c),this.originalValue=this.element.val()||null,this.previousValue=this.originalValue,this.variableName=a},applyValue:function(){var a=this.element[0].selectedIndex;if(this.choicesVariableName){var b=this.variableManager.variableValue(this.choicesVariableName);if(b)if(b instanceof Array)for(var c=0;c<b.length;c++){var d=b[c];this.element.find('option[text="'+d+'"]').length||this.element.append(f("<option>",{value:d,text:d}))}else for(var e in b)this.element.find('option[value="'+e+'"]').length||this.element.append(f("<option>",{value:e,text:b[e]}))}this.element[0].selectedIndex=a,this.previousValue=this.element.val()||"";var g=this.variableManager.variableValue(this.variableName);return g!==this.previousValue&&(this.element.val(g),this.element.trigger("camFormVariableApplied",g)),this},getValue:function(){var a,b=this.element.prop("multiple");return b?(a=[],this.element.find("option:selected").each(function(){a.push(f(this).val())})):a=this.element.find("option:selected").attr("value"),this.variableManager.variableValue(this.variableName,a),a}},{selector:"select["+d.DIRECTIVE_CAM_VARIABLE_NAME+"]"});b.exports=g},{"./../constants":92,"./../dom-lib":97,"./abstract-form-field":93}],95:[function(a,b,c){"use strict";var d=a("./../constants"),e=a("./abstract-form-field"),f=e.extend({initialize:function(){this.variableName=this.element.attr(d.DIRECTIVE_CAM_FILE_DOWNLOAD),this.variableManager.fetchVariable(this.variableName)},applyValue:function(){var a=this.variableManager.variable(this.variableName);return this.element.attr("href",a.contentUrl),0===this.element.text().trim().length&&this.element.text(a.valueInfo.filename),this}},{selector:"a["+d.DIRECTIVE_CAM_FILE_DOWNLOAD+"]"});b.exports=f},{"./../constants":92,"./abstract-form-field":93}],96:[function(a,b,c){"use strict";var d=a("./../constants"),e=a("./abstract-form-field"),f=function(a){return"checkbox"===a.attr("type")&&"Boolean"===a.attr(d.DIRECTIVE_CAM_VARIABLE_TYPE)},g=e.extend({initialize:function(){var a=this.element.attr(d.DIRECTIVE_CAM_VARIABLE_NAME),b=this.element.attr(d.DIRECTIVE_CAM_VARIABLE_TYPE);this.variableManager.createVariable({name:a,type:b}),this.originalValue=this.element.val(),this.previousValue=this.originalValue,this.variableName=a,this.getValue()},applyValue:function(){this.previousValue=this.getValueFromHtmlControl()||"";var a=this.variableManager.variableValue(this.variableName);return a!==this.previousValue&&(this.applyValueToHtmlControl(a),this.element.trigger("camFormVariableApplied",a)),this},getValue:function(){var a=this.getValueFromHtmlControl();return this.variableManager.variableValue(this.variableName,a),a},getValueFromHtmlControl:function(){return f(this.element)?this.element.prop("checked"):this.element.val()},applyValueToHtmlControl:function(a){f(this.element)?this.element.prop("checked",a):"file"!==this.element[0].type&&this.element.val(a)}},{selector:"input["+d.DIRECTIVE_CAM_VARIABLE_NAME+"],textarea["+d.DIRECTIVE_CAM_VARIABLE_NAME+"]"});b.exports=g},{"./../constants":92,"./abstract-form-field":93}],97:[function(a,b,c){(function(a){"use strict";!function(b){b("undefined"!=typeof window?window:a)}(function(a){a=a||{},b.exports=a.jQuery||!!a.angular&&a.angular.element||a.Zepto})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],98:[function(a,b,c){"use strict";var d=/^-?[\d]+$/,e=/^(0|(-?(((0|[1-9]\d*)\.\d+)|([1-9]\d*))))([eE][-+]?[0-9]+)?$/,f=/^(true|false)$/,g=/^(\d{2}|\d{4})(?:\-)([0]{1}\d{1}|[1]{1}[0-2]{1})(?:\-)([0-2]{1}\d{1}|[3]{1}[0-1]{1})T(?:\s)?([0-1]{1}\d{1}|[2]{1}[0-3]{1}):([0-5]{1}\d{1}):([0-5]{1}\d{1})?$/,h=function(a,b){switch(b){case"Integer":case"Long":case"Short":return d.test(a);case"Float":case"Double":return e.test(a);case"Boolean":return f.test(a);case"Date":return g.test(k(a))}},i=function(a,b){if("string"==typeof a&&(a=a.trim()),"String"===b||"Bytes"===b||"File"===b)return a;if(!h(a,b))throw new Error("Value '"+a+"' is not of type "+b);switch(b){case"Integer":case"Long":case"Short":return parseInt(a,10);case"Float":case"Double":return parseFloat(a);case"Boolean":return"true"===a;case"Date":return k(a)}},j=function(a){return a<10?"0"+a:a},k=function(a){if("object"==typeof a&&"function"==typeof a.getFullYear){var b=a.getFullYear(),c=j(a.getMonth()+1),d=j(a.getDate()),e=j(a.getHours()),f=j(a.getMinutes()),g=j(a.getSeconds());return b+"-"+c+"-"+d+"T"+e+":"+f+":"+g}return a};b.exports={convertToType:i,isType:h,dateToString:k}},{}],99:[function(a,b,c){"use strict";function d(){this.variables={},this.isVariablesFetched=!1}var e=a("./type-util").convertToType;d.prototype.fetchVariable=function(a){if(this.isVariablesFetched)throw new Error("Illegal State: cannot call fetchVariable(), variables already fetched.");this.createVariable({name:a})},d.prototype.createVariable=function(a){if(this.variables[a.name])throw new Error("Cannot add variable with name "+a.name+": already exists.");this.variables[a.name]=a},d.prototype.destroyVariable=function(a){if(!this.variables[a])throw new Error("Cannot remove variable with name "+a+": variable does not exist.");delete this.variables[a]},d.prototype.setOriginalValue=function(a,b){if(!this.variables[a])throw new Error("Cannot set original value of variable with name "+a+": variable does not exist.");this.variables[a].originalValue=b},d.prototype.variable=function(a){return this.variables[a]},d.prototype.variableValue=function(a,b){var c=this.variable(a);return"undefined"==typeof b||null===b?b=null:""===b&&"String"!==c.type?b=null:"string"==typeof b&&"String"!==c.type&&(b=e(b,c.type)),2===arguments.length&&(c.value=b),c.value},d.prototype.isDirty=function(a){var b=this.variable(a);return this.isJsonVariable(a)?b.originalValue!==JSON.stringify(b.value):b.originalValue!==b.value||"Object"===b.type},d.prototype.isJsonVariable=function(a){var b=this.variable(a),c=b.type,d=["Object","json","Json"],e=d.indexOf(c);return 0===e?b.valueInfo.serializationDataFormat.indexOf("application/json")!==-1:e!==-1},d.prototype.variableNames=function(){return Object.keys(this.variables)},b.exports=d},{"./type-util":98}],100:[function(a,b,c){b.exports={Client:a("./api-client"),utils:a("./utils")}},{"./api-client":63,"./utils":101}],101:[function(a,b,c){"use strict";function d(a,b,c){if(c=c||function(){},!a.length)return c();var d=0,e=function(){b(a[d],function(b){b?(c(b),c=function(){}):(d+=1,d>=a.length?c():e())})};e()}var e=b.exports={typeUtils:a("./forms/type-util")};e.solveHALEmbedded=function(a){function b(b){if("Id"!==b.slice(-2))return!1;var c=b.slice(0,-2),d=a._embedded;return!(!d[c]||!d[c].length)}function c(a){var c=Object.keys(a);for(var d in c)"_"!==c[d][0]&&b(c[d])||c.splice(d,1);return c}var d=Object.keys(a._embedded||{});for(var e in d){var f=d[e];for(var g in a._embedded[f]){a._embedded[f][g]._embedded=a._embedded[f][g]._embedded||{};var h=c(a._embedded[f][g]);for(var i in h){var j=h[i];if(a._embedded[f][g][j]){var k=a._embedded[j.slice(0,-2)];for(var l in k)k[l].id===a._embedded[f][g][j]&&(a._embedded[f][g]._embedded[j.slice(0,-2)]=[k[l]])}}}}return a},e.series=function(a,b){b=b||function(){};var c={};d(Object.keys(a),function(b,d){a[b](function(a){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),c[b]=e,d(a)})},function(a){b(a,c)})},e.escapeUrl=function(a){return encodeURI(a).replace(/\//g,"%2F").replace(/%2F/g,"%252F").replace(/\*/g,"%2A").replace(/%5C/g,"%255C")}},{"./forms/type-util":98}],102:[function(a,b,c){"use strict";b.exports=a("angular")},{angular:"angular"}],103:[function(a,b,c){"use strict";function d(a){f.call(this,a)}var e=a("inherits"),f=a("./Viewer");e(d,f),b.exports=d,d.prototype._navigationModules=[a("diagram-js/lib/navigation/zoomscroll"),a("diagram-js/lib/navigation/movecanvas")],d.prototype._modules=[].concat(d.prototype._modules,d.prototype._navigationModules)},{"./Viewer":104,"diagram-js/lib/navigation/movecanvas":165,"diagram-js/lib/navigation/zoomscroll":168,inherits:188}],104:[function(a,b,c){"use strict";function d(a){var b=/unparsable content <([^>]+)> detected([\s\S]*)$/,c=b.exec(a.message);return c&&(a.message="unparsable content <"+c[1]+"> detected; this may indicate an invalid CMMN 1.1 diagram file"+c[2]),a}function e(a){return a+(k(a)?"px":"")}function f(a){a=h({},s,a),this.moddle=this._createModdle(a),this.container=this._createContainer(a),g(this.container),this._init(this.container,this.moddle,a)}function g(a){var b=t.BPMNIO_LOGO,c='<a href="http://bpmn.io" target="_blank" class="cjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100"><img src="data:image/png;base64,'+b+'"></a>',d=m(c);a.appendChild(d),u.bind(d,"click",function(a){t.open(),a.preventDefault()})}var h=a("lodash/object/assign"),i=a("lodash/object/omit"),j=a("lodash/lang/isString"),k=a("lodash/lang/isNumber"),l=a("inherits"),m=a("min-dom/lib/domify"),n=a("min-dom/lib/query"),o=a("min-dom/lib/remove"),p=a("diagram-js"),q=a("cmmn-moddle"),r=a("./import/Importer"),s={width:"100%",height:"100%",position:"relative",container:"body"};l(f,p),b.exports=f,f.prototype.importXML=function(a,b){b=b||function(){};var c=this;a=this._emit("import.parse.start",{xml:a})||a,this.moddle.fromXML(a,"cmmn:Definitions",function(a,e,f){if(e=c._emit("import.parse.complete",{error:a,definitions:e,context:f})||e,a)return a=d(a),c._emit("import.done",{error:a}),b(a);var g=f.warnings;c.importDefinitions(e,function(a,d){var e=[].concat(g,d||[]);c._emit("import.done",{error:a,warnings:e}),b(a,e)})})},f.prototype.saveXML=function(a,b){b||(b=a,a={});var c=this.definitions;return c?void this.moddle.toXML(c,a,b):b(new Error("no definitions loaded"))},f.prototype.saveSVG=function(a,b){b||(b=a,a={});var c=this.get("canvas"),d=c.getDefaultLayer(),e=c._svg.select("defs"),f=d.innerSVG(),g=e&&e.outerSVG()||"",h=d.getBBox(),i='<?xml version="1.0" encoding="utf-8"?>\n<!-- created with cmmn-js / http://bpmn.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+h.width+'" height="'+h.height+'" viewBox="'+h.x+" "+h.y+" "+h.width+" "+h.height+'" version="1.1">'+g+f+"</svg>";b(null,i)},f.prototype.importDefinitions=function(a,b){try{this.definitions&&this.clear(),this.definitions=a,r.importCmmnDiagram(this,a,b)}catch(c){b(c)}},f.prototype.getModules=function(){return this._modules},f.prototype.destroy=function(){p.prototype.destroy.call(this),o(this.container)},f.prototype.on=function(a,b,c,d){return this.get("eventBus").on(a,b,c,d)},f.prototype.off=function(a,b){this.get("eventBus").off(a,b)},f.prototype._init=function(a,b,c){var d=c.modules||this.getModules(),e=c.additionalModules||[],f=[{cmmnjs:["value",this],moddle:["value",b]}],g=[].concat(f,d,e),j=h(i(c,"additionalModules"),{canvas:h({},c.canvas,{container:a}),modules:g});p.call(this,j)},f.prototype._emit=function(a,b){return this.get("eventBus").fire(a,b)},f.prototype._createContainer=function(a){var b,c=a.container;return c.get&&(c=c.get(0)),j(c)&&(c=n(c)),b=m('<div class="cjs-container"></div>'),h(b.style,{width:e(a.width),height:e(a.height),position:a.position}),c.appendChild(b),b},f.prototype._createModdle=function(a){var b=h({},this._moddleExtensions,a.moddleExtensions);return new q(b)},f.prototype._modules=[a("./core"),a("diagram-js/lib/features/selection"),a("diagram-js/lib/features/overlays")];var t=a("./util/PoweredByUtil"),u=a("min-dom/lib/event")},{"./core":106,"./import/Importer":113,"./util/PoweredByUtil":119,"cmmn-moddle":120,"diagram-js":141,"diagram-js/lib/features/overlays":158,"diagram-js/lib/features/selection":162,inherits:188,"lodash/lang/isNumber":301,"lodash/lang/isString":304,"lodash/object/assign":307,"lodash/object/omit":311,"min-dom/lib/domify":322,"min-dom/lib/event":323,"min-dom/lib/query":324,"min-dom/lib/remove":325}],105:[function(a,b,c){"use strict";function d(a,b){this._items={},this._referencedBy={},this._elementRegistry=a,this._eventBus=b,this._init()}function e(a){return h(a)||i(a)}function f(a){return j(a,["cmmn:PlanItemDefinition","cmmn:Sentry","cmmn:CaseFileItemDefinition"])}var g=a("../util/ModelUtil"),h=g.getDefinition,i=g.getSentry,j=a("../features/modeling/util/ModelingUtil").isAny,k=a("lodash/collection/forEach"),l=a("lodash/lang/isArray");
d.$inject=["elementRegistry","eventBus"],b.exports=d,d.prototype._init=function(a){var b=this._eventBus;b.on("diagram.destroy",500,this._clear,this),b.on("diagram.clear",500,this._clear,this)},d.prototype._clear=function(){this._items={},this._referencedBy={}},d.prototype.add=function(a){var b=this._items,c=a.id,d=this._referencedBy,f=e(a),g=f&&f.id;b[c]=a,f&&(d[g]=d[g]||[],d[g].indexOf(a)===-1&&d[g].push(a))},d.prototype.remove=function(a){var b=this._items,c=a.id,d=this._referencedBy,f=e(a),g=f&&f.id;if(delete b[c],f){var h=d[g]||[],i=h.indexOf(a);i!==-1&&h.splice(i,1),h.length||delete d[g]}},d.prototype.updateId=function(a,b){var c,d;"string"==typeof a&&(a=this.get(a)),c=f(a)?this._referencedBy:this._items,a&&(d=c[a.id],delete c[a.id],c[b]=d)},d.prototype.updateReference=function(a,b){var c=this._referencedBy,d=e(a),f=d&&d.id;if(d){var g=c[f]||[],h=g.indexOf(a);h!==-1&&g.splice(h,1),g.length||delete c[f]}if(b){var i=b.id;i&&(c[i]=c[i]||[],c[i].indexOf(a)===-1&&c[i].push(a))}},d.prototype.get=function(a){return this._items[a]},d.prototype.filter=function(a){var b=[];return this.forEach(function(c,d){a(c,d)&&b.push(c)}),b},d.prototype.getAll=function(){return this.filter(function(a){return a})},d.prototype.forEach=function(a){var b=this._items;k(b,function(b){return a(b,e(b))})},d.prototype.getReferences=function(a){var b=a.id||a;return(this._referencedBy[b]||[]).slice()},d.prototype.getShape=function(a){var b=a.id||a;return this._elementRegistry&&this._elementRegistry.get(b)},d.prototype.getShapes=function(a){function b(a){a&&c.push(a)}var c=[],d=this;if(l(a))k(a,function(a){b(d.getShape(a))});else if(f(a)){var e=d.getReferences(a);k(e,function(a){b(d.getShape(a))})}else b(d.getShape(a));return c}},{"../features/modeling/util/ModelingUtil":110,"../util/ModelUtil":118,"lodash/collection/forEach":195,"lodash/lang/isArray":298}],106:[function(a,b,c){b.exports={__depends__:[a("../draw"),a("../import")],itemRegistry:["type",a("./ItemRegistry")]}},{"../draw":109,"../import":115,"./ItemRegistry":105}],107:[function(a,b,c){"use strict";function d(a,b,c){function d(a,b){_[a]=b}function e(a){return _[a]}function k(a){function b(a,b){var c=h({fill:"black",strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},b.attrs),e=b.ref||{x:0,y:0},f=b.scale||1;"none"===c.strokeDasharray&&(c.strokeDasharray=[1e4,1]);var g=b.element.attr(c).marker(0,0,20,20,e.x,e.y).attr({markerWidth:20*f,markerHeight:20*f});return d(a,g)}b("association-start",{element:a.path("M 11 5 L 1 10 L 11 15"),attrs:{fill:"none",stroke:"black",strokeWidth:1.5},ref:{x:1,y:10},scale:.5}),b("association-end",{element:a.path("M 1 5 L 11 10 L 1 15"),attrs:{fill:"none",stroke:"black",strokeWidth:1.5},ref:{x:12,y:10},scale:.5})}function l(a,c,d){return f(c)||(d=c,c=[]),b.style(c||[],h(d,a||{}))}function B(a,b,c,d,e){g(d)&&(e=d,d=0),d=d||0,e=l(e,{stroke:"black",strokeWidth:2,fill:"white"});var f=b/2,h=c/2;return a.circle(f,h,Math.round((b+c)/4-d)).attr(e)}function C(a,b,c,d,e,f){return g(e)&&(f=e,e=0),e=e||0,f=l(f,{stroke:"black",strokeWidth:2,fill:"white"}),a.rect(e,e,b-2*e,c-2*e,d).attr(f)}function D(a,b,c,d){var e=b/2,f=c/2,g=[e,0,b,f,e,c,0,f];return d=l(d,{stroke:"black",strokeWidth:2,fill:"white"}),a.polygon(g).attr(d)}function E(a,b,c){return c=l(c,["no-fill"],{strokeWidth:2,stroke:"black"}),a.path(b).attr(c)}function F(a,b,c,d,e){d=d||20;var f=d,g=c,h=0,i=c-d,j=0,k=d,l=d,m=0,n=b-d,o=0,p=b,q=d,r=b,s=c-d,t=b-d,u=c,v=[f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u];return e=e||{},e.fill="white",e.stroke="black",e.strokeWidth=2,G(a,v,e)}function G(a,b,c){return a.polygon(b).attr(c)}function H(a,b,c){return c=l(c,["no-fill"],{stroke:"black",strokeWidth:2,fill:"none"}),A(b,c).appendTo(a)}function I(a){for(var b=a.waypoints,c="m  "+b[0].x+","+b[0].y,d=1;d<b.length;d++)c+="L"+b[d].x+","+b[d].y+" ";return c}function J(a,b,c){return $.createText(a,b||"",c).addClass("djs-label")}function K(a,b,c){var d=x(b);return J(a,d,{box:b,align:c,padding:5})}function L(a,b,c){var d=x(b),e=J(a,d,{box:b,align:c,padding:5});return e.transform("translate("+Y+",0)"),e}function M(a,b){var c=q(b),d=18,e=b.width/2-60,f=c.name,g=J(a,f,{box:{height:d,width:e},align:"left-top"}),h=60,i=40,j=g.getBBox().width,k=j+i;j<h&&(k=h+i);var l=[10,0,20,-d,k,-d,k+10,0],m=G(a,l,{fill:"white",stroke:"black",strokeWidth:2,fillOpacity:.95,"pointer-events":"all"});return g.before(m),g.transform("translate(25,"+(-d-1)+")"),g}function N(a,b,c){var d=x(b),e=!1,f=z(b);if(f){var g=m(b);f="["+f+"]",d?g&&(d=d+" "+f):(d=f,b.hidden=e=!g)}return b.hidden=b.labelTarget.hidden||e||!d,J(a,d,{box:b,align:c,style:{fontSize:"11px"}})}function O(a){return aa[a]}function P(a,b){var c=q(b),d=6,e=[];s(c)&&e.push({marker:"RequiredMarker",width:1}),u(c)&&e.push({marker:"ManualActivationMarker",width:14}),t(c)&&e.push({marker:"RepetitionMarker",width:14}),e.length&&(1===e.length?T(e[0].marker,a,b,e[0].width/2*-1):2===e.length?(T(e[0].marker,a,b,e[0].width*-1-d/2),T(e[1].marker,a,b,d/2)):3===e.length&&(T(e[1].marker,a,b,e[1].width/2*-1),T(e[0].marker,a,b,e[1].width/2*-1-d-e[0].width),T(e[2].marker,a,b,e[1].width/2+d)))}function Q(a,b){var c=q(b);v(c)&&T("AutoCompleteMarker",a,b,-7)}function R(a,b,c){var d=q(b),e=6;T("StageMarker",a,b,-7);var f=[];s(d)&&f.push({marker:"RequiredMarker",width:1}),v(d)&&f.push({marker:"AutoCompleteMarker",width:14}),f.length&&(1===f.length?T(f[0].marker,a,b,f[0].width*-1-7-e):2===f.length&&(T(f[0].marker,a,b,f[1].width*-1-7-e-f[0].width*-1-e),T(f[1].marker,a,b,f[1].width*-1-7-e)));var g=[];u(d)&&g.push({marker:"ManualActivationMarker",width:14}),t(d)&&g.push({marker:"RepetitionMarker",width:14}),g.length&&(1===g.length?T(g[0].marker,a,b,7+e):2===g.length&&(T(g[0].marker,a,b,7+e),T(g[1].marker,a,b,7+e+g[0].width+e)))}function S(a,b){w(b)&&T("PlanningTableMarker",a,b)}function T(a,b,c,d){O(a)(b,c,d)}function U(a,b){var c=aa[b.type];return c?c(a,b):i.prototype.drawShape.apply(this,[a,b])}function V(a,b){var c=b.type,d=aa[c];return d?d(a,b):i.prototype.drawConnection.apply(this,[a,b])}i.call(this,a);var W=10,X=24,Y=20,Z={fontFamily:"Arial, sans-serif",fontSize:"12px"},$=new j({style:Z,size:{width:100}}),_={},aa={"cmmn:PlanItem":function(a,b){var c=r(b);return O(c.$type)(a,b)},"cmmn:DiscretionaryItem":function(a,b){var c=r(b),d={strokeDasharray:"10, 12"};return y(c,"cmmn:Task")&&h(d,{strokeDasharray:"12, 12.4",strokeDashoffset:13.6}),O(c.$type)(a,b,d)},"cmmn:Stage":function(a,b,c){c=h({fillOpacity:.95},c);var d;return p(b)?aa["cmmn:CasePlanModel"](a,b):(d=F(a,b.width,b.height,Y,c),o(b)?K(a,b,"center-middle"):L(a,b,"left-top"),S(a,b),R(a,b),d)},"cmmn:PlanFragment":function(a,b,c){var d=C(a,b.width,b.height,W,{strokeDasharray:"10, 12",fillOpacity:.95});return K(a,b,o(b)?"center-middle":"left-top"),R(a,b),d},"cmmn:CasePlanModel":function(a,b){var c=C(a,b.width,b.height,null,{fillOpacity:.95});return M(a,b),S(a,b),Q(a,b),c},"cmmn:Milestone":function(a,b,c){var d=C(a,b.width,b.height,X,c);return K(a,b,"center-middle"),P(a,b),d},"cmmn:EventListener":function(a,b,c){var d=B(a,b.width,b.height,c);return c=c||{},c.strokeWidth=2,B(a,b.width,b.height,.1*b.height,c),d},"cmmn:TimerEventListener":function(a,b,d){var e=O("cmmn:EventListener")(a,b,d),f=c.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:b.width,containerHeight:b.height,position:{mx:.5,my:.5}});E(a,f,{strokeWidth:2,strokeLinecap:"square"});for(var g=0;g<12;g++){var h=c.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:b.width,containerHeight:b.height,position:{mx:.5,my:.5}}),i=b.width/2,j=b.height/2;E(a,h,{strokeWidth:1,strokeLinecap:"square",transform:"rotate("+30*g+","+j+","+i+")"})}return e},"cmmn:UserEventListener":function(a,b,d){var e=O("cmmn:EventListener")(a,b,d),f=20,g=15,h=c.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:f,y:g}});E(a,h,{strokeWidth:.5,fill:"none"});var i=c.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:f,y:g}});E(a,i,{strokeWidth:.5,fill:"none"});var j=c.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:f,y:g}});return E(a,j,{strokeWidth:.5,fill:"black"}),e},"cmmn:Task":function(a,b,c){var d=C(a,b.width,b.height,W,c);return K(a,b,"center-middle"),P(a,b),d},"cmmn:HumanTask":function(a,b,d){var e=O("cmmn:Task")(a,b,d),f=b.businessObject,g=f.definitionRef;if(g.isBlocking){var h=15,i=12,j=c.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:h,y:i}});E(a,j,{strokeWidth:.5,fill:"none"});var k=c.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:h,y:i}});E(a,k,{strokeWidth:.5,fill:"none"});var l=c.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:h,y:i}});E(a,l,{strokeWidth:.5,fill:"black"})}else{var m=c.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}});E(a,m,{strokeWidth:1.25,fill:"white",stroke:"black"})}return S(a,b),e},"cmmn:CaseTask":function(a,b,d){var e=O("cmmn:Task")(a,b,d),f=c.getScaledPath("TASK_TYPE_FOLDER",{abspos:{x:7,y:7}});return E(a,f,{strokeWidth:1.25,fill:"white",stroke:"black"}),e},"cmmn:ProcessTask":function(a,b,d){var e=O("cmmn:Task")(a,b,d),f=c.getScaledPath("TASK_TYPE_CHEVRON",{abspos:{x:5,y:5}});return E(a,f,{strokeWidth:1.25,fill:"white",stroke:"black"}),e},"cmmn:DecisionTask":function(a,b,d){var e=O("cmmn:Task")(a,b,d),f=c.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}}),g=E(a,f);g.attr({strokeWidth:1,fill:"AAA"});var h=c.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}}),i=E(a,h);return i.attr({strokeWidth:1}),e},"cmmn:CaseFileItem":function(a,b,d){var e=c.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:.474,my:.296}});return E(a,e,{fill:"white"})},"cmmn:TextAnnotation":function(a,b){var d={fill:"none",stroke:"none"},e=C(a,b.width,b.height,0,0,d),f=c.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:0,my:0}});E(a,f);var g=q(b).text||"";return J(a,g,{box:b,align:"left-middle",padding:5}),e},"cmmn:Association":function(a,b,c){var d=q(b);return c=h({strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round"},c||{}),"One"!==d.associationDirection&&"Both"!==d.associationDirection||(c.markerEnd=e("association-end")),"Both"===d.associationDirection&&(c.markerStart=e("association-start")),H(a,b.waypoints,c)},StageMarker:function(a,b){var d=C(a,14,14,0,{strokeWidth:1,stroke:"black"});d.transform("translate("+(b.width/2-7)+","+(b.height-17)+")");var e=o(b)?"MARKER_STAGE_COLLAPSED":"MARKER_STAGE_EXPANDED",f=c.getScaledPath(e,{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2-7)/b.width,my:(b.height-17)/b.height}});E(a,f)},RequiredMarker:function(a,b,d){var e=c.getScaledPath("MARKER_REQUIRED",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2+d)/b.width,my:(b.height-17)/b.height}});E(a,e,{strokeWidth:3})},AutoCompleteMarker:function(a,b,c){var d=C(a,11,14,0,{strokeWidth:1,stroke:"black",fill:"black"});d.transform("translate("+(b.width/2+c+2)+","+(b.height-17)+")")},ManualActivationMarker:function(a,b,d){var e=c.getScaledPath("MARKER_MANUAL_ACTIVATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2+d)/b.width,my:(b.height-17)/b.height}});E(a,e,{strokeWidth:1})},RepetitionMarker:function(a,b,d){var e=c.getScaledPath("MARKER_REPEATABLE",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2+d)/b.width,my:(b.height-17)/b.height}});E(a,e)},PlanningTableMarker:function(a,b,d){var e=C(a,30,24,0,{strokeWidth:1.5,stroke:"black"});e.transform("translate("+(b.width/2-15)+","+-17+")");var f=n(b),g=f?"MARKER_PLANNING_TABLE_COLLAPSED":"MARKER_PLANNING_TABLE_EXPANDED",h=c.getScaledPath(g,{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2-15)/b.width,my:-17/b.height}});E(a,h,{strokeWidth:1.5})},"cmmn:OnPart":function(a,b){var c=I(b),d=E(a,c,{strokeDasharray:"10, 5, 2, 5, 2, 5",strokeWidth:1.5});return d},"cmmn:PlanItemOnPart":function(a,b){return O("cmmn:OnPart")(a,b)},"cmmn:CaseFileItemOnPart":function(a,b){return O("cmmn:OnPart")(a,b)},"cmmn:EntryCriterion":function(a,b){return D(a,b.width,b.height,{fill:"white"})},"cmmn:ExitCriterion":function(a,b){return D(a,b.width,b.height,{fill:"black"})},"cmmndi:CMMNEdge":function(a,b){var c=q(b);if(c.cmmnElementRef)return O(c.cmmnElementRef.$type)(a,b);var d=I(b),e=E(a,d,{strokeDasharray:"3, 5",strokeWidth:1});return e},label:function(a,b){return N(a,b,"")}};this.canRender=function(a){return y(a,"cmmn:CMMNElement")||y(a,"cmmndi:CMMNEdge")},this.drawShape=U,this.drawConnection=V,a.on("canvas.init",function(a){k(a.svg)})}var e=a("inherits"),f=a("lodash/lang/isArray"),g=a("lodash/lang/isObject"),h=a("lodash/object/assign"),i=a("diagram-js/lib/draw/BaseRenderer"),j=a("diagram-js/lib/util/Text"),k=a("../util/DiUtil"),l=a("../util/ModelUtil"),m=k.isStandardEventVisible,n=k.isPlanningTableCollapsed,o=k.isCollapsed,p=l.isCasePlanModel,q=l.getBusinessObject,r=l.getDefinition,s=l.isRequired,t=l.isRepeatable,u=l.isManualActivation,v=l.isAutoComplete,w=l.hasPlanningTable,x=l.getName,y=l.is,z=l.getStandardEvent,A=a("diagram-js/lib/util/RenderUtil").createLine;e(d,i),d.$inject=["eventBus","styles","pathMap"],b.exports=d},{"../util/DiUtil":116,"../util/ModelUtil":118,"diagram-js/lib/draw/BaseRenderer":149,"diagram-js/lib/util/RenderUtil":179,"diagram-js/lib/util/Text":180,inherits:188,"lodash/lang/isArray":298,"lodash/lang/isObject":302,"lodash/object/assign":307}],108:[function(a,b,c){"use strict";function d(){var a="m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5",b="m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005",c="m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z";this.pathMap={TASK_TYPE_FOLDER:{d:"m {mx},{my} l18,0 l0,12 l-18,0 l0,-12 m 2,0 l3,-4 l5,0 l3,4"},TASK_TYPE_CHEVRON:{d:"m {mx},{my} l15,0 l6,6 l-6,6 l-15,0 l6,-6 l-6,-6"},TASK_TYPE_USER_1:{d:a},TASK_TYPE_USER_2:{d:b},TASK_TYPE_USER_3:{d:c},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_USER_1:{d:a,height:36,width:36,heightElements:[],widthElements:[]},EVENT_USER_2:{d:b,height:36,width:36,heightElements:[],widthElements:[]},EVENT_USER_3:{d:c,height:36,width:36,heightElements:[],widthElements:[]},MARKER_STAGE_EXPANDED:{d:"m{mx},{my} m 2,7 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_STAGE_COLLAPSED:{d:"m{mx},{my} m 2,7 l 10,0 m -5,-5 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_REQUIRED:{d:"m{mx},{my} l 0,9 m 0,2 l0,3",height:14,width:3,heightElements:[],widthElements:[]},MARKER_MANUAL_ACTIVATION:{d:"m{mx}, {my} l 14,7 l -14,7 l 0,-14 z",height:14,width:14,heightElements:[],widthElements:[]},MARKER_REPEATABLE:{d:"m{mx},{my} m 3,0 l 0,14 m 6,-14 l 0,14 m -10,-10 l 14,0 m -14,6 l 14,0",height:14,width:14,heightElements:[],widthElements:[]},MARKER_PLANNING_TABLE_EXPANDED:{d:"m{mx},{my} m 0,12 l 30,0 m -20,-12 l 0, 24 m 10, -24 l 0, 24 m -10, -6 l 10,0",height:24,width:30,heightElements:[],widthElements:[]},MARKER_PLANNING_TABLE_COLLAPSED:{d:"m{mx},{my} m 0,12 l 30,0 m -20,-12 l 0, 24 m 10, -24 l 0, 24 m -10, -6 l 10,0 m -5, -6 l 0,12",height:10,width:10,heightElements:[],widthElements:[]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]}},this.getRawPath=function(a){return this.pathMap[a].d},this.getScaledPath=function(a,b){var c,d,f=this.pathMap[a];b.abspos?(c=b.abspos.x,d=b.abspos.y):(c=b.containerWidth*b.position.mx,d=b.containerHeight*b.position.my);var g={};if(b.position){for(var h=b.containerHeight/f.height*b.yScaleFactor,i=b.containerWidth/f.width*b.xScaleFactor,j=0;j<f.heightElements.length;j++)g["y"+j]=f.heightElements[j]*h;for(var k=0;k<f.widthElements.length;k++)g["x"+k]=f.widthElements[k]*i}var l=e.format(f.d,{mx:c,my:d,e:g});return l}}var e=a("diagram-js/vendor/snapsvg");b.exports=d},{"diagram-js/vendor/snapsvg":187}],109:[function(a,b,c){b.exports={__init__:["cmmnRenderer"],cmmnRenderer:["type",a("./CmmnRenderer")],pathMap:["type",a("./PathMap")]}},{"./CmmnRenderer":107,"./PathMap":108}],110:[function(a,b,c){"use strict";function d(a,b){return a===b}function e(a,b){return d(f(a),f(b))}function f(a){return h(n(a),"cmmn:Case")}function g(a,b){var c=[];for("string"==typeof b&&(b=[b]);a;)a=a.$parent||a.parent,a&&(b?i(a,b)&&c.push(a):c.push(a));return c}function h(a,b){for("string"==typeof b&&(b=[b]);a=a.$parent||a.parent;){if(!b)return a;if(i(a,b))return a}return null}function i(a,b){return k(b,function(b){return m(a,b)})}function j(a){return a instanceof o.Label}var k=a("lodash/collection/any"),l=a("../../../util/ModelUtil"),m=l.is,n=l.getBusinessObject,o=a("diagram-js/lib/model");b.exports.isSame=d,b.exports.isSameCase=e,b.exports.getCase=f,b.exports.getParents=g,b.exports.getParent=h,b.exports.isAny=i,b.exports.isLabel=j},{"../../../util/ModelUtil":118,"diagram-js/lib/model":163,"lodash/collection/any":191}],111:[function(a,b,c){"use strict";function d(a,b){return h({id:a.id,type:a.$type,businessObject:a},b)}function e(a){return i(a,function(a){return{x:a.x,y:a.y}})}function f(a,b,c){return new Error("element "+o(b)+" referenced by "+o(a)+"#"+c+" not yet drawn")}function g(a,b,c,d){this._eventBus=a,this._canvas=b,this._elementFactory=c,this._elementRegistry=d}var h=a("lodash/object/assign"),i=a("lodash/collection/map"),j=a("../util/LabelUtil"),k=a("../util/ModelUtil").is,l=j.hasExternalLabel,m=j.getExternalLabelBounds,n=a("../util/DiUtil").isCollapsed,o=a("./Util").elementToString;g.$inject=["eventBus","canvas","elementFactory","elementRegistry"],b.exports=g,g.prototype.root=function(a){var b=this._elementFactory.createRoot(d(a));return this._canvas.setRootElement(b),b},g.prototype.add=function(a,b){var c,f,g=a.di;if(g&&k(g,"cmmndi:CMMNShape")&&!this._getElement(a)){var h=n(a);f=b&&(b.hidden||b.collapsed);var i=a.di.bounds;c=this._elementFactory.createShape(d(a,{collapsed:h,hidden:f,x:Math.round(i.x),y:Math.round(i.y),width:Math.round(i.width),height:Math.round(i.height)})),k(a,"cmmn:Criterion")&&this._attachCriterion(a,c),this._canvas.addShape(c,b)}else{if(!(g&&k(g,"cmmndi:CMMNEdge")||k(a,"cmmndi:CMMNEdge")))throw new Error("unknown di "+o(g)+" for element "+o(a));var j=this._getSource(a),m=this._getTarget(a);f=b&&(b.hidden||b.collapsed)||j&&j.hidden||m&&m.hidden;var p=(a.di||{}).waypoint||a.waypoint;c=this._elementFactory.createConnection(d(a,{hidden:f,source:j,target:m,waypoints:e(p)})),this._canvas.addConnection(c,b)}return l(a)&&this.addLabel(a,c),this._eventBus.fire("cmmnElement.added",{element:c}),c},g.prototype._attachCriterion=function(a,b){var c=a.$parent;if(!c)throw new Error("missing "+o(a)+"$parent");var d=this._elementRegistry.get(c.id),e=d&&d.attachers;if(!d)throw f(a,c,"criterion");b.host=d,e||(d.attachers=e=[]),e.indexOf(b)===-1&&e.push(b)},g.prototype.addLabel=function(a,b){var c=m(a,b),e=this._elementFactory.createLabel(d(a,{id:a.id+"_label",labelTarget:b,type:"label",hidden:b.hidden,x:Math.round(c.x),y:Math.round(c.y),width:Math.round(c.width),height:Math.round(c.height)}));return this._canvas.addShape(e,b.parent)},g.prototype._getSource=function(a){var b=a.cmmnElementRef;if(b){if(k(b,"cmmn:OnPart"))return b.exitCriterionRef?this._getEnd(b,"exitCriterionRef"):this._getEnd(b,"sourceRef");if(k(b,"cmmn:Association"))return this._getEnd(b,"sourceRef")}if(k(a,"cmmndi:CMMNEdge"))return this._getEnd(a,"sourceCMMNElementRef")},g.prototype._getTarget=function(a){var b=a.cmmnElementRef;return b&&k(b,"cmmn:Association")?this._getEnd(b,"targetRef"):this._getEnd(a,"targetCMMNElementRef")},g.prototype._getEnd=function(a,b){var c=a[b],d=c&&this._getElement(c);if(d)return d;throw c?f(a,c,b):new Error(o(a)+"#"+b+"Ref not specified")},g.prototype._getElement=function(a){return this._elementRegistry.get(a.id)}},{"../util/DiUtil":116,"../util/LabelUtil":117,"../util/ModelUtil":118,"./Util":114,"lodash/collection/map":197,"lodash/object/assign":307}],112:[function(a,b,c){"use strict";function d(a){function b(a){return!!T[a.id]}function c(a){T[a.id]=a}function d(a){for(;a&&!i(a,"cmmn:Case");)a=a.$parent;return a}function g(b,c){return a.element(b,c)}function l(b,c){return a.root(b,c)}function m(b,c){try{return a.addItem(b),b.di&&g(b,c)}catch(d){n(d.message,{element:b,error:d}),console.error("failed to import "+h(b)),console.error(d)}}function n(b,c){a.error(b,c)}function o(a,b){return function(c){a(c,b)}}function p(a){var b=a.cmmnElementRef;if(b&&!i(a,"cmmndi:CMMNEdge"))if(b.di)n("multiple DI elements defined for "+h(b),{element:b});else{var c=d(b);c&&S.indexOf(c)===-1&&S.push(c),(i(b,"cmmn:TextAnnotation")||i(b,"cmmn:CaseFileItem"))&&U.push(b),k.bind(b,"di"),b.di=a}else if(i(a,"cmmndi:CMMNEdge")){var e=!0;if(q(a)||(e=!1,n("no target referenced in "+h(a),{element:a})),r(a)||(e=!1,n("no source referenced in "+h(a),{element:a})),e)if(i(b,"cmmn:Association"))V.push(a);else if(b)Q.push(function(b){s(a,b)});else{var f=a.sourceCMMNElementRef;R[f.id]=R[f.id]||[],R[f.id].push(a)}}else n("no cmmnElement referenced in "+h(a),{element:a})}function q(a){return i(a.cmmnElementRef,"cmmn:Association")?!!a.cmmnElementRef.targetRef:!!a.targetCMMNElementRef}function r(a){return i(a.cmmnElementRef,"cmmn:OnPart")?!(!a.cmmnElementRef.exitCriterionRef&&!a.cmmnElementRef.sourceRef):i(a.cmmnElementRef,"cmmn:Association")?!!a.cmmnElementRef.sourceRef:!!a.sourceCMMNElementRef}function s(a,b){g(a,b)}function t(a){u(a.diagramElements)}function u(a){e(a,v)}function v(a){p(a)}function w(a,b){var c=a.CMMNDI;if(c){var d=c.diagrams;if(b&&d.indexOf(b)===-1)throw new Error("diagram not part of cmmn:Definitions");!b&&d&&d.length&&(b=d[0]),t(b);var f=l(b,b);x(S,f),e(U,o(J)),e(V,o(M))}}function x(a,b){e(a,function(a){y(a,b),P=[],Q=[]})}function y(a,b){var c,d=a.casePlanModel;d&&(c=z(d,b)),A(P),e(Q,function(a){a(c)})}function z(a,b){var c=m(a,b);return e(a.exitCriteria,o(H,c)),B(a,c),I(a,c),c}function A(a){e(a,function(a){a()})}function B(a,b){F(a.planItems,b),i(a,"cmmn:Stage")&&C(a,b)}function C(a,b){D(a.planningTable,b)}function D(a,b){a&&e(a.tableItems,function(a){i(a,"cmmn:DiscretionaryItem")?E(a,b):i(a,"cmmn:PlanningTable")&&D(a,b)})}function E(a,d){b(a)||(c(a),G(a,d))}function F(a,b){e(a,o(G,b))}function G(a,b){var c=m(a,b);e(a.exitCriteria,o(H,b)),e(a.entryCriteria,o(H,b));var d=a.definitionRef;if(i(d,"cmmn:PlanFragment"))B(d,c),I(a,c);else if(i(d,"cmmn:HumanTask")){D(d.planningTable,b);var f=R[a.id];e(f,o(N,b)),delete R[a.id]}}function H(a,b){P.unshift(function(){m(a,b)})}function I(a,b){if(a.di&&a.di.bounds){var c=O(U,a);e(c,function(a){j.remove(U,a),J(a,b)})}}function J(a,b){i(a,"cmmn:TextAnnotation")?L(a,b):i(a,"cmmn:CaseFileItem")&&K(a,b)}function K(a,b){m(a,b)}function L(a,b){m(a,b)}function M(a,b){g(a,b)}function N(a,b){P.push(function(){g(a,b)})}function O(a,b){var c=b.di.bounds;return f(a,function(a){return a.di.bounds.x>c.x&&a.di.bounds.x<c.x+c.width&&a.di.bounds.y>c.y&&a.di.bounds.y<c.y+c.height})}var P=[],Q=[],R={},S=[],T={},U=[],V=[];return{handleDefinitions:w}}var e=a("lodash/collection/forEach"),f=a("lodash/collection/filter"),g=a("object-refs"),h=a("./Util").elementToString,i=a("../util/ModelUtil").is,j=a("diagram-js/lib/util/Collections"),k=new g({name:"cmmnElement",enumerable:!0},{name:"di"});b.exports=d},{"../util/ModelUtil":118,"./Util":114,"diagram-js/lib/util/Collections":170,"lodash/collection/filter":193,"lodash/collection/forEach":195,"object-refs":334}],113:[function(a,b,c){"use strict";function d(a,b,c){function d(a){var b={root:function(a){return g.root(a)},element:function(a,b){return g.add(a,b)},error:function(a,b){j.push({message:a,context:b})},addItem:function(a){i.add(a)}},c=new e(b);c.handleDefinitions(a)}var f,g=a.get("cmmnImporter"),h=a.get("eventBus"),i=a.get("itemRegistry"),j=[];h.fire("import.render.start",{definitions:b});try{d(b)}catch(k){f=k}h.fire("import.render.complete",{error:f,warnings:j}),c(f,j)}var e=a("./CmmnTreeWalker");b.exports.importCmmnDiagram=d},{"./CmmnTreeWalker":112}],114:[function(a,b,c){"use strict";b.exports.elementToString=function(a){return a?"<"+a.$type+(a.id?' id="'+a.id:"")+'" />':"<null>"}},{}],115:[function(a,b,c){b.exports={cmmnImporter:["type",a("./CmmnImporter")]}},{"./CmmnImporter":111}],116:[function(a,b,c){"use strict";var d=a("./ModelUtil").is,e=a("./ModelUtil").getBusinessObject,f=a("./ModelUtil").isCasePlanModel;b.exports.isCollapsed=function(a){if(!f(a)){a=e(a);var b=a.definitionRef;if(d(b,"cmmn:PlanFragment"))return!!(a&&a.di&&a.di.isCollapsed)}return!1},b.exports.isPlanningTableCollapsed=function(a){return a=e(a),!!(d(a,"cmmn:Stage")||a.definitionRef&&(d(a.definitionRef,"cmmn:Stage")||d(a.definitionRef,"cmmn:HumanTask")))&&(a.di&&a.di.isPlanningTableCollapsed)},b.exports.isStandardEventVisible=function(a){a=e(a);var b=a.cmmnElementRef;return!(!d(b,"cmmn:OnPart")||!a.isStandardEventVisible)}},{"./ModelUtil":118}],117:[function(a,b,c){"use strict";var d=a("../util/ModelUtil").is,e=a("lodash/object/assign"),f=b.exports.DEFAULT_LABEL_SIZE={width:90,height:20};b.exports.hasExternalLabel=function(a){return(d(a,"cmmn:PlanItem")||d(a,"cmmn:DiscretionaryItem"))&&(a=a.definitionRef),d(a,"cmmndi:CMMNEdge")&&a.cmmnElementRef&&d(a.cmmnElementRef,"cmmn:OnPart")&&(a=a.cmmnElementRef),d(a,"cmmn:EventListener")||d(a,"cmmn:OnPart")||d(a,"cmmn:CaseFileItem")};var g=b.exports.getWaypointsMid=function(a){var b=a.length/2-1,c=a[Math.floor(b)],d=a[Math.ceil(b+.01)];return{x:c.x+(d.x-c.x)/2,y:c.y+(d.y-c.y)/2}},h=b.exports.getExternalLabelMid=function(a){var b=a.businessObject,c=b.di;return!c&&d(b,"cmmndi:CMMNEdge")&&b.cmmnElementRef&&(c=b),b&&c&&c.waypoint?g(c.waypoint):{x:a.x+a.width/2,y:a.y+a.height+f.height/2}};b.exports.getExternalLabelBounds=function(a,b){var c,d,g,i=a.di||a,j=i.label;return j&&j.bounds?(g=j.bounds,d={width:Math.max(f.width,g.width),height:g.height},c={x:g.x+g.width/2,y:g.y+g.height/2}):(c=h(b),d=f),e({x:c.x-d.width/2,y:c.y-d.height/2},d)};var i=b.exports.hasLabelBounds=function(a){return a&&a.di&&a.di.label&&a.di.label.bounds};b.exports.getLabelBounds=function(a){if(i(a))return a.di.label.bounds}},{"../util/ModelUtil":118,"lodash/object/assign":307}],118:[function(a,b,c){"use strict";function d(a,b){return!(!a||"function"!=typeof a.$instanceOf||!a.$instanceOf(b))}function e(a,b){return d(f(a),b)}function f(a){return a&&a.businessObject?a.businessObject:a}function g(a){return a=f(a),e(a,"cmmn:Stage")&&a.$parent&&e(a.$parent,"cmmn:Case")}function h(a){var b=f(a);return e(a,"cmmn:PlanItemDefinition")||e(a,"cmmn:CaseFileItemDefinition")?b:b&&b.definitionRef}function i(a){var b=h(a);return b&&b.defaultControl}function j(a){return a=f(a),a&&a.itemControl}function k(a,b){var c=j(a),d=i(a);return c&&c[b]?c[b]:d&&d[b]}function l(a){return!!k(a,"requiredRule")}function m(a){return!!k(a,"repetitionRule")}function n(a){return!!k(a,"manualActivationRule")}function o(a){a=f(a);var b=h(a);return a.autoComplete||b&&b.autoComplete}function p(a){return a=f(a),a.planningTable||h(a)&&h(a).planningTable}function q(a){a=f(a),e(a,"cmmndi:CMMNEdge")&&a.cmmnElementRef&&(a=a.cmmnElementRef);var b=a.name;return b||a.definitionRef&&(b=a.definitionRef.name),b}function r(a){var b=f(a);return e(b,"cmmn:Sentry")?b:b&&b.sentryRef}function s(a){return a=f(a),a.cmmnElementRef&&a.cmmnElementRef.standardEvent}function t(a){return e(a,"cmmndi:CMMNEdge")&&(a=f(a).cmmnElementRef),e(a,"cmmn:OnPart")?e(a.exitCriterionRef,"cmmn:ExitCriterion")?["exit"]:u(a.sourceRef):[]}function u(a){if(a=f(a),e(a,"cmmn:CaseFileItem"))return["addChild","addReference","create","delete","removeChild","removeReference","replace","update"];if(e(a,"cmmn:PlanItem")||e(a,"cmmn:DiscretionaryItem")){var b=h(a);return e(b,"cmmn:EventListener")||e(b,"cmmn:Milestone")?["create","occur","resume","suspend","terminate"]:["complete","create","disable","enable","exit","fault","manualStart","parentResume","parentSuspend","reactivate","reenable","resume","start","suspend","terminate"]}return g(a)?["close","complete","create","fault","reactivate","suspend","terminate"]:[]}b.exports.is=e,b.exports.getBusinessObject=f,b.exports.isCasePlanModel=g,b.exports.getDefinition=h,b.exports.getDefaultControl=i,b.exports.getItemControl=j,b.exports.isRequired=l,b.exports.isRepeatable=m,b.exports.isManualActivation=n,b.exports.isAutoComplete=o,b.exports.hasPlanningTable=p,b.exports.getName=q,b.exports.getSentry=r,b.exports.getStandardEvent=s,b.exports.getStandardEvents=t,b.exports.getTransitions=u},{}],119:[function(a,b,c){"use strict";function d(a){return a.join(";")}function e(){f||(f=g(m),h.bind(f,".backdrop","click",function(a){document.body.removeChild(f)})),document.body.appendChild(f)}var f,g=a("min-dom/lib/domify"),h=a("min-dom/lib/delegate"),i=b.exports.BPMNIO_LOGO="iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBQTFRFiMte9PrwldFwfcZPqtqN0+zEyOe1XLgjvuKncsJAZ70y6fXh3vDT////UrQV////G2zN+AAAABB0Uk5T////////////////////AOAjXRkAAAHDSURBVHjavJZJkoUgDEBJmAX8979tM8u3E6x20VlYJfFFMoL4vBDxATxZcakIOJTWSmxvKWVIkJ8jHvlRv1F2LFrVISCZI+tCtQx+XfewgVTfyY3plPiQEAzI3zWy+kR6NBhFBYeBuscJLOUuA2WVLpCjVIaFzrNQZArxAZKUQm6gsj37L9Cb7dnIBUKxENaaMJQqMpDXvSL+ktxdGRm2IsKgJGGPg7atwUG5CcFUEuSv+CwQqizTrvDTNXdMU2bMiDWZd8d7QIySWVRsb2vBBioxOFt4OinPBapL+neAb5KL5IJ8szOza2/DYoipUCx+CjO0Bpsv0V6mktNZ+k8rlABlWG0FrOpKYVo8DT3dBeLEjUBAj7moDogVii7nSS9QzZnFcOVBp1g2PyBQ3Vr5aIapN91VJy33HTJLC1iX2FY6F8gRdaAeIEfVONgtFCzZTmoLEdOjBDfsIOA6128gw3eu1shAajdZNAORxuQDJN5A5PbEG6gNIu24QJD5iNyRMZIr6bsHbCtCU/OaOaSvgkUyDMdDa1BXGf5HJ1To+/Ym6mCKT02Y+/Sa126ZKyd3jxhzpc1r8zVL6YM1Qy/kR4ABAFJ6iQUnivhAAAAAAElFTkSuQmCC",j=d(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"]),k=d(["width: 100%","height: 100%","background: rgba(0,0,0,0.2)"]),l=d(["position: absolute","left: 50%","top: 40%","margin: 0 -130px","width: 260px","padding: 10px","background: white","border: solid 1px #AAA","border-radius: 3px","font-family: Helvetica, Arial, sans-serif","font-size: 14px","line-height: 1.2em"]),m='<div class="bio-powered-by-lightbox" style="'+j+'"><div class="backdrop" style="'+k+'"></div><div class="notice" style="'+l+'"><a href="http://bpmn.io" target="_blank" style="float: left; margin-right: 10px"><img src="data:image/png;base64,'+i+'"></a>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="http://bpmn.io" target="_blank">bpmn.io</a>.</div></div>';
b.exports.open=e},{"min-dom/lib/delegate":321,"min-dom/lib/domify":322}],120:[function(a,b,c){b.exports=a("./lib/simple")},{"./lib/simple":122}],121:[function(a,b,c){"use strict";function d(a,b){h.call(this,a,b)}var e=a("lodash/lang/isString"),f=a("lodash/lang/isFunction"),g=a("lodash/object/assign"),h=a("moddle"),i=a("moddle-xml/lib/reader"),j=a("moddle-xml/lib/writer");d.prototype=Object.create(h.prototype),b.exports=d,d.prototype.fromXML=function(a,b,c,d){e(b)||(d=c,c=b,b="cmmn:Definitions"),f(c)&&(d=c,c={});var h=new i(g({model:this,lax:!0},c)),j=h.handler(b);h.fromXML(a,j,d)},d.prototype.toXML=function(a,b,c){f(b)&&(c=b,b={});var d=new j(b);try{var e=d.toXML(a);c(null,e)}catch(g){c(g)}}},{"lodash/lang/isFunction":299,"lodash/lang/isString":304,"lodash/object/assign":307,moddle:128,"moddle-xml/lib/reader":124,"moddle-xml/lib/writer":125}],122:[function(a,b,c){"use strict";var d=a("lodash/object/assign"),e=a("./cmmn-moddle"),f={cmmn:a("../resources/cmmn/json/cmmn.json"),cmmndi:a("../resources/cmmn/json/cmmndi.json"),dc:a("../resources/cmmn/json/dc.json"),di:a("../resources/cmmn/json/di.json")};b.exports=function(a,b){return new e(d({},f,a),b)}},{"../resources/cmmn/json/cmmn.json":137,"../resources/cmmn/json/cmmndi.json":138,"../resources/cmmn/json/dc.json":139,"../resources/cmmn/json/di.json":140,"./cmmn-moddle":121,"lodash/object/assign":307}],123:[function(a,b,c){"use strict";function d(a){return a.charAt(0).toUpperCase()+a.slice(1)}function e(a){return a.charAt(0).toLowerCase()+a.slice(1)}function f(a){return a.xml&&"lowerCase"===a.xml.tagAlias}function g(a){return a.xml&&a.xml.serialize}b.exports.aliasToName=function(a,b){return f(b)?d(a):a},b.exports.nameToAlias=function(a,b){return f(b)?e(a):a},b.exports.DEFAULT_NS_MAP={xsi:"http://www.w3.org/2001/XMLSchema-instance"};var h=b.exports.XSI_TYPE="xsi:type";b.exports.serializeAsType=function(a){return g(a)===h},b.exports.serializeAsProperty=function(a){return"property"===g(a)}},{}],124:[function(a,b,c){"use strict";function d(a){var b=a.attributes;return s(b,function(a,b,c){var d,e;return b.local?(e=A(b.name,b.prefix),d=e.name):d=b.prefix,a[d]=b.value,a},{})}function e(a,b,c){var d,e=A(b.value),f=a.ns[e.prefix||""],g=e.localName,h=f&&c.getPackage(f);h&&(d=h.xml&&h.xml.typePrefix,d&&0===g.indexOf(d)&&(g=g.slice(d.length)),b.value=h.prefix+":"+g)}function f(a,b,c){var d,g;if(d=a.uri||c){var h=b.getPackage(d);g=h?h.prefix:a.prefix,a.prefix=g,a.uri=d}t(a.attributes,function(c){c.uri===G&&"type"===c.local&&e(a,c,b),f(c,b,null)})}function g(a){return new Error(a)}function h(a){return a.$descriptor}function i(a){v(this,a),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(a){this.references.push(a)},this.addElement=function(a){if(!a)throw g("expected element");var b,c=this.elementsById,d=h(a),e=d.idProperty;if(e&&(b=a.get(e.name))){if(c[b])throw g("duplicate ID <"+b+">");c[b]=a}},this.addWarning=function(a){this.warnings.push(a)}}function j(){}function k(){}function l(){}function m(a,b){this.property=a,this.context=b}function n(a,b){this.element=b,this.propertyDesc=a}function o(){}function p(a,b,c){this.model=a,this.type=a.getType(b),this.context=c}function q(a,b,c){this.model=a,this.context=c}function r(a){a instanceof z&&(a={model:a}),v(this,{lax:!1},a)}var s=a("lodash/collection/reduce"),t=a("lodash/collection/forEach"),u=a("lodash/collection/find"),v=a("lodash/object/assign"),w=a("lodash/function/defer"),x=a("tiny-stack"),y=a("sax").parser,z=a("moddle"),A=a("moddle/lib/ns").parseName,B=a("moddle/lib/types"),C=B.coerceType,D=B.isSimple,E=a("./common"),F=E.XSI_TYPE,G=E.DEFAULT_NS_MAP.xsi,H=E.serializeAsType,I=E.aliasToName;j.prototype.handleEnd=function(){},j.prototype.handleText=function(){},j.prototype.handleNode=function(){},k.prototype=new j,k.prototype.handleNode=function(){return this},l.prototype=new j,l.prototype.handleText=function(a){this.body=(this.body||"")+a},m.prototype=new l,m.prototype.handleNode=function(a){if(this.element)throw g("expected no sub nodes");return this.element=this.createReference(a),this},m.prototype.handleEnd=function(){this.element.id=this.body},m.prototype.createReference=function(a){return{property:this.property.ns.name,id:""}},n.prototype=new l,n.prototype.handleEnd=function(){var a=this.body,b=this.element,c=this.propertyDesc;a=C(c.type,a),c.isMany?b.get(c.name).push(a):b.set(c.name,a)},o.prototype=Object.create(l.prototype),o.prototype.handleNode=function(a){var b=this,c=this.element;return c?b=this.handleChild(a):(c=this.element=this.createElement(a),this.context.addElement(c)),b},p.prototype=new o,p.prototype.addReference=function(a){this.context.addReference(a)},p.prototype.handleEnd=function(){var a=this.body,b=this.element,c=h(b),d=c.bodyProperty;d&&void 0!==a&&(a=C(d.type,a),b.set(d.name,a))},p.prototype.createElement=function(a){var b=d(a),c=this.type,e=h(c),f=this.context,g=new c({});return t(b,function(a,b){var c,d=e.propertiesByName[b];d&&d.isReference?d.isMany?(c=a.split(" "),t(c,function(a){f.addReference({element:g,property:d.ns.name,id:a})})):f.addReference({element:g,property:d.ns.name,id:a}):(d&&(a=C(d.type,a)),g.set(b,a))}),g},p.prototype.getPropertyForNode=function(a){var b,c,d,e=A(a.local,a.prefix),f=this.type,i=this.model,j=h(f),k=e.name,l=j.propertiesByName[k];if(l)return H(l)&&(d=a.attributes[F])?(b=d.value,c=i.getType(b),v({},l,{effectiveType:h(c).name})):l;var m=i.getPackage(e.prefix);if(m){if(b=e.prefix+":"+I(e.localName,j.$pkg),c=i.getType(b),l=u(j.properties,function(a){return!a.isVirtual&&!a.isReference&&!a.isAttribute&&c.hasType(a.type)}))return v({},l,{effectiveType:h(c).name})}else if(l=u(j.properties,function(a){return!a.isReference&&!a.isAttribute&&"Element"===a.type}))return l;throw g("unrecognized element <"+e.name+">")},p.prototype.toString=function(){return"ElementDescriptor["+h(this.type).name+"]"},p.prototype.valueHandler=function(a,b){return new n(a,b)},p.prototype.referenceHandler=function(a){return new m(a,this.context)},p.prototype.handler=function(a){return"Element"===a?new q(this.model,a,this.context):new p(this.model,a,this.context)},p.prototype.handleChild=function(a){var b,c,d,e;if(b=this.getPropertyForNode(a),d=this.element,c=b.effectiveType||b.type,D(c))return this.valueHandler(b,d);e=b.isReference?this.referenceHandler(b).handleNode(a):this.handler(c).handleNode(a);var f=e.element;return void 0!==f&&(b.isMany?d.get(b.name).push(f):d.set(b.name,f),b.isReference?(v(f,{element:d}),this.context.addReference(f)):f.$parent=d),e},q.prototype=Object.create(o.prototype),q.prototype.createElement=function(a){var b=a.name,c=a.prefix,d=a.ns[c],e=a.attributes;return this.model.createAny(b,d,e)},q.prototype.handleChild=function(a){var b,c=new q(this.model,"Element",this.context).handleNode(a),d=this.element,e=c.element;return void 0!==e&&(b=d.$children=d.$children||[],b.push(e),e.$parent=d),c},q.prototype.handleText=function(a){this.body=this.body||""+a},q.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},r.prototype.fromXML=function(a,b,c){function d(){var a,b,c=q.elementsById,d=q.references;for(a=0;b=d[a];a++){var e=b.element,f=c[b.id],g=h(e).propertiesByName[b.property];if(f||q.addWarning({message:"unresolved reference <"+b.id+">",element:b.element,property:b.property,value:b.id}),g.isMany){var i=e.get(g.name),j=i.indexOf(b);j===-1&&(j=i.length),f?i[j]=f:i.splice(j,1)}else e.set(g.name,f)}}function e(a){s.pop().handleEnd()}function j(a){var b=s.peek();f(a,n);try{s.push(b.handleNode(a))}catch(c){var d=this.line,e=this.column,h="unparsable content <"+a.name+"> detected\n\tline: "+d+"\n\tcolumn: "+e+"\n\tnested error: "+c.message;if(!o)throw console.error("could not parse document"),console.error(c),g(h);q.addWarning({message:h,error:c}),console.warn("could not parse node"),console.warn(c),s.push(new k)}}function l(a){s.peek().handleText(a)}var m=b.rootHandler;b instanceof p?(m=b,b={}):"string"==typeof b?(m=this.handler(b),b={}):"string"==typeof m&&(m=this.handler(m));var n=this.model,o=this.lax,q=new i(v({},b,{rootHandler:m})),r=new y((!0),{xmlns:!0,trim:!0}),s=new x;m.context=q,s.push(m),r.onopentag=j,r.oncdata=r.ontext=l,r.onclosetag=e,r.onend=d,w(function(){var b;try{r.write(a).close()}catch(d){b=d}c(b,b?void 0:m.element,q)})},r.prototype.handler=function(a){return new p(this.model,a)},b.exports=r,b.exports.ElementHandler=p},{"./common":123,"lodash/collection/find":194,"lodash/collection/forEach":195,"lodash/collection/reduce":198,"lodash/function/defer":203,"lodash/object/assign":307,moddle:128,"moddle/lib/ns":133,"moddle/lib/types":136,sax:126,"tiny-stack":127}],125:[function(a,b,c){"use strict";function d(a){return v(a)?a:(a.prefix?a.prefix+":":"")+a.localName}function e(a){function b(b){return a.used[b.uri]}function c(a){var b="xmlns"+(a.prefix?":"+a.prefix:"");return{name:b,value:a.uri}}var d=[].concat(a.wellknown,a.custom);return t(w(d,b),c)}function f(a,b){return b.isGeneric?b.name:x({localName:B(b.ns.localName,b.$pkg)},a)}function g(a,b){return x({localName:b.ns.localName},a)}function h(a){var b=a.$descriptor;return w(b.properties,function(b){var c=b.name;if(b.isVirtual)return!1;if(!a.hasOwnProperty(c))return!1;var d=a[c];return d!==b["default"]&&(null!==d&&(!b.isMany||d.length))})}function i(a){return a=v(a)?a:""+a,a.replace(F,function(a){return"&#"+I[a]+";"})}function j(a){return w(a,function(a){return a.isAttr})}function k(a){return w(a,function(a){return!a.isAttr})}function l(a,b){this.ns=b}function m(){}function n(a){this.ns=a}function o(a,b){this.body=[],this.attrs=[],this.parent=a,this.ns=b}function p(a,b){o.call(this,a,b)}function q(){this.value="",this.write=function(a){this.value+=a}}function r(a,b){var c=[""];this.append=function(b){return a.write(b),this},this.appendNewLine=function(){return b&&a.write("\n"),this},this.appendIndent=function(){return b&&a.write(c.join("  ")),this},this.indent=function(){return c.push(""),this},this.unindent=function(){return c.pop(),this}}function s(a){function b(b,c){var d=c||new q,e=new r(d,a.format);if(a.preamble&&e.append(E),(new o).build(b).serializeTo(e),!c)return d.value}return a=x({format:!1,preamble:!0},a||{}),{toXML:b}}var t=a("lodash/collection/map"),u=a("lodash/collection/forEach"),v=a("lodash/lang/isString"),w=a("lodash/collection/filter"),x=a("lodash/object/assign"),y=a("moddle/lib/types"),z=a("moddle/lib/ns").parseName,A=a("./common"),B=A.nameToAlias,C=A.serializeAsType,D=A.serializeAsProperty,E='<?xml version="1.0" encoding="UTF-8"?>\n',F=/(<|>|'|"|&|\n\r|\n)/g,G=A.DEFAULT_NS_MAP,H=A.XSI_TYPE,I={"\n":"10","\n\r":"10",'"':"34","'":"39","<":"60",">":"62","&":"38"};l.prototype.build=function(a){return this.element=a,this},l.prototype.serializeTo=function(a){a.appendIndent().append("<"+d(this.ns)+">"+this.element.id+"</"+d(this.ns)+">").appendNewLine()},m.prototype.serializeValue=m.prototype.serializeTo=function(a){var b=this.escape;b&&a.append("<![CDATA["),a.append(this.value),b&&a.append("]]>")},m.prototype.build=function(a,b){return this.value=b,"String"===a.type&&b.search(F)!==-1&&(this.escape=!0),this},n.prototype=new m,n.prototype.serializeTo=function(a){a.appendIndent().append("<"+d(this.ns)+">"),this.serializeValue(a),a.append("</"+d(this.ns)+">").appendNewLine()},o.prototype.build=function(a){this.element=a;var b=this.parseNsAttributes(a);if(this.ns||(this.ns=this.nsTagName(a.$descriptor)),a.$descriptor.isGeneric)this.parseGeneric(a);else{var c=h(a);this.parseAttributes(j(c)),this.parseContainments(k(c)),this.parseGenericAttributes(a,b)}return this},o.prototype.nsTagName=function(a){var b=this.logNamespaceUsed(a.ns);return f(b,a)},o.prototype.nsPropertyTagName=function(a){var b=this.logNamespaceUsed(a.ns);return g(b,a)},o.prototype.isLocalNs=function(a){return a.uri===this.ns.uri},o.prototype.nsAttributeName=function(a){var b;if(b=v(a)?z(a):a.ns,a.inherited)return{localName:b.localName};var c=this.logNamespaceUsed(b);return this.isLocalNs(c)?{localName:b.localName}:x({localName:b.localName},c)},o.prototype.parseGeneric=function(a){var b=this,c=this.body,d=this.attrs;u(a,function(a,e){"$body"===e?c.push((new m).build({type:"String"},a)):"$children"===e?u(a,function(a){c.push(new o(b).build(a))}):0!==e.indexOf("$")&&d.push({name:e,value:i(a)})})},o.prototype.parseNsAttributes=function(a){var b=this,c=a.$attrs,d=a.$model,e=[];return u(c,function(a,c){var f,g=z(c);"xmlns"===g.prefix&&(f={prefix:g.localName,uri:a}),g.prefix||"xmlns"!==g.localName||(f={uri:a}),f?d.getPackage(a)?b.logNamespace(f,!0):b.logNamespaceUsed(f):e.push({name:c,value:a})}),e},o.prototype.parseGenericAttributes=function(a,b){var c=this;u(b,function(b){if(b.name!==H)try{c.addAttribute(c.nsAttributeName(b.name),b.value)}catch(d){console.warn("missing namespace information for ",b.name,"=",b.value,"on",a,d)}})},o.prototype.parseContainments=function(a){var b=this,c=this.body,d=this.element;u(a,function(a){var e=d.get(a.name),f=a.isReference,g=a.isMany,h=b.nsPropertyTagName(a);if(g||(e=[e]),a.isBody)c.push((new m).build(a,e[0]));else if(y.isSimple(a.type))u(e,function(b){c.push(new n(h).build(a,b))});else if(f)u(e,function(a){c.push(new l(b,h).build(a))});else{var i=C(a),j=D(a);u(e,function(a){var d;d=i?new p(b,h):j?new o(b,h):new o(b),c.push(d.build(a))})}})},o.prototype.getNamespaces=function(){var a=this.namespaces,b=this.parent;return a||(a=this.namespaces=b?b.getNamespaces():{prefixMap:{},uriMap:{},used:{},wellknown:[],custom:[]}),a},o.prototype.logNamespace=function(a,b){var c=this.getNamespaces(),d=a.uri,e=c.uriMap[d];return e||(c.uriMap[d]=a,b?c.wellknown.push(a):c.custom.push(a)),c.prefixMap[a.prefix]=d,a},o.prototype.logNamespaceUsed=function(a){var b=this.element,c=b.$model,d=this.getNamespaces(),e=a.prefix,f=G[e]||c&&(c.getPackage(e)||{}).uri,g=a.uri||d.prefixMap[e]||f;if(!g)throw new Error("no namespace uri given for prefix <"+a.prefix+">");return a=d.uriMap[g],a||(a=this.logNamespace({prefix:e,uri:g},f)),d.used[a.uri]||(d.used[a.uri]=a),a},o.prototype.parseAttributes=function(a){var b=this,c=this.element;u(a,function(a){var d=c.get(a.name);if(a.isReference)if(a.isMany){var e=[];u(d,function(a){e.push(a.id)}),d=e.join(" ")}else d=d.id;b.addAttribute(b.nsAttributeName(a),d)})},o.prototype.addAttribute=function(a,b){var c=this.attrs;v(b)&&(b=i(b)),c.push({name:a,value:b})},o.prototype.serializeAttributes=function(a){var b=this.attrs,c=!this.parent;c&&(b=e(this.namespaces).concat(b)),u(b,function(b){a.append(" ").append(d(b.name)).append('="').append(b.value).append('"')})},o.prototype.serializeTo=function(a){var b=this.body.length,c=!(1===this.body.length&&this.body[0]instanceof m);a.appendIndent().append("<"+d(this.ns)),this.serializeAttributes(a),a.append(b?">":" />"),b&&(c&&a.appendNewLine().indent(),u(this.body,function(b){b.serializeTo(a)}),c&&a.unindent().appendIndent(),a.append("</"+d(this.ns)+">")),a.appendNewLine()},p.prototype=new o,p.prototype.build=function(a){var b=a.$descriptor;this.element=a,this.typeNs=this.nsTagName(b);var c=this.typeNs,d=a.$model.getPackage(c.uri),e=d.xml&&d.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(H),(c.prefix?c.prefix+":":"")+e+b.ns.localName),o.prototype.build.call(this,a)},p.prototype.isLocalNs=function(a){return a.uri===this.typeNs.uri},b.exports=s},{"./common":123,"lodash/collection/filter":193,"lodash/collection/forEach":195,"lodash/collection/map":197,"lodash/lang/isString":304,"lodash/object/assign":307,"moddle/lib/ns":133,"moddle/lib/types":136}],126:[function(a,b,c){(function(b){!function(c){function d(a,b){if(!(this instanceof d))return new d(a,b);var e=this;f(e),e.q=e.c="",e.bufferCheckPosition=c.MAX_BUFFER_LENGTH,e.opt=b||{},e.opt.lowercase=e.opt.lowercase||e.opt.lowercasetags,e.looseCase=e.opt.lowercase?"toLowerCase":"toUpperCase",e.tags=[],e.closed=e.closedRoot=e.sawRoot=!1,e.tag=e.error=null,e.strict=!!a,e.noscript=!(!a&&!e.opt.noscript),e.state=S.BEGIN,e.ENTITIES=Object.create(c.ENTITIES),e.attribList=[],e.opt.xmlns&&(e.ns=Object.create(P)),e.trackPosition=e.opt.position!==!1,e.trackPosition&&(e.position=e.line=e.column=0),n(e,"onready")}function e(a){for(var b=Math.max(c.MAX_BUFFER_LENGTH,10),d=0,e=0,f=B.length;e<f;e++){var g=a[B[e]].length;if(g>b)switch(B[e]){case"textNode":p(a);break;case"cdata":o(a,"oncdata",a.cdata),a.cdata="";break;case"script":o(a,"onscript",a.script),a.script="";break;default:r(a,"Max buffer length exceeded: "+B[e])}d=Math.max(d,g)}a.bufferCheckPosition=c.MAX_BUFFER_LENGTH-d+a.position}function f(a){for(var b=0,c=B.length;b<c;b++)a[B[b]]=""}function g(a){p(a),""!==a.cdata&&(o(a,"oncdata",a.cdata),a.cdata=""),""!==a.script&&(o(a,"onscript",a.script),a.script="")}function h(a,b){return new i(a,b)}function i(a,b){if(!(this instanceof i))return new i(a,b);C.apply(this),this._parser=new d(a,b),this.writable=!0,this.readable=!0;var c=this;this._parser.onend=function(){c.emit("end")},this._parser.onerror=function(a){c.emit("error",a),c._parser.error=null},this._decoder=null,E.forEach(function(a){Object.defineProperty(c,"on"+a,{get:function(){return c._parser["on"+a]},set:function(b){return b?void c.on(a,b):(c.removeAllListeners(a),c._parser["on"+a]=b)},enumerable:!0,configurable:!1})})}function j(a){return a.split("").reduce(function(a,b){return a[b]=!0,a},{})}function k(a){return"[object RegExp]"===Object.prototype.toString.call(a)}function l(a,b){return k(a)?!!b.match(a):a[b]}function m(a,b){return!l(a,b)}function n(a,b,c){a[b]&&a[b](c)}function o(a,b,c){a.textNode&&p(a),n(a,b,c)}function p(a){a.textNode=q(a.opt,a.textNode),a.textNode&&n(a,"ontext",a.textNode),a.textNode=""}function q(a,b){return a.trim&&(b=b.trim()),a.normalize&&(b=b.replace(/\s+/g," ")),b}function r(a,b){return p(a),a.trackPosition&&(b+="\nLine: "+a.line+"\nColumn: "+a.column+"\nChar: "+a.c),b=new Error(b),a.error=b,n(a,"onerror",b),a}function s(a){return a.closedRoot||t(a,"Unclosed root tag"),a.state!==S.BEGIN&&a.state!==S.TEXT&&r(a,"Unexpected end"),p(a),a.c="",a.closed=!0,n(a,"onend"),d.call(a,a.strict,a.opt),a}function t(a,b){if("object"!=typeof a||!(a instanceof d))throw new Error("bad call to strictFail");a.strict&&r(a,b)}function u(a){a.strict||(a.tagName=a.tagName[a.looseCase]());var b=a.tags[a.tags.length-1]||a,c=a.tag={name:a.tagName,attributes:{}};a.opt.xmlns&&(c.ns=b.ns),a.attribList.length=0}function v(a,b){var c=a.indexOf(":"),d=c<0?["",a]:a.split(":"),e=d[0],f=d[1];return b&&"xmlns"===a&&(e="xmlns",f=""),{prefix:e,local:f}}function w(a){if(a.strict||(a.attribName=a.attribName[a.looseCase]()),a.attribList.indexOf(a.attribName)!==-1||a.tag.attributes.hasOwnProperty(a.attribName))return a.attribName=a.attribValue="";if(a.opt.xmlns){var b=v(a.attribName,!0),c=b.prefix,d=b.local;if("xmlns"===c)if("xml"===d&&a.attribValue!==N)t(a,"xml: prefix must be bound to "+N+"\nActual: "+a.attribValue);else if("xmlns"===d&&a.attribValue!==O)t(a,"xmlns: prefix must be bound to "+O+"\nActual: "+a.attribValue);else{var e=a.tag,f=a.tags[a.tags.length-1]||a;e.ns===f.ns&&(e.ns=Object.create(f.ns)),e.ns[d]=a.attribValue}a.attribList.push([a.attribName,a.attribValue])}else a.tag.attributes[a.attribName]=a.attribValue,o(a,"onattribute",{name:a.attribName,value:a.attribValue});a.attribName=a.attribValue=""}function x(a,b){if(a.opt.xmlns){var c=a.tag,d=v(a.tagName);c.prefix=d.prefix,c.local=d.local,c.uri=c.ns[d.prefix]||"",c.prefix&&!c.uri&&(t(a,"Unbound namespace prefix: "+JSON.stringify(a.tagName)),c.uri=d.prefix);var e=a.tags[a.tags.length-1]||a;c.ns&&e.ns!==c.ns&&Object.keys(c.ns).forEach(function(b){o(a,"onopennamespace",{prefix:b,uri:c.ns[b]})});for(var f=0,g=a.attribList.length;f<g;f++){var h=a.attribList[f],i=h[0],j=h[1],k=v(i,!0),l=k.prefix,m=k.local,n=""==l?"":c.ns[l]||"",p={name:i,value:j,prefix:l,local:m,uri:n};l&&"xmlns"!=l&&!n&&(t(a,"Unbound namespace prefix: "+JSON.stringify(l)),p.uri=l),a.tag.attributes[i]=p,o(a,"onattribute",p)}a.attribList.length=0}a.tag.isSelfClosing=!!b,a.sawRoot=!0,a.tags.push(a.tag),o(a,"onopentag",a.tag),b||(a.noscript||"script"!==a.tagName.toLowerCase()?a.state=S.TEXT:a.state=S.SCRIPT,a.tag=null,a.tagName=""),a.attribName=a.attribValue="",a.attribList.length=0}function y(a){if(!a.tagName)return t(a,"Weird empty close tag."),a.textNode+="</>",void(a.state=S.TEXT);if(a.script){if("script"!==a.tagName)return a.script+="</"+a.tagName+">",a.tagName="",void(a.state=S.SCRIPT);o(a,"onscript",a.script),a.script=""}var b=a.tags.length,c=a.tagName;a.strict||(c=c[a.looseCase]());for(var d=c;b--;){var e=a.tags[b];if(e.name===d)break;t(a,"Unexpected close tag")}if(b<0)return t(a,"Unmatched closing tag: "+a.tagName),a.textNode+="</"+a.tagName+">",void(a.state=S.TEXT);a.tagName=c;for(var f=a.tags.length;f-- >b;){var g=a.tag=a.tags.pop();a.tagName=a.tag.name,o(a,"onclosetag",a.tagName);var h={};for(var i in g.ns)h[i]=g.ns[i];var j=a.tags[a.tags.length-1]||a;a.opt.xmlns&&g.ns!==j.ns&&Object.keys(g.ns).forEach(function(b){var c=g.ns[b];o(a,"onclosenamespace",{prefix:b,uri:c})})}0===b&&(a.closedRoot=!0),a.tagName=a.attribValue=a.attribName="",a.attribList.length=0,a.state=S.TEXT}function z(a){var b,c=a.entity,d=c.toLowerCase(),e="";return a.ENTITIES[c]?a.ENTITIES[c]:a.ENTITIES[d]?a.ENTITIES[d]:(c=d,"#"===c.charAt(0)&&("x"===c.charAt(1)?(c=c.slice(2),b=parseInt(c,16),e=b.toString(16)):(c=c.slice(1),b=parseInt(c,10),e=b.toString(10))),c=c.replace(/^0+/,""),e.toLowerCase()!==c?(t(a,"Invalid character entity"),"&"+a.entity+";"):String.fromCodePoint(b))}function A(a){var b=this;if(this.error)throw this.error;if(b.closed)return r(b,"Cannot write after close. Assign an onready handler.");if(null===a)return s(b);for(var c=0,d="";b.c=d=a.charAt(c++);)switch(b.trackPosition&&(b.position++,"\n"===d?(b.line++,b.column=0):b.column++),b.state){case S.BEGIN:"<"===d?(b.state=S.OPEN_WAKA,b.startTagPosition=b.position):m(F,d)&&(t(b,"Non-whitespace before first tag."),b.textNode=d,b.state=S.TEXT);continue;case S.TEXT:if(b.sawRoot&&!b.closedRoot){for(var f=c-1;d&&"<"!==d&&"&"!==d;)d=a.charAt(c++),d&&b.trackPosition&&(b.position++,"\n"===d?(b.line++,b.column=0):b.column++);b.textNode+=a.substring(f,c-1)}"<"===d?(b.state=S.OPEN_WAKA,b.startTagPosition=b.position):(!m(F,d)||b.sawRoot&&!b.closedRoot||t(b,"Text data outside of root node."),"&"===d?b.state=S.TEXT_ENTITY:b.textNode+=d);continue;case S.SCRIPT:"<"===d?b.state=S.SCRIPT_ENDING:b.script+=d;continue;case S.SCRIPT_ENDING:"/"===d?b.state=S.CLOSE_TAG:(b.script+="<"+d,b.state=S.SCRIPT);continue;case S.OPEN_WAKA:if("!"===d)b.state=S.SGML_DECL,b.sgmlDecl="";else if(l(F,d));else if(l(Q,d))b.state=S.OPEN_TAG,b.tagName=d;else if("/"===d)b.state=S.CLOSE_TAG,b.tagName="";else if("?"===d)b.state=S.PROC_INST,b.procInstName=b.procInstBody="";else{if(t(b,"Unencoded <"),b.startTagPosition+1<b.position){var g=b.position-b.startTagPosition;d=new Array(g).join(" ")+d}b.textNode+="<"+d,b.state=S.TEXT}continue;case S.SGML_DECL:(b.sgmlDecl+d).toUpperCase()===L?(o(b,"onopencdata"),b.state=S.CDATA,b.sgmlDecl="",b.cdata=""):b.sgmlDecl+d==="--"?(b.state=S.COMMENT,b.comment="",b.sgmlDecl=""):(b.sgmlDecl+d).toUpperCase()===M?(b.state=S.DOCTYPE,(b.doctype||b.sawRoot)&&t(b,"Inappropriately located doctype declaration"),b.doctype="",b.sgmlDecl=""):">"===d?(o(b,"onsgmldeclaration",b.sgmlDecl),b.sgmlDecl="",b.state=S.TEXT):l(I,d)?(b.state=S.SGML_DECL_QUOTED,b.sgmlDecl+=d):b.sgmlDecl+=d;continue;case S.SGML_DECL_QUOTED:d===b.q&&(b.state=S.SGML_DECL,b.q=""),b.sgmlDecl+=d;continue;case S.DOCTYPE:">"===d?(b.state=S.TEXT,o(b,"ondoctype",b.doctype),b.doctype=!0):(b.doctype+=d,"["===d?b.state=S.DOCTYPE_DTD:l(I,d)&&(b.state=S.DOCTYPE_QUOTED,b.q=d));continue;case S.DOCTYPE_QUOTED:b.doctype+=d,d===b.q&&(b.q="",b.state=S.DOCTYPE);continue;case S.DOCTYPE_DTD:b.doctype+=d,"]"===d?b.state=S.DOCTYPE:l(I,d)&&(b.state=S.DOCTYPE_DTD_QUOTED,b.q=d);continue;case S.DOCTYPE_DTD_QUOTED:b.doctype+=d,d===b.q&&(b.state=S.DOCTYPE_DTD,b.q="");continue;case S.COMMENT:"-"===d?b.state=S.COMMENT_ENDING:b.comment+=d;continue;case S.COMMENT_ENDING:"-"===d?(b.state=S.COMMENT_ENDED,b.comment=q(b.opt,b.comment),b.comment&&o(b,"oncomment",b.comment),b.comment=""):(b.comment+="-"+d,b.state=S.COMMENT);continue;case S.COMMENT_ENDED:">"!==d?(t(b,"Malformed comment"),b.comment+="--"+d,b.state=S.COMMENT):b.state=S.TEXT;continue;case S.CDATA:"]"===d?b.state=S.CDATA_ENDING:b.cdata+=d;continue;case S.CDATA_ENDING:"]"===d?b.state=S.CDATA_ENDING_2:(b.cdata+="]"+d,b.state=S.CDATA);continue;case S.CDATA_ENDING_2:">"===d?(b.cdata&&o(b,"oncdata",b.cdata),o(b,"onclosecdata"),b.cdata="",b.state=S.TEXT):"]"===d?b.cdata+="]":(b.cdata+="]]"+d,b.state=S.CDATA);continue;case S.PROC_INST:"?"===d?b.state=S.PROC_INST_ENDING:l(F,d)?b.state=S.PROC_INST_BODY:b.procInstName+=d;continue;case S.PROC_INST_BODY:if(!b.procInstBody&&l(F,d))continue;"?"===d?b.state=S.PROC_INST_ENDING:b.procInstBody+=d;continue;case S.PROC_INST_ENDING:">"===d?(o(b,"onprocessinginstruction",{name:b.procInstName,body:b.procInstBody}),b.procInstName=b.procInstBody="",b.state=S.TEXT):(b.procInstBody+="?"+d,b.state=S.PROC_INST_BODY);continue;case S.OPEN_TAG:l(R,d)?b.tagName+=d:(u(b),">"===d?x(b):"/"===d?b.state=S.OPEN_TAG_SLASH:(m(F,d)&&t(b,"Invalid character in tag name"),b.state=S.ATTRIB));continue;case S.OPEN_TAG_SLASH:">"===d?(x(b,!0),y(b)):(t(b,"Forward-slash in opening tag not followed by >"),b.state=S.ATTRIB);continue;case S.ATTRIB:if(l(F,d))continue;">"===d?x(b):"/"===d?b.state=S.OPEN_TAG_SLASH:l(Q,d)?(b.attribName=d,b.attribValue="",b.state=S.ATTRIB_NAME):t(b,"Invalid attribute name");continue;case S.ATTRIB_NAME:"="===d?b.state=S.ATTRIB_VALUE:">"===d?(t(b,"Attribute without value"),b.attribValue=b.attribName,w(b),x(b)):l(F,d)?b.state=S.ATTRIB_NAME_SAW_WHITE:l(R,d)?b.attribName+=d:t(b,"Invalid attribute name");continue;case S.ATTRIB_NAME_SAW_WHITE:if("="===d)b.state=S.ATTRIB_VALUE;else{if(l(F,d))continue;t(b,"Attribute without value"),b.tag.attributes[b.attribName]="",b.attribValue="",o(b,"onattribute",{name:b.attribName,value:""}),b.attribName="",">"===d?x(b):l(Q,d)?(b.attribName=d,b.state=S.ATTRIB_NAME):(t(b,"Invalid attribute name"),b.state=S.ATTRIB)}continue;case S.ATTRIB_VALUE:if(l(F,d))continue;l(I,d)?(b.q=d,b.state=S.ATTRIB_VALUE_QUOTED):(t(b,"Unquoted attribute value"),b.state=S.ATTRIB_VALUE_UNQUOTED,b.attribValue=d);continue;case S.ATTRIB_VALUE_QUOTED:if(d!==b.q){"&"===d?b.state=S.ATTRIB_VALUE_ENTITY_Q:b.attribValue+=d;continue}w(b),b.q="",b.state=S.ATTRIB_VALUE_CLOSED;continue;case S.ATTRIB_VALUE_CLOSED:l(F,d)?b.state=S.ATTRIB:">"===d?x(b):"/"===d?b.state=S.OPEN_TAG_SLASH:l(Q,d)?(t(b,"No whitespace between attributes"),b.attribName=d,b.attribValue="",b.state=S.ATTRIB_NAME):t(b,"Invalid attribute name");continue;case S.ATTRIB_VALUE_UNQUOTED:if(m(K,d)){"&"===d?b.state=S.ATTRIB_VALUE_ENTITY_U:b.attribValue+=d;continue}w(b),">"===d?x(b):b.state=S.ATTRIB;continue;case S.CLOSE_TAG:if(b.tagName)">"===d?y(b):l(R,d)?b.tagName+=d:b.script?(b.script+="</"+b.tagName,b.tagName="",b.state=S.SCRIPT):(m(F,d)&&t(b,"Invalid tagname in closing tag"),b.state=S.CLOSE_TAG_SAW_WHITE);else{if(l(F,d))continue;m(Q,d)?b.script?(b.script+="</"+d,b.state=S.SCRIPT):t(b,"Invalid tagname in closing tag."):b.tagName=d}continue;case S.CLOSE_TAG_SAW_WHITE:if(l(F,d))continue;">"===d?y(b):t(b,"Invalid characters in closing tag");continue;case S.TEXT_ENTITY:case S.ATTRIB_VALUE_ENTITY_Q:case S.ATTRIB_VALUE_ENTITY_U:switch(b.state){case S.TEXT_ENTITY:var h=S.TEXT,i="textNode";break;case S.ATTRIB_VALUE_ENTITY_Q:var h=S.ATTRIB_VALUE_QUOTED,i="attribValue";break;case S.ATTRIB_VALUE_ENTITY_U:var h=S.ATTRIB_VALUE_UNQUOTED,i="attribValue"}";"===d?(b[i]+=z(b),b.entity="",b.state=h):l(J,d)?b.entity+=d:(t(b,"Invalid character entity"),b[i]+="&"+b.entity+d,b.entity="",b.state=h);continue;default:throw new Error(b,"Unknown state: "+b.state)}return b.position>=b.bufferCheckPosition&&e(b),b}c.parser=function(a,b){return new d(a,b)},c.SAXParser=d,c.SAXStream=i,c.createStream=h,c.MAX_BUFFER_LENGTH=65536;var B=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];c.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(a){function b(){this.__proto__=a}return b.prototype=a,new b}),Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.__proto__}),Object.keys||(Object.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}),d.prototype={end:function(){s(this)},write:A,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){g(this)}};try{var C=a("stream").Stream}catch(D){var C=function(){}}var E=c.EVENTS.filter(function(a){return"error"!==a&&"end"!==a});i.prototype=Object.create(C.prototype,{constructor:{value:i}}),i.prototype.write=function(c){if("function"==typeof b&&"function"==typeof b.isBuffer&&b.isBuffer(c)){if(!this._decoder){var d=a("string_decoder").StringDecoder;this._decoder=new d("utf8")}c=this._decoder.write(c)}return this._parser.write(c.toString()),this.emit("data",c),!0},i.prototype.end=function(a){return a&&a.length&&this.write(a),this._parser.end(),!0},i.prototype.on=function(a,b){var c=this;return c._parser["on"+a]||E.indexOf(a)===-1||(c._parser["on"+a]=function(){var b=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);b.splice(0,0,a),c.emit.apply(c,b)}),C.prototype.on.call(c,a,b)};var F="\r\n\t ",G="0124356789",H="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",I="'\"",J=G+H+"#",K=F+">",L="[CDATA[",M="DOCTYPE",N="http://www.w3.org/XML/1998/namespace",O="http://www.w3.org/2000/xmlns/",P={xml:N,xmlns:O};F=j(F),G=j(G),H=j(H);var Q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,R=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;I=j(I),J=j(J),K=j(K);var S=0;c.STATE={BEGIN:S++,TEXT:S++,TEXT_ENTITY:S++,OPEN_WAKA:S++,SGML_DECL:S++,SGML_DECL_QUOTED:S++,DOCTYPE:S++,DOCTYPE_QUOTED:S++,DOCTYPE_DTD:S++,DOCTYPE_DTD_QUOTED:S++,COMMENT_STARTING:S++,COMMENT:S++,COMMENT_ENDING:S++,COMMENT_ENDED:S++,CDATA:S++,CDATA_ENDING:S++,CDATA_ENDING_2:S++,PROC_INST:S++,PROC_INST_BODY:S++,PROC_INST_ENDING:S++,OPEN_TAG:S++,OPEN_TAG_SLASH:S++,ATTRIB:S++,ATTRIB_NAME:S++,ATTRIB_NAME_SAW_WHITE:S++,ATTRIB_VALUE:S++,ATTRIB_VALUE_QUOTED:S++,ATTRIB_VALUE_CLOSED:S++,ATTRIB_VALUE_UNQUOTED:S++,ATTRIB_VALUE_ENTITY_Q:S++,ATTRIB_VALUE_ENTITY_U:S++,CLOSE_TAG:S++,CLOSE_TAG_SAW_WHITE:S++,SCRIPT:S++,SCRIPT_ENDING:S++},c.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,
beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(c.ENTITIES).forEach(function(a){var b=c.ENTITIES[a],d="number"==typeof b?String.fromCharCode(b):b;c.ENTITIES[a]=d});for(var S in c.STATE)c.STATE[c.STATE[S]]=S;S=c.STATE,String.fromCodePoint||!function(){var a=String.fromCharCode,b=Math.floor,c=function(){var c,d,e=16384,f=[],g=-1,h=arguments.length;if(!h)return"";for(var i="";++g<h;){var j=Number(arguments[g]);if(!isFinite(j)||j<0||j>1114111||b(j)!=j)throw RangeError("Invalid code point: "+j);j<=65535?f.push(j):(j-=65536,c=(j>>10)+55296,d=j%1024+56320,f.push(c,d)),(g+1==h||f.length>e)&&(i+=a.apply(null,f),f.length=0)}return i};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:c,configurable:!0,writable:!0}):String.fromCodePoint=c}()}("undefined"==typeof c?sax={}:c)}).call(this,a("buffer").Buffer)},{buffer:681,stream:704,string_decoder:705}],127:[function(a,b,c){!function(a){"use strict";function d(){this.data=[null],this.top=0}function e(){return new d}d.prototype.clear=function(){return this.data=[null],this.top=0,this},d.prototype.length=function(){return this.top},d.prototype.peek=function(){return this.data[this.top]},d.prototype.pop=function(){return this.top>0?(this.top--,this.data.pop()):void 0},d.prototype.push=function(a){return this.data[++this.top]=a,this},"undefined"!=typeof c?b.exports=e:"function"==typeof define?define(function(){return e}):a.stack=e}(this)},{}],128:[function(a,b,c){b.exports=a("./lib/moddle")},{"./lib/moddle":132}],129:[function(a,b,c){"use strict";function d(){}d.prototype.get=function(a){return this.$model.properties.get(this,a)},d.prototype.set=function(a,b){this.$model.properties.set(this,a,b)},b.exports=d},{}],130:[function(a,b,c){"use strict";function d(a){this.ns=a,this.name=a.name,this.allTypes=[],this.properties=[],this.propertiesByName={}}var e=a("lodash/object/pick"),f=a("lodash/object/assign"),g=a("lodash/collection/forEach"),h=a("./ns").parseName;b.exports=d,d.prototype.build=function(){return e(this,["ns","name","allTypes","properties","propertiesByName","bodyProperty","idProperty"])},d.prototype.addProperty=function(a,b,c){"boolean"==typeof b&&(c=b,b=void 0),this.addNamedProperty(a,c!==!1);var d=this.properties;void 0!==b?d.splice(b,0,a):d.push(a)},d.prototype.replaceProperty=function(a,b,c){var d=a.ns,e=this.properties,f=this.propertiesByName,g=a.name!==b.name;if(a.isId){if(!b.isId)throw new Error("property <"+b.ns.name+"> must be id property to refine <"+a.ns.name+">");this.setIdProperty(b,!1)}if(a.isBody){if(!b.isBody)throw new Error("property <"+b.ns.name+"> must be body property to refine <"+a.ns.name+">");this.setBodyProperty(b,!1)}var h=e.indexOf(a);if(h===-1)throw new Error("property <"+d.name+"> not found in property list");e.splice(h,1),this.addProperty(b,c?void 0:h,g),f[d.name]=f[d.localName]=b},d.prototype.redefineProperty=function(a,b,c){var d=a.ns.prefix,e=b.split("#"),f=h(e[0],d),g=h(e[1],f.prefix).name,i=this.propertiesByName[g];if(!i)throw new Error("refined property <"+g+"> not found");this.replaceProperty(i,a,c),delete a.redefines},d.prototype.addNamedProperty=function(a,b){var c=a.ns,d=this.propertiesByName;b&&(this.assertNotDefined(a,c.name),this.assertNotDefined(a,c.localName)),d[c.name]=d[c.localName]=a},d.prototype.removeNamedProperty=function(a){var b=a.ns,c=this.propertiesByName;delete c[b.name],delete c[b.localName]},d.prototype.setBodyProperty=function(a,b){if(b&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+a.ns.name+">)");this.bodyProperty=a},d.prototype.setIdProperty=function(a,b){if(b&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+a.ns.name+">)");this.idProperty=a},d.prototype.assertNotDefined=function(a,b){var c=a.name,d=this.propertiesByName[c];if(d)throw new Error("property <"+c+"> already defined; override of <"+d.definedBy.ns.name+"#"+d.ns.name+"> by <"+a.definedBy.ns.name+"#"+a.ns.name+"> not allowed without redefines")},d.prototype.hasProperty=function(a){return this.propertiesByName[a]},d.prototype.addTrait=function(a,b){var c=this.allTypes;c.indexOf(a)===-1&&(g(a.properties,function(c){c=f({},c,{name:c.ns.localName,inherited:b}),Object.defineProperty(c,"definedBy",{value:a});var d=c.replaces,e=c.redefines;d||e?this.redefineProperty(c,d||e,d):(c.isBody&&this.setBodyProperty(c),c.isId&&this.setIdProperty(c),this.addProperty(c))},this),c.push(a))}},{"./ns":133,"lodash/collection/forEach":195,"lodash/object/assign":307,"lodash/object/pick":313}],131:[function(a,b,c){"use strict";function d(a,b){this.model=a,this.properties=b}var e=a("lodash/collection/forEach"),f=a("./base");b.exports=d,d.prototype.createType=function(a){function b(a){d.define(this,"$type",{value:h,enumerable:!0}),d.define(this,"$attrs",{value:{}}),d.define(this,"$parent",{writable:!0}),e(a,function(a,b){this.set(b,a)},this)}var c=this.model,d=this.properties,g=Object.create(f.prototype);e(a.properties,function(a){a.isMany||void 0===a["default"]||(g[a.name]=a["default"])}),d.defineModel(g,c),d.defineDescriptor(g,a);var h=a.ns.name;return b.prototype=g,b.hasType=g.$instanceOf=this.model.hasType,d.defineModel(b,c),d.defineDescriptor(b,a),b}},{"./base":129,"lodash/collection/forEach":195}],132:[function(a,b,c){"use strict";function d(a){this.properties=new k(this),this.factory=new i(this,this.properties),this.registry=new j(a,this.properties),this.typeCache={}}var e=a("lodash/lang/isString"),f=a("lodash/lang/isObject"),g=a("lodash/collection/forEach"),h=a("lodash/collection/find"),i=a("./factory"),j=a("./registry"),k=a("./properties"),l=a("./ns").parseName;b.exports=d,d.prototype.create=function(a,b){var c=this.getType(a);if(!c)throw new Error("unknown type <"+a+">");return new c(b)},d.prototype.getType=function(a){var b=this.typeCache,c=e(a)?a:a.ns.name,d=b[c];return d||(a=this.registry.getEffectiveDescriptor(c),d=b[c]=this.factory.createType(a)),d},d.prototype.createAny=function(a,b,c){var d=l(a),e={$type:a},h={name:a,isGeneric:!0,ns:{prefix:d.prefix,localName:d.localName,uri:b}};return this.properties.defineDescriptor(e,h),this.properties.defineModel(e,this),this.properties.define(e,"$parent",{enumerable:!1,writable:!0}),g(c,function(a,b){f(a)&&void 0!==a.value?e[a.name]=a.value:e[b]=a}),e},d.prototype.getPackage=function(a){return this.registry.getPackage(a)},d.prototype.getPackages=function(){return this.registry.getPackages()},d.prototype.getElementDescriptor=function(a){return a.$descriptor},d.prototype.hasType=function(a,b){void 0===b&&(b=a,a=this);var c=a.$model.getElementDescriptor(a);return!!h(c.allTypes,function(a){return a.name===b})},d.prototype.getPropertyDescriptor=function(a,b){return this.getElementDescriptor(a).propertiesByName[b]}},{"./factory":131,"./ns":133,"./properties":134,"./registry":135,"lodash/collection/find":194,"lodash/collection/forEach":195,"lodash/lang/isObject":302,"lodash/lang/isString":304}],133:[function(a,b,c){"use strict";b.exports.parseName=function(a,b){var c,d,e=a.split(/:/);if(1===e.length)c=a,d=b;else{if(2!==e.length)throw new Error("expected <prefix:localName> or <localName>, got "+a);c=e[1],d=e[0]}return a=(d?d+":":"")+c,{name:a,prefix:d,localName:c}}},{}],134:[function(a,b,c){"use strict";function d(a){this.model=a}function e(a){return"undefined"==typeof a}function f(a,b,c){Object.defineProperty(a,b.name,{enumerable:!b.isReference,writable:!0,value:c,configurable:!0})}b.exports=d,d.prototype.set=function(a,b,c){var d=this.model.getPropertyDescriptor(a,b),g=d&&d.name;e(c)?d?delete a[g]:delete a.$attrs[b]:d?g in a?a[g]=c:f(a,d,c):a.$attrs[b]=c},d.prototype.get=function(a,b){var c=this.model.getPropertyDescriptor(a,b);if(!c)return a.$attrs[b];var d=c.name;return!a[d]&&c.isMany&&f(a,c,[]),a[d]},d.prototype.define=function(a,b,c){Object.defineProperty(a,b,c)},d.prototype.defineDescriptor=function(a,b){this.define(a,"$descriptor",{value:b})},d.prototype.defineModel=function(a,b){this.define(a,"$model",{value:b})}},{}],135:[function(a,b,c){"use strict";function d(a,b){this.packageMap={},this.typeMap={},this.packages=[],this.properties=b,f(a,this.registerPackage,this)}var e=a("lodash/object/assign"),f=a("lodash/collection/forEach"),g=a("./types"),h=a("./descriptor-builder"),i=a("./ns").parseName,j=g.isBuiltIn;b.exports=d,d.prototype.getPackage=function(a){return this.packageMap[a]},d.prototype.getPackages=function(){return this.packages},d.prototype.registerPackage=function(a){a=e({},a),f(a.types,function(b){this.registerType(b,a)},this),this.packageMap[a.uri]=this.packageMap[a.prefix]=a,this.packages.push(a)},d.prototype.registerType=function(a,b){a=e({},a,{superClass:(a.superClass||[]).slice(),"extends":(a["extends"]||[]).slice(),properties:(a.properties||[]).slice()});var c=i(a.name,b.prefix),d=c.name,g={};f(a.properties,function(a){var b=i(a.name,c.prefix),d=b.name;j(a.type)||(a.type=i(a.type,b.prefix).name),e(a,{ns:b,name:d}),g[d]=a}),e(a,{ns:c,name:d,propertiesByName:g}),f(a["extends"],function(a){var b=this.typeMap[a];b.traits=b.traits||[],b.traits.push(d)},this),this.definePackage(a,b),this.typeMap[d]=a},d.prototype.mapTypes=function(a,b,c){function d(a){return e(a,!0)}function e(c,d){var e=i(c,j(c)?"":a.prefix);h.mapTypes(e,b,d)}var g=j(a.name)?{name:a.name}:this.typeMap[a.name],h=this;if(!g)throw new Error("unknown type <"+a.name+">");f(g.superClass,c?d:e),b(g,!c),f(g.traits,d)},d.prototype.getEffectiveDescriptor=function(a){var b=i(a),c=new h(b);this.mapTypes(b,function(a,b){c.addTrait(a,b)});var d=c.build();return this.definePackage(d,d.allTypes[d.allTypes.length-1].$pkg),d},d.prototype.definePackage=function(a,b){this.properties.define(a,"$pkg",{value:b})}},{"./descriptor-builder":130,"./ns":133,"./types":136,"lodash/collection/forEach":195,"lodash/object/assign":307}],136:[function(a,b,c){"use strict";var d={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},e={String:function(a){return a},Boolean:function(a){return"true"===a},Integer:function(a){return parseInt(a,10)},Real:function(a){return parseFloat(a,10)}};b.exports.coerceType=function(a,b){var c=e[a];return c?c(b):b},b.exports.isBuiltIn=function(a){return!!d[a]},b.exports.isSimple=function(a){return!!e[a]}},{}],137:[function(a,b,c){b.exports={name:"CMMN",uri:"http://www.omg.org/spec/CMMN/20151109/MODEL",types:[{name:"ApplicabilityRule",superClass:["CMMNElement"],properties:[{name:"condition",type:"Expression",xml:{serialize:"property"}},{name:"contextRef",type:"CaseFileItem",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["CMMNElement"]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"CMMNElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"CMMNElement",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat","default":"text/plain",isAttr:!0,type:"String"}]},{name:"ManualActivationRule",superClass:["CMMNElement"],properties:[{name:"condition",type:"Expression",xml:{serialize:"property"}},{name:"name",isAttr:!0,type:"String"},{name:"contextRef",type:"CaseFileItem",isAttr:!0,isReference:!0}]},{name:"Case",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"caseFileModel",type:"CaseFile",xml:{serialize:"property"}},{name:"casePlanModel",type:"Stage",xml:{serialize:"property"}},{name:"caseRoles",type:"CaseRoles"},{name:"input",type:"CaseParameter",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"CaseParameter",isMany:!0,xml:{serialize:"property"}}]},{name:"CaseFile",superClass:["CMMNElement"],properties:[{name:"caseFileItems",type:"CaseFileItem",isMany:!0}]},{name:"CaseFileItem",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"multiplicity",type:"String",isAttr:!0,"default":"Unspecified"},{name:"definitionRef",type:"CaseFileItemDefinition",isAttr:!0,isReference:!0},{name:"sourceRef",type:"CaseFileItem",isAttr:!0,isReference:!0},{name:"targetRefs",type:"CaseFileItem",isAttr:!0,isReference:!0,isMany:!0},{name:"children",type:"Children",xml:{serialize:"property"}}]},{name:"CaseFileItemDefinition",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"definitionType",type:"String","default":"http://www.omg.org/spec/CMMN/DefinitionType/Unspecified",isAttr:!0},{name:"properties",type:"Property",isMany:!0},{name:"structureRef",type:"String",isAttr:!0},{name:"importRef",type:"Import",isAttr:!0,isReference:!0}]},{name:"CaseFileItemOnPart",superClass:["OnPart"],properties:[{name:"standardEvent",type:"String"},{name:"sourceRef",type:"CaseFileItem",isAttr:!0,isReference:!0}]},{name:"CaseParameter",superClass:["Parameter"],properties:[{name:"bindingRef",type:"CaseFileItem",isAttr:!0,isReference:!0},{name:"bindingRefinement",type:"Expression",xml:{serialize:"property"}}]},{name:"CaseRoles",superClass:["Parameter"],properties:[{name:"role",type:"Role",isMany:!0}]},{name:"CaseTask",superClass:["Task"],properties:[{name:"parameterMapping",type:"ParameterMapping",isMany:!0},{name:"caseRefExpression",type:"Expression",xml:{serialize:"property"}},{name:"caseRef",type:"String",isAttr:!0}]},{name:"Children",superClass:["CMMNElement"],properties:[{name:"caseFileItems",type:"CaseFileItem",isMany:!0}]},{name:"CMMNElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionElements",type:"ExtensionElements"},{name:"extensionDefinitions",type:"ExtensionDefinition",isReference:!0,isMany:!0}]},{name:"Definitions",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",type:"String",isAttr:!0},{name:"expressionLanguage",type:"String",isAttr:!0,"default":"http://www.w3.org/1999/XPath"},{name:"exporter",isAttr:!0,type:"String"},{name:"exporterVersion",isAttr:!0,type:"String"},{name:"author",isAttr:!0,type:"String"},{name:"creationDate",type:"DateTime",isAttr:!0},{name:"imports",type:"Import",isMany:!0},{name:"caseFileItemDefinitions",type:"CaseFileItemDefinition",isMany:!0},{name:"cases",type:"Case",isMany:!0},{name:"processes",type:"Process",isMany:!0},{name:"decisions",type:"Decision",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"relationships",type:"Relationship",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"CMMNDI",type:"cmmndi:CMMNDI"}]},{name:"DiscretionaryItem",superClass:["TableItem"],properties:[{name:"itemControl",type:"PlanItemControl",xml:{serialize:"property"}},{name:"definitionRef",type:"PlanItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"entryCriteria",type:"EntryCriterion",isMany:!0},{name:"exitCriteria",type:"ExitCriterion",isMany:!0}]},{name:"EventListener",superClass:["PlanItemDefinition"]},{name:"Expression",superClass:["CMMNElement"],properties:[{name:"language",type:"String",isAttr:!0},{name:"body",isBody:!0,type:"String"}]},{name:"HumanTask",superClass:["Task"],properties:[{name:"planningTable",type:"PlanningTable"},{name:"performerRef",type:"Role",isAttr:!0,isReference:!0}]},{name:"IfPart",superClass:["CMMNElement"],properties:[{name:"contextRef",type:"CaseFileItem",isAttr:!0,isReference:!0},{name:"condition",type:"Expression",xml:{serialize:"property"}}]},{name:"Import",properties:[{name:"location",isAttr:!0,type:"String"},{name:"namespace",type:"String",isAttr:!0},{name:"importType",isAttr:!0,type:"String"}]},{name:"Milestone",superClass:["PlanItemDefinition"]},{name:"On",isAbstract:!0,superClass:["CMMNElement"]},{name:"OnPart",isAbstract:!0,superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"Parameter",isAbstract:!0,superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ParameterMapping",properties:[{name:"sourceRef",type:"Parameter",isAttr:!0,isReference:!0},{name:"targetRef",type:"Parameter",isAttr:!0,isReference:!0},{name:"transformation",type:"Expression",xml:{serialize:"property"}}]},{name:"PlanFragment",superClass:["PlanItemDefinition"],properties:[{name:"planItems",type:"PlanItem",isMany:!0},{name:"sentries",type:"Sentry",isMany:!0}]},{name:"PlanItem",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"definitionRef",type:"PlanItemDefinition",isAttr:!0,isReference:!0},{name:"itemControl",type:"PlanItemControl",xml:{serialize:"property"}},{name:"entryCriteria",type:"EntryCriterion",isMany:!0},{name:"exitCriteria",type:"ExitCriterion",isMany:!0}]},{name:"PlanItemControl",superClass:["CMMNElement"],properties:[{name:"repetitionRule",type:"RepetitionRule"},{name:"requiredRule",type:"RequiredRule"},{name:"manualActivationRule",type:"ManualActivationRule"}]},{name:"PlanItemDefinition",isAbstract:!0,superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"defaultControl",type:"PlanItemControl",xml:{serialize:"property"}}]},{name:"PlanItemOnPart",superClass:["OnPart"],properties:[{name:"standardEvent",type:"String"},{name:"sourceRef",type:"PlanItem",isAttr:!0,isReference:!0},{name:"exitCriterionRef",type:"ExitCriterion",isAttr:!0,isReference:!0}]},{name:"PlanningTable",superClass:["TableItem"],properties:[{name:"tableItems",type:"TableItem",isMany:!0},{name:"applicabilityRules",type:"ApplicabilityRule",isMany:!0}]},{name:"Process",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"implementationType",type:"String",isAttr:!0,"default":"http://www.omg.org/spec/CMMN/ProcessType/Unspecified"},{name:"externalRef",type:"String",isAttr:!0},{name:"input",type:"ProcessParameter",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"ProcessParameter",isMany:!0,xml:{serialize:"property"}}]},{name:"ProcessParameter",superClass:["Parameter"]},{name:"ProcessTask",superClass:["Task"],properties:[{name:"parameterMapping",type:"ParameterMapping",isMany:!0},{name:"processRefExpression",type:"Expression",xml:{serialize:"property"}},{name:"processRef",type:"String",isAttr:!0}]},{name:"Property",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",type:"String",isAttr:!0,"default":"http://www.omg.org/spec/CMMN/PropertyType/Unspecified"}]},{name:"RepetitionRule",superClass:["CMMNElement"],properties:[{name:"condition",type:"Expression",xml:{serialize:"property"}},{name:"name",isAttr:!0,type:"String"},{name:"contextRef",type:"CaseFileItem",isAttr:!0,isReference:!0}]},{name:"RequiredRule",superClass:["CMMNElement"],properties:[{name:"condition",type:"Expression",xml:{serialize:"property"}},{name:"name",isAttr:!0,type:"String"},{name:"contextRef",type:"CaseFileItem",isAttr:!0,isReference:!0}]},{name:"Role",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"Sentry",superClass:["CMMNElement"],properties:[{name:"onParts",type:"OnPart",isMany:!0},{name:"ifPart",type:"IfPart"},{name:"name",isAttr:!0,type:"String"}]},{name:"Stage",superClass:["PlanFragment"],properties:[{name:"planningTable",type:"PlanningTable"},{name:"planItemDefinitions",type:"PlanItemDefinition",isMany:!0},{name:"autoComplete",isAttr:!0,type:"Boolean"},{name:"exitCriteria",type:"ExitCriterion",isMany:!0}]},{name:"TableItem",isAbstract:!0,superClass:["CMMNElement"],properties:[{name:"authorizedRoleRefs",type:"Role",isAttr:!0,isReference:!0,isMany:!0},{name:"applicabilityRuleRefs",type:"ApplicabilityRule",isAttr:!0,isReference:!0,isMany:!0}]},{name:"Task",superClass:["PlanItemDefinition"],properties:[{name:"input",type:"CaseParameter",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"CaseParameter",isMany:!0,xml:{serialize:"property"}},{name:"isBlocking",isAttr:!0,"default":!0,type:"Boolean"}]},{name:"TimerEventListener",superClass:["EventListener"],properties:[{name:"timerExpression",type:"Expression",xml:{serialize:"property"}},{name:"timerStart",type:"StartTrigger"}]},{name:"UserEventListener",superClass:["EventListener"],properties:[{name:"authorizedRoleRefs",type:"Role",isMany:!0,isAttr:!0}]},{name:"DateTime",superClass:[]},{name:"StartTrigger",isAbstract:!0,superClass:["CMMNElement"]},{name:"PlanItemStartTrigger",superClass:["StartTrigger"],properties:[{name:"standardEvent",type:"String",isAttr:!0},{name:"sourceRef",type:"PlanItem",isAttr:!0,isReference:!0}]},{name:"CaseFileItemStartTrigger",superClass:["StartTrigger"],properties:[{name:"standardEvent",type:"String",isAttr:!0},{name:"sourceRef",type:"CaseFileItem",isAttr:!0,isReference:!0}]},{name:"Extension",properties:[{name:"mustUnderstand","default":!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition"}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",isAttr:!0,"default":!1,type:"Boolean"}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Relationship",properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,type:"Element"},{name:"target",isMany:!0,type:"Element"}]},{name:"Documentation",superClass:["CMMNElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat","default":"text/plain",isAttr:!0,type:"String"}]},{name:"DecisionTask",superClass:["Task"],properties:[{name:"mappings",type:"ParameterMapping",isMany:!0},{name:"decisionRef",type:"String",isAttr:!0},{name:"decisionRefExpression",type:"Expression",xml:{serialize:"property"}}]},{name:"Decision",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"implementationType",type:"String",isAttr:!0,"default":"http://www.omg.org/spec/CMMN/DecisionType/Unspecified"},{name:"input",type:"DecisionParameter",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"DecisionParameter",isMany:!0,xml:{serialize:"property"}},{name:"externalRef",type:"String",isAttr:!0}]},{name:"DecisionParameter",superClass:["Parameter"]},{name:"Criterion",isAbstract:!0,superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sentryRef",type:"Sentry",isAttr:!0,isReference:!0}]},{name:"EntryCriterion",superClass:["Criterion"]},{name:"ExitCriterion",superClass:["Criterion"]}],emumerations:[{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"CaseFileItemTransition",literalValues:[{name:"addChild"},{name:"addReference"},{name:"create"},{name:"delete"},{name:"removeChild"},{name:"removeReference"},{name:"replace"},{name:"update"}]},{name:"MultiplicityEnum",literalValues:[{name:"ZeroOrOne"},{name:"ZeroOrMore"},{name:"ExactlyOne"},{name:"OneOrMore"},{name:"Unspecified"},{name:"Unknown"}]},{name:"PlanItemTransition",literalValues:[{name:"close"},{name:"complete"},{name:"create"},{name:"disable"},{name:"enable"},{name:"exit"},{name:"fault"},{name:"manualStart"},{name:"occur"},{name:"parentResume"},{name:"parentSuspend"},{name:"reactivate"},{name:"reenable"},{name:"resume"},{name:"start"},{name:"suspend"},{name:"terminate"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]}],associations:[],xml:{tagAlias:"lowerCase",typePrefix:"t"},prefix:"cmmn"}},{}],138:[function(a,b,c){b.exports={name:"CMMNDI",uri:"http://www.omg.org/spec/CMMN/20151109/CMMNDI",types:[{name:"CMMNDI",properties:[{name:"diagrams",type:"CMMNDiagram",isMany:!0},{name:"styles",type:"CMMNStyle",isMany:!0}]},{name:"CMMNDiagram",properties:[{name:"cmmnElementRef",isAttr:!0,type:"cmmn:CMMNElement",isReference:!0},{name:"Size",type:"dc:Dimension",xml:{serialize:"xsi:type"}},{name:"diagramElements",type:"CMMNDiagramElement",isMany:!0}],superClass:["di:Diagram"]},{name:"CMMNDiagramElement",superClass:["di:DiagramElement"]},{name:"CMMNShape",properties:[{name:"cmmnElementRef",isAttr:!0,isReference:!0,type:"cmmn:CMMNElement"},{name:"label",type:"CMMNLabel"},{name:"isCollapsed",isAttr:!0,type:"Boolean"},{name:"isPlanningTableCollapsed",isAttr:!0,type:"Boolean"}],superClass:["CMMNDiagramElement","di:Shape"]},{name:"CMMNEdge",properties:[{name:"label",type:"CMMNLabel"},{name:"cmmnElementRef",isAttr:!0,isReference:!0,type:"cmmn:CMMNElement"},{name:"sourceCMMNElementRef",isAttr:!0,isReference:!0,type:"cmmn:CMMNElement"},{name:"targetCMMNElementRef",isAttr:!0,isReference:!0,type:"cmmn:CMMNElement"},{name:"isStandardEventVisible",type:"Boolean",isAttr:!0}],superClass:["CMMNDiagramElement","di:Edge"]},{name:"CMMNLabel",superClass:["di:Shape"]},{name:"CMMNStyle",properties:[{name:"FillColor",type:"dc:Color",xml:{serialize:"xsi:type"}},{name:"StrokeColor",type:"dc:Color",xml:{serialize:"xsi:type"}},{name:"FontColor",type:"dc:Color",xml:{serialize:"xsi:type"}},{name:"fontFamily",type:"String",isAttr:!0},{name:"fontSize",type:"Real",isAttr:!0},{name:"fontItalic",type:"Boolean",isAttr:!0},{name:"fontBold",type:"Boolean",isAttr:!0},{name:"fontUnderline",type:"Boolean",isAttr:!0},{name:"fontStrikeThrough",type:"Boolean",isAttr:!0}],superClass:["di:Style"]}],associations:[],prefix:"cmmndi"}},{}],139:[function(a,b,c){b.exports={name:"DC",uri:"http://www.omg.org/spec/CMMN/20151109/DC",types:[{name:"rgb"},{name:"Real"},{name:"Color",properties:[{name:"red",type:"rgb",isAttr:!0},{name:"green",type:"rgb",isAttr:!0},{name:"blue",type:"rgb",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",isAttr:!0},{name:"y",type:"Real",isAttr:!0}]},{name:"Dimension",properties:[{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",isAttr:!0},{name:"y",type:"Real",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],prefix:"dc",associations:[]}},{}],140:[function(a,b,c){b.exports={name:"DI",uri:"http://www.omg.org/spec/CMMN/20151109/DI",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"extension",type:"Extension"},{name:"style",type:"Style"},{name:"sharedStyle",type:"Style",isReference:!0,isAttr:!0},{name:"id",type:"String",isAttr:!0,isId:!0}]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"waypoint",isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"name",type:"String",isAttr:!0},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,"default":300,type:"double"}]},{name:"Shape",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"extension",type:"Extension"},{name:"id",type:"String",isAttr:!0,isId:!0}]},{name:"Extension",properties:[{name:"values",type:"Element",isMany:!0}]}],associations:[],prefix:"di",xml:{tagAlias:"lowerCase"}}},{}],141:[function(a,b,c){b.exports=a("./lib/Diagram")},{"./lib/Diagram":142}],142:[function(a,b,c){"use strict";function d(a){function b(a){return e.indexOf(a)>=0}function c(a){e.push(a)}function d(a){b(a)||((a.__depends__||[]).forEach(d),b(a)||(c(a),(a.__init__||[]).forEach(function(a){f.push(a)})))}var e=[],f=[];a.forEach(d);var h=new g.Injector(e);return f.forEach(function(a){try{h["string"==typeof a?"get":"invoke"](a)}catch(b){throw console.error("Failed to instantiate component"),console.error(b.stack),b}}),h}function e(b){b=b||{};var c={config:["value",b]},e=a("./core"),f=[c,e].concat(b.modules||[]);return d(f)}function f(a,b){this.injector=b=b||e(a),this.get=b.get,this.invoke=b.invoke,this.get("eventBus").fire("diagram.init")}var g=a("didi");b.exports=f,f.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},f.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")}},{"./core":148,didi:182}],143:[function(a,b,c){"use strict";function d(a,b){return Math.round(a*b)/b}function e(a){return j(a)?a+"px":a}function f(a){a=k({},{width:"100%",height:"100%"},a);var b=a.container||document.body,c=document.createElement("div");return c.setAttribute("class","djs-container"),k(c.style,{position:"relative",overflow:"hidden",width:e(a.width),height:e(a.height)}),b.appendChild(c),c}function g(a,b){return a.group().attr({"class":b})}function h(a,b,c,d){this._eventBus=b,this._elementRegistry=d,this._graphicsFactory=c,this._init(a||{})}function i(a,b){var c="matrix("+b.a+","+b.b+","+b.c+","+b.d+","+b.e+","+b.f+")";a.setAttribute("transform",c)}var j=a("lodash/lang/isNumber"),k=a("lodash/object/assign"),l=a("lodash/collection/forEach"),m=a("lodash/collection/every"),n=a("lodash/function/debounce"),o=a("../util/Collections"),p=a("../util/Elements"),q=a("../../vendor/snapsvg"),r="base",s={shape:["x","y","width","height"],connection:["waypoints"]};h.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],b.exports=h,h.prototype._init=function(a){var b=this._eventBus,c=this._container=f(a),d=this._svg=q.createSnapAt("100%","100%",c),e=this._viewport=g(d,"viewport");this._layers={},a.deferUpdate!==!1&&(this._viewboxChanged=n(this._viewboxChanged,300)),b.on("diagram.init",function(){b.fire("canvas.init",{svg:d,viewport:e}),this.resized()},this),b.on("diagram.destroy",500,this._destroy,this),b.on("diagram.clear",500,this._clear,this)},h.prototype._destroy=function(a){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var b=this._container.parentNode;b&&b.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},h.prototype._clear=function(){var a=this,b=this._elementRegistry.getAll();b.forEach(function(b){var c=p.getType(b);"root"===c?a.setRootElement(null,!0):a._removeElement(b,c)}),delete this._cachedViewbox},h.prototype.getDefaultLayer=function(){return this.getLayer(r)},h.prototype.getLayer=function(a){if(!a)throw new Error("must specify a name");var b=this._layers[a];return b||(b=this._layers[a]=g(this._viewport,"layer-"+a)),b},h.prototype.getContainer=function(){return this._container},h.prototype._updateMarker=function(a,b,c){var d;a.id||(a=this._elementRegistry.get(a)),d=this._elementRegistry._elements[a.id],d&&(l([d.gfx,d.secondaryGfx],function(a){a&&a[c?"addClass":"removeClass"](b)}),this._eventBus.fire("element.marker.update",{element:a,gfx:d.gfx,marker:b,add:!!c}))},h.prototype.addMarker=function(a,b){this._updateMarker(a,b,!0)},h.prototype.removeMarker=function(a,b){this._updateMarker(a,b,!1)},h.prototype.hasMarker=function(a,b){a.id||(a=this._elementRegistry.get(a));var c=this.getGraphics(a);
return c&&c.hasClass(b)},h.prototype.toggleMarker=function(a,b){this.hasMarker(a,b)?this.removeMarker(a,b):this.addMarker(a,b)},h.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},h.prototype.setRootElement=function(a,b){a&&this._ensureValid("root",a);var c=this._rootElement,d=this._elementRegistry,e=this._eventBus;if(c){if(!b)throw new Error("rootElement already set, need to specify override");e.fire("root.remove",{element:c}),e.fire("root.removed",{element:c}),d.remove(c)}if(a){var f=this.getDefaultLayer();e.fire("root.add",{element:a}),d.add(a,f,this._svg),e.fire("root.added",{element:a,gfx:f})}return this._rootElement=a,a},h.prototype._ensureValid=function(a,b){if(!b.id)throw new Error("element must have an id");if(this._elementRegistry.get(b.id))throw new Error("element with id "+b.id+" already exists");var c=s[a],d=m(c,function(a){return"undefined"!=typeof b[a]});if(!d)throw new Error("must supply { "+c.join(", ")+" } with "+a)},h.prototype._setParent=function(a,b,c){o.add(b.children,a,c),a.parent=b},h.prototype._addElement=function(a,b,c,d){c=c||this.getRootElement();var e=this._eventBus,f=this._graphicsFactory;this._ensureValid(a,b),e.fire(a+".add",{element:b,parent:c}),this._setParent(b,c,d);var g=f.create(a,b);return this._elementRegistry.add(b,g),f.update(a,b,g),e.fire(a+".added",{element:b,gfx:g}),b},h.prototype.addShape=function(a,b,c){return this._addElement("shape",a,b,c)},h.prototype.addConnection=function(a,b,c){return this._addElement("connection",a,b,c)},h.prototype._removeElement=function(a,b){var c=this._elementRegistry,d=this._graphicsFactory,e=this._eventBus;if(a=c.get(a.id||a))return e.fire(b+".remove",{element:a}),d.remove(a),o.remove(a.parent&&a.parent.children,a),a.parent=null,e.fire(b+".removed",{element:a}),c.remove(a),a},h.prototype.removeShape=function(a){return this._removeElement(a,"shape")},h.prototype.removeConnection=function(a){return this._removeElement(a,"connection")},h.prototype.getGraphics=function(a,b){return this._elementRegistry.getGraphics(a,b)},h.prototype._changeViewbox=function(a){this._eventBus.fire("canvas.viewbox.changing"),a.apply(this),this._cachedViewbox=null,this._viewboxChanged()},h.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},h.prototype.viewbox=function(a){if(void 0===a&&this._cachedViewbox)return this._cachedViewbox;var b,c,e,f,g,h=this._viewport,i=this.getSize();return a?(this._changeViewbox(function(){e=Math.min(i.width/a.width,i.height/a.height),c=(new q.Matrix).scale(e).translate(-a.x,-a.y),h.transform(c)}),a):(b=this.getDefaultLayer().getBBox(!0),c=h.transform().localMatrix,e=d(c.a,1e3),f=d(-c.e||0,1e3),g=d(-c.f||0,1e3),a=this._cachedViewbox={x:f?f/e:0,y:g?g/e:0,width:i.width/e,height:i.height/e,scale:e,inner:{width:b.width,height:b.height,x:b.x,y:b.y},outer:i})},h.prototype.scroll=function(a){var b=this._viewport.node,c=b.getCTM();return a&&this._changeViewbox(function(){a=k({dx:0,dy:0},a||{}),c=this._svg.node.createSVGMatrix().translate(a.dx,a.dy).multiply(c),i(b,c)}),{x:c.e,y:c.f}},h.prototype.zoom=function(a,b){if(!a)return this.viewbox(a).scale;if("fit-viewport"===a)return this._fitViewport(b);var c,e;return this._changeViewbox(function(){"object"!=typeof b&&(c=this.viewbox().outer,b={x:c.width/2,y:c.height/2}),e=this._setZoom(a,b)}),d(e.a,1e3)},h.prototype._fitViewport=function(a){var b,c,d=this.viewbox(),e=d.outer,f=d.inner;return f.x>=0&&f.y>=0&&f.x+f.width<=e.width&&f.y+f.height<=e.height&&!a?c={x:0,y:0,width:Math.max(f.width+f.x,e.width),height:Math.max(f.height+f.y,e.height)}:(b=Math.min(1,e.width/f.width,e.height/f.height),c={x:f.x+(a?f.width/2-e.width/b/2:0),y:f.y+(a?f.height/2-e.height/b/2:0),width:e.width/b,height:e.height/b}),this.viewbox(c),this.viewbox(!1).scale},h.prototype._setZoom=function(a,b){var c,d,e,f,g,h=this._svg.node,j=this._viewport.node,l=h.createSVGMatrix(),m=h.createSVGPoint();e=j.getCTM();var n=e.a;return b?(c=k(m,b),d=c.matrixTransform(e.inverse()),f=l.translate(d.x,d.y).scale(1/n*a).translate(-d.x,-d.y),g=e.multiply(f)):g=l.scale(a),i(this._viewport.node,g),g},h.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},h.prototype.getAbsoluteBBox=function(a){var b,c=this.viewbox();if(a.waypoints){var d=this.getGraphics(a),e=d.getBBox(!0);b=d.getBBox(),b.x-=e.x,b.y-=e.y,b.width+=2*e.x,b.height+=2*e.y}else b=a;var f=b.x*c.scale-c.x*c.scale,g=b.y*c.scale-c.y*c.scale,h=b.width*c.scale,i=b.height*c.scale;return{x:f,y:g,width:h,height:i}},h.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")}},{"../../vendor/snapsvg":187,"../util/Collections":170,"../util/Elements":172,"lodash/collection/every":192,"lodash/collection/forEach":195,"lodash/function/debounce":202,"lodash/lang/isNumber":301,"lodash/object/assign":307}],144:[function(a,b,c){"use strict";function d(){this._uid=12}var e=a("../model"),f=a("lodash/object/assign");b.exports=d,d.prototype.createRoot=function(a){return this.create("root",a)},d.prototype.createLabel=function(a){return this.create("label",a)},d.prototype.createShape=function(a){return this.create("shape",a)},d.prototype.createConnection=function(a){return this.create("connection",a)},d.prototype.create=function(a,b){return b=f({},b||{}),b.id||(b.id=a+"_"+this._uid++),e.create(a,b)}},{"../model":163,"lodash/object/assign":307}],145:[function(a,b,c){"use strict";function d(){this._elements={}}var e="data-element-id";b.exports=d,d.prototype.add=function(a,b,c){var d=a.id;this._validateId(d),b.attr(e,d),c&&c.attr(e,d),this._elements[d]={element:a,gfx:b,secondaryGfx:c}},d.prototype.remove=function(a){var b=this._elements,c=a.id||a,d=c&&b[c];d&&(d.gfx.attr(e,""),d.secondaryGfx&&d.secondaryGfx.attr(e,""),delete b[c])},d.prototype.updateId=function(a,b){this._validateId(b),"string"==typeof a&&(a=this.get(a));var c=this.getGraphics(a),d=this.getGraphics(a,!0);this.remove(a),a.id=b,this.add(a,c,d)},d.prototype.get=function(a){var b;b="string"==typeof a?a:a&&a.attr(e);var c=this._elements[b];return c&&c.element},d.prototype.filter=function(a){var b=[];return this.forEach(function(c,d){a(c,d)&&b.push(c)}),b},d.prototype.getAll=function(){return this.filter(function(a){return a})},d.prototype.forEach=function(a){var b=this._elements;Object.keys(b).forEach(function(c){var d=b[c],e=d.element,f=d.gfx;return a(e,f)})},d.prototype.getGraphics=function(a,b){var c=a.id||a,d=this._elements[c];return d&&(b?d.secondaryGfx:d.gfx)},d.prototype._validateId=function(a){if(!a)throw new Error("element must have an id");if(this._elements[a])throw new Error("element with id "+a+" already added")}},{}],146:[function(a,b,c){"use strict";function d(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function e(){}function f(a,b){return a.apply(null,b)}var g=a("lodash/lang/isFunction"),h=a("lodash/lang/isArray"),i=a("lodash/lang/isNumber"),j=a("lodash/function/bind"),k=a("lodash/object/assign"),l="__fn",m=1e3,n=Array.prototype.slice;b.exports=d,d.prototype.on=function(a,b,c,d){if(a=h(a)?a:[a],g(b)&&(d=c,c=b,b=m),!i(b))throw new Error("priority must be a number");var e=c;d&&(e=j(c,d),e[l]=c[l]||c);var f=this,k={priority:b,callback:e};a.forEach(function(a){f._addListener(a,k)})},d.prototype.once=function(a,b,c,d){function e(){return f.off(a,e),c.apply(d,arguments)}var f=this;if(g(b)&&(d=c,c=b,b=m),!i(b))throw new Error("priority must be a number");e[l]=c,this.on(a,b,e)},d.prototype.off=function(a,b){var c,d,e,f=this._getListeners(a);if(b)for(e=f.length-1;c=f[e];e--)d=c.callback,d!==b&&d[l]!==b||f.splice(e,1);else f.length=0},d.prototype.fire=function(a,b){var c,d,f,g;if(g=n.call(arguments),"object"==typeof a&&(c=a,a=c.type),!a)throw new Error("no event type specified");if(d=this._listeners[a]){b instanceof e?c=b:(c=new e,c.init(b)),g[0]=c;var h=c.type;a!==h&&(c.type=a);try{f=this._invokeListeners(c,g,d)}finally{a!==h&&(c.type=h)}return void 0===f&&c.defaultPrevented&&(f=!1),f}},d.prototype.handleError=function(a){return this.fire("error",{error:a})===!1},d.prototype._destroy=function(){this._listeners={}},d.prototype._invokeListeners=function(a,b,c){var d,e,f;for(d=0;(e=c[d])&&!a.cancelBubble;d++)f=this._invokeListener(a,b,e);return f},d.prototype._invokeListener=function(a,b,c){var d;try{d=f(c.callback,b),void 0!==d&&(a.returnValue=d,a.stopPropagation()),d===!1&&a.preventDefault()}catch(e){if(!this.handleError(e))throw console.error("unhandled error in event listener"),console.error(e.stack),e}return d},d.prototype._addListener=function(a,b){var c,d,e=this._getListeners(a);for(d=0;c=e[d];d++)if(c.priority<b.priority)return void e.splice(d,0,b);e.push(b)},d.prototype._getListeners=function(a){var b=this._listeners[a];return b||(this._listeners[a]=b=[]),b},b.exports.Event=e,e.prototype.stopPropagation=function(){this.cancelBubble=!0},e.prototype.preventDefault=function(){this.defaultPrevented=!0},e.prototype.init=function(a){k(this,a||{})}},{"lodash/function/bind":201,"lodash/lang/isArray":298,"lodash/lang/isFunction":299,"lodash/lang/isNumber":301,"lodash/object/assign":307}],147:[function(a,b,c){"use strict";function d(a,b){this._eventBus=a,this._elementRegistry=b}var e=a("lodash/collection/forEach"),f=a("lodash/collection/reduce"),g=a("../util/GraphicsUtil"),h=a("min-dom/lib/clear");d.$inject=["eventBus","elementRegistry"],b.exports=d,d.prototype._getChildren=function(a){var b,c=this._elementRegistry.getGraphics(a);return a.parent?(b=g.getChildren(c),b||(b=c.parent().group().attr("class","djs-children"))):b=c,b},d.prototype._clear=function(a){var b=g.getVisual(a);return h(b.node),b},d.prototype._createContainer=function(a,b){var c=b.group().attr("class","djs-group"),d=c.group().attr("class","djs-element djs-"+a);return d.group().attr("class","djs-visual"),d},d.prototype.create=function(a,b){var c=this._getChildren(b.parent);return this._createContainer(a,c)},d.prototype.updateContainments=function(a){var b,c=this,d=this._elementRegistry;b=f(a,function(a,b){return b.parent&&(a[b.parent.id]=b.parent),a},{}),e(b,function(a){var b=c._getChildren(a),f=a.children;f&&e(f.slice().reverse(),function(a){var c=d.getGraphics(a);c.parent().prependTo(b)})})},d.prototype.drawShape=function(a,b){var c=this._eventBus;return c.fire("render.shape",{gfx:a,element:b})},d.prototype.getShapePath=function(a){var b=this._eventBus;return b.fire("render.getShapePath",a)},d.prototype.drawConnection=function(a,b){var c=this._eventBus;return c.fire("render.connection",{gfx:a,element:b})},d.prototype.getConnectionPath=function(a){var b=this._eventBus;return b.fire("render.getConnectionPath",a)},d.prototype.update=function(a,b,c){if(b.parent){var d=this._clear(c);if("shape"===a)this.drawShape(d,b),c.translate(b.x,b.y);else{if("connection"!==a)throw new Error("unknown type: "+a);this.drawConnection(d,b)}c.attr("display",b.hidden?"none":"block")}},d.prototype.remove=function(a){var b=this._elementRegistry.getGraphics(a);b.parent().remove()}},{"../util/GraphicsUtil":174,"lodash/collection/forEach":195,"lodash/collection/reduce":198,"min-dom/lib/clear":319}],148:[function(a,b,c){b.exports={__depends__:[a("../draw")],__init__:["canvas"],canvas:["type",a("./Canvas")],elementRegistry:["type",a("./ElementRegistry")],elementFactory:["type",a("./ElementFactory")],eventBus:["type",a("./EventBus")],graphicsFactory:["type",a("./GraphicsFactory")]}},{"../draw":152,"./Canvas":143,"./ElementFactory":144,"./ElementRegistry":145,"./EventBus":146,"./GraphicsFactory":147}],149:[function(a,b,c){"use strict";function d(a,b){var c=this;b=b||e,a.on(["render.shape","render.connection"],b,function(a,b){var d=a.type,e=b.element,f=b.gfx;if(c.canRender(e))return"render.shape"===d?c.drawShape(f,e):c.drawConnection(f,e)}),a.on(["render.getShapePath","render.getConnectionPath"],b,function(a,b){if(c.canRender(b))return"render.getShapePath"===a.type?c.getShapePath(b):c.getConnectionPath(b)})}var e=1e3;d.prototype.canRender=function(){},d.prototype.drawShape=function(){},d.prototype.drawConnection=function(){},d.prototype.getShapePath=function(){},d.prototype.getConnectionPath=function(){},b.exports=d},{}],150:[function(a,b,c){"use strict";function d(a,b){f.call(this,a,j),this.CONNECTION_STYLE=b.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=b.style({fill:"white",stroke:"fuchsia",strokeWidth:2})}var e=a("inherits"),f=a("./BaseRenderer"),g=a("../util/RenderUtil"),h=g.componentsToPath,i=g.createLine,j=1;e(d,f),d.prototype.canRender=function(){return!0},d.prototype.drawShape=function(a,b){return a.rect(0,0,b.width||0,b.height||0).attr(this.SHAPE_STYLE)},d.prototype.drawConnection=function(a,b){return i(b.waypoints,this.CONNECTION_STYLE).appendTo(a)},d.prototype.getShapePath=function(a){var b=a.x,c=a.y,d=a.width,e=a.height,f=[["M",b,c],["l",d,0],["l",0,e],["l",-d,0],["z"]];return h(f)},d.prototype.getConnectionPath=function(a){var b,c,d=a.waypoints,e=[];for(b=0;c=d[b];b++)c=c.original||c,e.push([0===b?"M":"L",c.x,c.y]);return h(e)},d.$inject=["eventBus","styles"],b.exports=d},{"../util/RenderUtil":179,"./BaseRenderer":149,inherits:188}],151:[function(a,b,c){"use strict";function d(){var a={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},b=this;this.cls=function(a,b,c){var d=this.style(b,c);return f(d,{"class":a})},this.style=function(b,c){e(b)||c||(c=b,b=[]);var d=g(b,function(b,c){return f(b,a[c]||{})},{});return c?f(d,c):d},this.computeStyle=function(a,c,d){return e(c)||(d=c,c=[]),b.style(c||[],f({},d,a||{}))}}var e=a("lodash/lang/isArray"),f=a("lodash/object/assign"),g=a("lodash/collection/reduce");b.exports=d},{"lodash/collection/reduce":198,"lodash/lang/isArray":298,"lodash/object/assign":307}],152:[function(a,b,c){b.exports={__init__:["defaultRenderer"],defaultRenderer:["type",a("./DefaultRenderer")],styles:["type",a("./Styles")]}},{"./DefaultRenderer":150,"./Styles":151}],153:[function(a,b,c){"use strict";function d(a,b,c){function d(c,d,e){if(g(d)){var f,i,j;e?i=b.getGraphics(e):(f=d.delegateTarget||d.target,f&&(i=new h(f),e=b.get(i))),i&&e&&(j=a.fire(c,{element:e,gfx:i,originalEvent:d}),j===!1&&(d.stopPropagation(),d.preventDefault()))}}function i(a){var b=r[a];return b||(b=r[a]=function(b){d(a,b)}),b}function l(a,b,c){var e=s[a];if(!e)throw new Error("unmapped DOM event name <"+a+">");return d(e,b,c)}function m(a,b,c){var d=i(c);d.$delegate=f.bind(a,t,b,d)}function n(a,b,c){f.unbind(a,b,i(c).$delegate)}function o(a){e(s,function(b,c){m(a.node,c,b)})}function p(a){e(s,function(b,c){n(a.node,c,b)})}var q=c.cls("djs-hit",["no-fill","no-border"],{stroke:"white",strokeWidth:15}),r={},s={mouseover:"element.hover",mouseout:"element.out",click:"element.click",dblclick:"element.dblclick",mousedown:"element.mousedown",mouseup:"element.mouseup"},t="svg, .djs-element";a.on("canvas.destroy",function(a){p(a.svg)}),a.on("canvas.init",function(a){o(a.svg)}),a.on(["shape.added","connection.added"],function(a){var b,c=a.element,d=a.gfx;b=c.waypoints?j(c.waypoints):h.create("rect",{x:0,y:0,width:c.width,height:c.height}),b.attr(q).appendTo(d.node)}),a.on("shape.changed",function(a){var b=a.element,c=a.gfx,d=c.select(".djs-hit");d.attr({width:b.width,height:b.height})}),a.on("connection.changed",function(a){var b=a.element,c=a.gfx,d=c.select(".djs-hit");k(d,b.waypoints)}),this.fire=d,this.triggerMouseEvent=l,this.mouseHandler=i,this.registerEvent=m,this.unregisterEvent=n}var e=a("lodash/collection/forEach"),f=a("min-dom/lib/delegate"),g=a("../../util/Mouse").isPrimaryButton,h=a("../../../vendor/snapsvg"),i=a("../../util/RenderUtil"),j=i.createLine,k=i.updateLine;d.$inject=["eventBus","elementRegistry","styles"],b.exports=d},{"../../../vendor/snapsvg":187,"../../util/Mouse":177,"../../util/RenderUtil":179,"lodash/collection/forEach":195,"min-dom/lib/delegate":321}],154:[function(a,b,c){b.exports={__init__:["interactionEvents"],interactionEvents:["type",a("./InteractionEvents")]}},{"./InteractionEvents":153}],155:[function(a,b,c){"use strict";function d(a,b,c){function d(a,b){return a.rect(10,10,0,0).attr(e)}this.offset=6;var e=b.cls("djs-outline",["no-fill"]),f=this;a.on(["shape.added","shape.changed"],function(a){var b=a.element,c=a.gfx,e=c.select(".djs-outline");e||(e=d(c,b)),f.updateShapeOutline(e,b)}),a.on(["connection.added","connection.changed"],function(a){var b=a.element,c=a.gfx,e=c.select(".djs-outline");e||(e=d(c,b)),f.updateConnectionOutline(e,b)})}var e=a("../../util/Elements").getBBox;d.prototype.updateShapeOutline=function(a,b){a.attr({x:-this.offset,y:-this.offset,width:b.width+2*this.offset,height:b.height+2*this.offset})},d.prototype.updateConnectionOutline=function(a,b){var c=e(b);a.attr({x:c.x-this.offset,y:c.y-this.offset,width:c.width+2*this.offset,height:c.height+2*this.offset})},d.$inject=["eventBus","styles","elementRegistry"],b.exports=d},{"../../util/Elements":172}],156:[function(a,b,c){"use strict";b.exports={__init__:["outline"],outline:["type",a("./Outline")]}},{"./Outline":155}],157:[function(a,b,c){"use strict";function d(a){var b=o('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />');return a.insertBefore(b,a.firstChild),b}function e(a,b,c){k(a.style,{left:b+"px",top:c+"px"})}function f(a,b){a.style.display=b===!1?"none":""}function g(a,b,c){this._eventBus=a,this._canvas=b,this._elementRegistry=c,this._ids=u,this._overlayDefaults={show:{minZoom:.7,maxZoom:5}},this._overlays={},this._overlayContainers=[],this._overlayRoot=d(b.getContainer()),this._init()}var h=a("lodash/lang/isArray"),i=a("lodash/lang/isString"),j=a("lodash/lang/isObject"),k=a("lodash/object/assign"),l=a("lodash/collection/forEach"),m=a("lodash/collection/find"),n=a("lodash/collection/filter"),o=a("min-dom/lib/domify"),p=a("min-dom/lib/classes"),q=a("min-dom/lib/attr"),r=a("min-dom/lib/remove"),s=a("min-dom/lib/clear"),t=a("../../util/Elements").getBBox,u=new(a("../../util/IdGenerator"))("ov");g.$inject=["eventBus","canvas","elementRegistry"],b.exports=g,g.prototype.get=function(a){if(i(a)&&(a={id:a}),i(a.element)&&(a.element=this._elementRegistry.get(a.element)),a.element){var b=this._getOverlayContainer(a.element,!0);return b?a.type?n(b.overlays,{type:a.type}):b.overlays.slice():[]}return a.type?n(this._overlays,{type:a.type}):a.id?this._overlays[a.id]:null},g.prototype.add=function(a,b,c){if(j(b)&&(c=b,b=null),a.id||(a=this._elementRegistry.get(a)),!c.position)throw new Error("must specifiy overlay position");if(!c.html)throw new Error("must specifiy overlay html");if(!a)throw new Error("invalid element specified");var d=this._ids.next();return c=k({},this._overlayDefaults,c,{id:d,type:b,element:a,html:c.html}),this._addOverlay(c),d},g.prototype.remove=function(a){var b=this.get(a)||[];h(b)||(b=[b]);var c=this;l(b,function(a){var b=c._getOverlayContainer(a.element,!0);if(a&&(r(a.html),r(a.htmlContainer),delete a.htmlContainer,delete a.element,delete c._overlays[a.id]),b){var d=b.overlays.indexOf(a);d!==-1&&b.overlays.splice(d,1)}})},g.prototype.show=function(){f(this._overlayRoot)},g.prototype.hide=function(){f(this._overlayRoot,!1)},g.prototype.clear=function(){this._overlays={},this._overlayContainers=[],s(this._overlayRoot)},g.prototype._updateOverlayContainer=function(a){var b=a.element,c=a.html,d=b.x,f=b.y;if(b.waypoints){var g=t(b);d=g.x,f=g.y}e(c,d,f),q(a.html,"data-container-id",b.id)},g.prototype._updateOverlay=function(a){var b=a.position,c=a.htmlContainer,d=a.element,f=b.left,g=b.top;if(void 0!==b.right){var h;h=d.waypoints?t(d).width:d.width,f=b.right*-1+h}if(void 0!==b.bottom){var i;i=d.waypoints?t(d).height:d.height,g=b.bottom*-1+i}e(c,f||0,g||0)},g.prototype._createOverlayContainer=function(a){var b=o('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(b);var c={html:b,element:a,overlays:[]};return this._updateOverlayContainer(c),this._overlayContainers.push(c),c},g.prototype._updateRoot=function(a){var b=a.scale||1,c=a.scale||1,d="matrix("+b+",0,0,"+c+","+-1*a.x*b+","+-1*a.y*c+")";this._overlayRoot.style.transform=d,this._overlayRoot.style["-ms-transform"]=d,this._overlayRoot.style["-webkit-transform"]=d},g.prototype._getOverlayContainer=function(a,b){var c=m(this._overlayContainers,function(b){return b.element===a});return c||b?c:this._createOverlayContainer(a)},g.prototype._addOverlay=function(a){var b,c,d=a.id,e=a.element,f=a.html;f.get&&(f=f.get(0)),i(f)&&(f=o(f)),c=this._getOverlayContainer(e),b=o('<div class="djs-overlay" data-overlay-id="'+d+'" style="position: absolute">'),b.appendChild(f),a.type&&p(b).add("djs-overlay-"+a.type),a.htmlContainer=b,c.overlays.push(a),c.html.appendChild(b),this._overlays[d]=a,this._updateOverlay(a),this._updateOverlayVisibilty(a,this._canvas.viewbox())},g.prototype._updateOverlayVisibilty=function(a,b){var c=a.show,d=a.htmlContainer,e=!0;c&&((c.minZoom>b.scale||c.maxZoom<b.scale)&&(e=!1),f(d,e))},g.prototype._updateOverlaysVisibilty=function(a){var b=this;l(this._overlays,function(c){b._updateOverlayVisibilty(c,a)})},g.prototype._init=function(){function a(a){c._updateRoot(a),c._updateOverlaysVisibilty(a),c.show()}var b=this._eventBus,c=this;b.on("canvas.viewbox.changing",function(a){c.hide()}),b.on("canvas.viewbox.changed",function(b){a(b.viewbox)}),b.on(["shape.remove","connection.remove"],function(a){var b=a.element,d=c.get({element:b});l(d,function(a){c.remove(a.id)});var e=c._getOverlayContainer(b);if(e){r(e.html);var f=c._overlayContainers.indexOf(e);f!==-1&&c._overlayContainers.splice(f,1)}}),b.on(["element.changed"],function(a){var b=a.element,d=c._getOverlayContainer(b,!0);d&&(l(d.overlays,function(a){c._updateOverlay(a)}),c._updateOverlayContainer(d))}),b.on("element.marker.update",function(a){var b=c._getOverlayContainer(a.element,!0);b&&p(b.html)[a.add?"add":"remove"](a.marker)}),b.on("diagram.clear",this.clear,this)}},{"../../util/Elements":172,"../../util/IdGenerator":175,"lodash/collection/filter":193,"lodash/collection/find":194,"lodash/collection/forEach":195,"lodash/lang/isArray":298,"lodash/lang/isObject":302,"lodash/lang/isString":304,"lodash/object/assign":307,"min-dom/lib/attr":317,"min-dom/lib/classes":318,"min-dom/lib/clear":319,"min-dom/lib/domify":322,"min-dom/lib/remove":325}],158:[function(a,b,c){b.exports={__init__:["overlays"],overlays:["type",a("./Overlays")]}},{"./Overlays":157}],159:[function(a,b,c){"use strict";function d(a){this._eventBus=a,this._selectedElements=[];var b=this;a.on(["shape.remove","connection.remove"],function(a){var c=a.element;b.deselect(c)}),a.on(["diagram.clear"],function(a){b.select(null)})}var e=a("lodash/lang/isArray"),f=a("lodash/collection/forEach");d.$inject=["eventBus"],b.exports=d,d.prototype.deselect=function(a){var b=this._selectedElements,c=b.indexOf(a);if(c!==-1){var d=b.slice();b.splice(c,1),this._eventBus.fire("selection.changed",{oldSelection:d,newSelection:b})}},d.prototype.get=function(){return this._selectedElements},d.prototype.isSelected=function(a){return this._selectedElements.indexOf(a)!==-1},d.prototype.select=function(a,b){var c=this._selectedElements,d=c.slice();e(a)||(a=a?[a]:[]),b?f(a,function(a){c.indexOf(a)===-1&&c.push(a)}):this._selectedElements=c=a.slice(),this._eventBus.fire("selection.changed",{oldSelection:d,newSelection:c})}},{"lodash/collection/forEach":195,"lodash/lang/isArray":298}],160:[function(a,b,c){"use strict";function d(a,b,c,d){a.on("create.end",500,function(a){a.context.canExecute&&b.select(a.context.shape)}),a.on("connect.end",500,function(a){a.context.canExecute&&a.context.target&&b.select(a.context.target)}),a.on("shape.move.end",500,function(a){var c=a.previousSelection||[],e=d.get(a.context.shape.id),g=f(c,function(a){return e.id===a.id});g||b.select(e)}),a.on("element.click",function(a){var d=a.element;d===c.getRootElement()&&(d=null);var f=b.isSelected(d),g=b.get().length>1,h=e(a);return f&&g?h?b.deselect(d):b.select(d):void(f?b.deselect(d):b.select(d,h))})}var e=a("../../util/Mouse").hasPrimaryModifier,f=a("lodash/collection/find");d.$inject=["eventBus","selection","canvas","elementRegistry"],b.exports=d},{"../../util/Mouse":177,"lodash/collection/find":194}],161:[function(a,b,c){"use strict";function d(a,b,c,d,h){function i(a,c){b.addMarker(a,c)}function j(a,c){b.removeMarker(a,c)}this._multiSelectionBox=null,a.on("element.hover",function(a){i(a.element,f)}),a.on("element.out",function(a){j(a.element,f)}),a.on("selection.changed",function(a){function b(a){j(a,g)}function c(a){i(a,g)}var d=a.oldSelection,f=a.newSelection;e(d,function(a){f.indexOf(a)===-1&&b(a)}),e(f,function(a){d.indexOf(a)===-1&&c(a)})})}var e=a("lodash/collection/forEach"),f="hover",g="selected";d.$inject=["eventBus","canvas","selection","graphicsFactory","styles"],b.exports=d},{"lodash/collection/forEach":195}],162:[function(a,b,c){b.exports={__init__:["selectionVisuals","selectionBehavior"],__depends__:[a("../interaction-events"),a("../outline")],selection:["type",a("./Selection")],selectionVisuals:["type",a("./SelectionVisuals")],selectionBehavior:["type",a("./SelectionBehavior")]}},{"../interaction-events":154,"../outline":156,"./Selection":159,"./SelectionBehavior":160,"./SelectionVisuals":161}],163:[function(a,b,c){"use strict";function d(){Object.defineProperty(this,"businessObject",{writable:!0}),l.bind(this,"parent"),m.bind(this,"label"),o.bind(this,"outgoing"),p.bind(this,"incoming")}function e(){d.call(this),l.bind(this,"children"),n.bind(this,"host"),n.bind(this,"attachers")}function f(){e.call(this)}function g(){e.call(this),m.bind(this,"labelTarget")}function h(){d.call(this),o.bind(this,"source"),p.bind(this,"target")}var i=a("lodash/object/assign"),j=a("inherits"),k=a("object-refs"),l=new k({name:"children",enumerable:!0,collection:!0},{name:"parent"}),m=new k({name:"label",enumerable:!0},{name:"labelTarget"}),n=new k({name:"attachers",collection:!0},{name:"host"}),o=new k({name:"outgoing",collection:!0},{name:"source"}),p=new k({name:"incoming",collection:!0},{name:"target"});j(e,d),j(f,e),j(g,e),j(h,d);var q={connection:h,shape:e,label:g,root:f};b.exports.create=function(a,b){var c=q[a];if(!c)throw new Error("unknown type: <"+a+">");return i(new c,b)},b.exports.Base=d,b.exports.Root=f,b.exports.Shape=e,b.exports.Connection=h,b.exports.Label=g},{inherits:188,"lodash/object/assign":307,"object-refs":334}],164:[function(a,b,c){"use strict";function d(a){return Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2))}function e(a,b){function c(a){var c=n.start,e=k.toPoint(a),i=h(e,c);if(!n.dragging&&d(i)>l&&(n.dragging=!0,g.install(),f.set("grab")),n.dragging){var j=n.last||n.start;i=h(e,j),b.scroll({dx:i.x,dy:i.y}),n.last=e}a.preventDefault()}function e(a){i.unbind(document,"mousemove",c),i.unbind(document,"mouseup",e),n=null,f.unset(),k.stopEvent(a)}function m(a){j(a.target,".djs-draggable")||a.button||a.ctrlKey||a.shiftKey||a.altKey||(n={start:k.toPoint(a)},i.bind(document,"mousemove",c),i.bind(document,"mouseup",e),k.stopEvent(a))}var n,o=b._container;i.bind(o,"mousedown",m)}var f=a("../../util/Cursor"),g=a("../../util/ClickTrap"),h=a("../../util/Math").substract,i=a("min-dom/lib/event"),j=a("min-dom/lib/closest"),k=a("../../util/Event"),l=15;e.$inject=["eventBus","canvas"],b.exports=e},{"../../util/ClickTrap":169,"../../util/Cursor":171,"../../util/Event":173,"../../util/Math":176,"min-dom/lib/closest":320,"min-dom/lib/event":323}],165:[function(a,b,c){b.exports={__init__:["moveCanvas"],moveCanvas:["type",a("./MoveCanvas")]}},{"./MoveCanvas":164}],166:[function(a,b,c){"use strict";function d(a,b,c){this._enabled=!1,this._canvas=b,this._container=b._container,this._handleWheel=m(this._handleWheel,this);var d=!c||c.enabled!==!1,e=this;a.on("canvas.init",function(a){e._init(d)})}var e=a("min-dom/lib/event"),f=a("min-dom/lib/closest"),g=a("../../util/Mouse").hasPrimaryModifier,h=a("../../util/Mouse").hasSecondaryModifier,i=a("../../util/Platform").isMac,j=a("./ZoomUtil").getStepRange,k=a("./ZoomUtil").cap,l=a("../../util/Math").log10,m=a("lodash/function/bind"),n={min:.2,max:4},o=10;d.$inject=["eventBus","canvas","config.zoomScroll"],b.exports=d,d.prototype.scroll=function(a){this._canvas.scroll(a)},d.prototype.reset=function(){this._canvas.zoom("fit-viewport")},d.prototype.zoom=function(a,b){var c=this._canvas,d=c.zoom(!1),e=Math.pow(1+Math.abs(a),a>0?1:-1);c.zoom(k(n,d*e),b)},d.prototype._handleWheel=function(a){if(!f(a.target,".djs-scrollable",!0)){var b=this._container;a.preventDefault();var c,d=g(a),e=h(a);if(d||e){c=i?0===a.deltaMode?1.25:50:0===a.deltaMode?.025:.5;var j={};e?j.dx=c*(a.deltaX||a.deltaY):j.dy=c*a.deltaY,this.scroll(j)}else{c=0===a.deltaMode?.025:.5;var k=b.getBoundingClientRect(),l={x:a.clientX-k.left,y:a.clientY-k.top};this.zoom(a.deltaY*c/-5,l)}}},d.prototype.stepZoom=function(a,b){var c=this._canvas,d=j(n,o);a=a>0?1:-1;var e=l(c.zoom()),f=Math.round(e/d)*d;f+=d*a;var g=Math.pow(10,f);c.zoom(k(n,g),b)},d.prototype.toggle=function(a){var b=this._container,c=this._handleWheel,d=this._enabled;return"undefined"==typeof a&&(a=!d),d!==a&&e[a?"bind":"unbind"](b,"wheel",c,!1),this._enabled=a,a},d.prototype._init=function(a){this.toggle(a)}},{"../../util/Math":176,"../../util/Mouse":177,"../../util/Platform":178,"./ZoomUtil":167,"lodash/function/bind":201,"min-dom/lib/closest":320,"min-dom/lib/event":323}],167:[function(a,b,c){"use strict";var d=a("../../util/Math").log10;b.exports.getStepRange=function(a,b){var c=d(a.min),e=d(a.max),f=Math.abs(c)+Math.abs(e);return f/b},b.exports.cap=function(a,b){return Math.max(a.min,Math.min(a.max,b))}},{"../../util/Math":176}],168:[function(a,b,c){b.exports={__init__:["zoomScroll"],zoomScroll:["type",a("./ZoomScroll")]}},{"./ZoomScroll":166}],169:[function(a,b,c){"use strict";function d(a){h(a),e(!1)}function e(a){g[a?"bind":"unbind"](document.body,"click",d,!0)}function f(){return e(!0),function(){e(!1)}}var g=a("min-dom/lib/event"),h=a("./Event").stopEvent;b.exports.install=f},{"./Event":173,"min-dom/lib/event":323}],170:[function(a,b,c){"use strict";b.exports.remove=function(a,b){if(!a||!b)return-1;var c=a.indexOf(b);return c!==-1&&a.splice(c,1),c},b.exports.add=function(a,b,c){if(a&&b){"number"!=typeof c&&(c=-1);var d=a.indexOf(b);if(d!==-1){if(d===c)return;if(c===-1)return;a.splice(d,1)}c!==-1?a.splice(c,0,b):a.push(b)}},b.exports.indexOf=function(a,b){return a&&b?a.indexOf(b):-1}},{}],171:[function(a,b,c){"use strict";var d=a("min-dom/lib/classes"),e=/^djs-cursor-.*$/;b.exports.set=function(a){var b=d(document.body);b.removeMatching(e),a&&b.add("djs-cursor-"+a)},b.exports.unset=function(){this.set(null)},b.exports.has=function(a){var b=d(document.body);return b.has("djs-cursor-"+a)}},{"min-dom/lib/classes":318}],172:[function(a,b,c){"use strict";function d(a,b,c){var d=!c||a.indexOf(b)===-1;return d&&a.push(b),d}function e(a,b,c){c=c||0,m(a)||(a=[a]),p(a,function(a,d){var f=b(a,d,c);m(f)&&f.length&&e(f,b,c+1)})}function f(a,b,c){var f=[],g=[];return e(a,function(a,e,h){d(f,a,b);var i=a.children;if((c===-1||h<c)&&i&&d(g,i,b))return i}),f}function g(a,b){return f(a,!b,1)}function h(a,b){return f(a,!b,-1)}function i(a){function b(a){d[a.source.id]&&d[a.target.id]&&(d[a.id]=a),f[a.source.id]&&f[a.target.id]&&(i[a.id]=h[a.id]=a),g[a.id]=a}function c(a){return h[a.id]=a,a.waypoints?void(i[a.id]=g[a.id]=a):(f[a.id]=a,p(a.incoming,b),p(a.outgoing,b),a.children)}var d=o(a,function(a){return a.id}),f={},g={},h={},i={};return e(a,c),{allShapes:f,allConnections:g,topLevel:d,enclosedConnections:i,enclosedElements:h}}function j(a,b){b=!!b,m(a)||(a=[a]);var c,d,e,f;return p(a,function(a){var g=a;a.waypoints&&!b&&(g=j(a.waypoints,!0));var h=g.x,i=g.y,k=g.height||0,l=g.width||0;(h<c||void 0===c)&&(c=h),(i<d||void 0===d)&&(d=i),(h+l>e||void 0===e)&&(e=h+l),(i+k>f||void 0===f)&&(f=i+k)}),{x:c,y:d,height:f-d,width:e-c}}function k(a,b){var c={};return p(a,function(a){var d=a;d.waypoints&&(d=j(d)),!n(b.y)&&d.x>b.x&&(c[a.id]=a),!n(b.x)&&d.y>b.y&&(c[a.id]=a),d.x>b.x&&d.y>b.y&&(n(b.width)&&n(b.height)&&d.width+d.x<b.width+b.x&&d.height+d.y<b.height+b.y?c[a.id]=a:n(b.width)&&n(b.height)||(c[a.id]=a));
}),c}function l(a){return"waypoints"in a?"connection":"x"in a?"shape":"root"}var m=a("lodash/lang/isArray"),n=a("lodash/lang/isNumber"),o=a("lodash/collection/groupBy"),p=a("lodash/collection/forEach");b.exports.add=d,b.exports.eachElement=e,b.exports.selfAndDirectChildren=g,b.exports.selfAndAllChildren=h,b.exports.getBBox=j,b.exports.getEnclosedElements=k,b.exports.getClosure=i,b.exports.getType=l},{"lodash/collection/forEach":195,"lodash/collection/groupBy":196,"lodash/lang/isArray":298,"lodash/lang/isNumber":301}],173:[function(a,b,c){"use strict";function d(a){return a&&a.preventDefault()}function e(a,b){a&&(a.stopPropagation&&a.stopPropagation(),b&&a.stopImmediatePropagation&&a.stopImmediatePropagation())}function f(a){return a.originalEvent||a.srcEvent}function g(a,b){i(a,b),h(a)}function h(a){d(a),d(f(a))}function i(a,b){e(a,b),e(f(a),b)}function j(a){return a.pointers&&a.pointers.length&&(a=a.pointers[0]),a.touches&&a.touches.length&&(a=a.touches[0]),a?{x:a.clientX,y:a.clientY}:null}b.exports.getOriginal=f,b.exports.stopEvent=g,b.exports.preventDefault=h,b.exports.stopPropagation=i,b.exports.toPoint=j},{}],174:[function(a,b,c){"use strict";function d(a){return a.select(".djs-visual")}function e(a){return a.parent().children()[1]}function f(a){return d(a).select("*").getBBox()}b.exports.getVisual=d,b.exports.getChildren=e,b.exports.getBBox=f},{}],175:[function(a,b,c){"use strict";function d(a){this._counter=0,this._prefix=(a?a+"-":"")+Math.floor(1e9*Math.random())+"-"}b.exports=d,d.prototype.next=function(){return this._prefix+ ++this._counter}},{}],176:[function(a,b,c){"use strict";function d(a){return Math.log(a)/Math.log(10)}function e(a,b){return{x:a.x-b.x,y:a.y-b.y}}b.exports.log10=d,b.exports.substract=e},{}],177:[function(a,b,c){"use strict";function d(a){return!(e(a)||a).button}var e=a("./Event").getOriginal,f=a("./Platform").isMac;b.exports.isPrimaryButton=d,b.exports.isMac=f,b.exports.hasPrimaryModifier=function(a){var b=e(a)||a;return!!d(a)&&(f()?b.metaKey:b.ctrlKey)},b.exports.hasSecondaryModifier=function(a){var b=e(a)||a;return d(a)&&b.shiftKey}},{"./Event":173,"./Platform":178}],178:[function(a,b,c){"use strict";b.exports.isMac=function(){return/mac/i.test(navigator.platform)}},{}],179:[function(a,b,c){"use strict";function d(a){for(var b,c="",d=0;b=a[d];d++)c+=b.x+","+b.y+" ";return c}var e=a("../../vendor/snapsvg");b.exports.componentsToPath=function(a){return a.join(",").replace(/,?([A-z]),?/g,"$1")},b.exports.toSVGPoints=d,b.exports.createLine=function(a,b){return e.create("polyline",{points:d(a)}).attr(b||{})},b.exports.updateLine=function(a,b){return a.attr({points:d(b)})}},{"../../vendor/snapsvg":187}],180:[function(a,b,c){"use strict";function d(a){var b=a.split("-");return{horizontal:b[0]||"center",vertical:b[1]||"top"}}function e(a){return l(a)?m({top:0,left:0,right:0,bottom:0},a):{top:a,left:a,right:a,bottom:a}}function f(a,b){return b.textContent=a,n(b.getBBox(),["width","height"])}function g(a,b,c){for(var d,e=a.shift(),g=e;;){if(d=f(g,c),d.width=g?d.width:0," "===g||""===g||d.width<Math.round(b)||g.length<4)return h(a,g,e,d);g=j(g,d.width,b)}}function h(a,b,c,d){if(b.length<c.length){var e=a[0]||"",f=c.slice(b.length).trim();e=/-\s*$/.test(f)?f+e.replace(/^\s+/,""):f+" "+e,a[0]=e}return{width:d.width,height:d.height,text:b}}function i(a,b){var c,d=a.split(/(\s|-)/g),e=[],f=0;if(d.length>1)for(;c=d.shift();){if(!(c.length+f<b)){"-"===c&&e.pop();break}e.push(c),f+=c.length}return e.join("")}function j(a,b,c){var d=Math.max(a.length*(c/b),1),e=i(a,d);return e||(e=a.slice(0,Math.max(Math.round(d-1),1))),e}function k(a){this._config=m({},{size:t,padding:s,style:{},align:"center-top"},a||{})}var l=a("lodash/lang/isObject"),m=a("lodash/object/assign"),n=a("lodash/object/pick"),o=a("lodash/collection/forEach"),p=a("lodash/collection/reduce"),q=a("lodash/object/merge"),r=a("../../vendor/snapsvg"),s=0,t={width:150,height:50};k.prototype.createText=function(a,b,c){for(var f=q({},this._config.size,c.box||{}),h=q({},this._config.style,c.style||{}),i=d(c.align||this._config.align),j=e(void 0!==c.padding?c.padding:this._config.padding),k=b.split(/\r?\n/g),l=[],m=f.width-j.left-j.right,n=a.paper.text(0,0,"").attr(h).node;k.length;)l.push(g(k,m,n));var s,t,u=p(l,function(a,b,c){return a+b.height},0);switch(i.vertical){case"middle":s=(f.height-u)/2-l[0].height/4;break;default:s=j.top}var v=a.text().attr(h);return o(l,function(a){switch(s+=a.height,i.horizontal){case"left":t=j.left;break;case"right":t=m-j.right-a.width;break;default:t=Math.max((m-a.width)/2+j.left,0)}var b=r.create("tspan",{x:t,y:s}).node;b.textContent=a.text,v.append(b)}),n.parentNode.removeChild(n),v},b.exports=k},{"../../vendor/snapsvg":187,"lodash/collection/forEach":195,"lodash/collection/reduce":198,"lodash/lang/isObject":302,"lodash/object/assign":307,"lodash/object/merge":310,"lodash/object/pick":313}],181:[function(a,b,c){var d=function(a){return"[object Array]"===Object.prototype.toString.call(a)},e=function(){var a=Array.prototype.slice.call(arguments);1===a.length&&d(a[0])&&(a=a[0]);var b=a.pop();return b.$inject=a,b},f=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,g=/\/\*([^\*]*)\*\//m,h=function(a){if("function"!=typeof a)throw new Error('Cannot annotate "'+a+'". Expected a function!');var b=a.toString().match(f);return b[1]&&b[1].split(",").map(function(a){return b=a.match(g),b?b[1].trim():a.trim()})||[]};c.annotate=e,c.parse=h,c.isArray=d},{}],182:[function(a,b,c){b.exports={annotate:a("./annotation").annotate,Module:a("./module"),Injector:a("./injector")}},{"./annotation":181,"./injector":183,"./module":184}],183:[function(a,b,c){var d=a("./module"),e=a("./annotation").parse,f=a("./annotation").annotate,g=a("./annotation").isArray,h=function(a,b){b=b||{get:function(a,b){if(c.push(a),b===!1)return null;throw l('No provider for "'+a+'"!')}};var c=[],i=this._providers=Object.create(b._providers||null),j=this._instances=Object.create(null),k=j.injector=this,l=function(a){var b=c.join(" -> ");return c.length=0,new Error(b?a+" (Resolving: "+b+")":a)},m=function(a,d){if(!i[a]&&a.indexOf(".")!==-1){for(var e=a.split("."),f=m(e.shift());e.length;)f=f[e.shift()];return f}if(Object.hasOwnProperty.call(j,a))return j[a];if(Object.hasOwnProperty.call(i,a)){if(c.indexOf(a)!==-1)throw c.push(a),l("Cannot resolve circular dependency!");return c.push(a),j[a]=i[a][0](i[a][1]),c.pop(),j[a]}return b.get(a,d)},n=function(a){var b=Object.create(a.prototype),c=o(a,b);return"object"==typeof c?c:b},o=function(a,b){if("function"!=typeof a){if(!g(a))throw new Error('Cannot invoke "'+a+'". Expected a function!');a=f(a.slice())}var c=a.$inject&&a.$inject||e(a),d=c.map(function(a){return m(a)});return a.apply(b,d)},p=function(a){return f(function(b){return a.get(b)})},q=function(a,b){if(b&&b.length){var c,d,e,f,g=Object.create(null),j=Object.create(null),l=[],m=[],n=[];for(var o in i)c=i[o],b.indexOf(o)!==-1&&("private"===c[2]?(d=l.indexOf(c[3]),d===-1?(e=c[3].createChild([],b),f=p(e),l.push(c[3]),m.push(e),n.push(f),g[o]=[f,o,"private",e]):g[o]=[n[d],o,"private",m[d]]):g[o]=[c[2],c[1]],j[o]=!0),"factory"!==c[2]&&"type"!==c[2]||!c[1].$scope||b.forEach(function(a){c[1].$scope.indexOf(a)!==-1&&(g[o]=[c[2],c[1]],j[a]=!0)});b.forEach(function(a){if(!j[a])throw new Error('No provider for "'+a+'". Cannot use provider from the parent!')}),a.unshift(g)}return new h(a,k)},r={factory:o,type:n,value:function(a){return a}};a.forEach(function(a){function b(a,b){return"value"!==a&&g(b)&&(b=f(b.slice())),b}if(a instanceof d)a.forEach(function(a){var c=a[0],d=a[1],e=a[2];i[c]=[r[d],b(d,e),d]});else if("object"==typeof a)if(a.__exports__){var c=Object.keys(a).reduce(function(b,c){return"__"!==c.substring(0,2)&&(b[c]=a[c]),b},Object.create(null)),e=new h((a.__modules__||[]).concat([c]),k),j=f(function(a){return e.get(a)});a.__exports__.forEach(function(a){i[a]=[j,a,"private",e]})}else Object.keys(a).forEach(function(c){if("private"===a[c][2])return void(i[c]=a[c]);var d=a[c][0],e=a[c][1];i[c]=[r[d],b(d,e),d]})}),this.get=m,this.invoke=o,this.instantiate=n,this.createChild=q};b.exports=h},{"./annotation":181,"./module":184}],184:[function(a,b,c){var d=function(){var a=[];this.factory=function(b,c){return a.push([b,"factory",c]),this},this.value=function(b,c){return a.push([b,"value",c]),this},this.type=function(b,c){return a.push([b,"type",c]),this},this.forEach=function(b){a.forEach(b)}};b.exports=d},{}],185:[function(a,b,c){!function(a){var c,d,e="0.4.2",f="hasOwnProperty",g=/[\.\/]/,h=/\s*,\s*/,i="*",j=function(a,b){return a-b},k={n:{}},l=function(){for(var a=0,b=this.length;a<b;a++)if("undefined"!=typeof this[a])return this[a]},m=function(){for(var a=this.length;--a;)if("undefined"!=typeof this[a])return this[a]},n=function(a,b){a=String(a);var e,f=d,g=Array.prototype.slice.call(arguments,2),h=n.listeners(a),i=0,k=[],o={},p=[],q=c;p.firstDefined=l,p.lastDefined=m,c=a,d=0;for(var r=0,s=h.length;r<s;r++)"zIndex"in h[r]&&(k.push(h[r].zIndex),h[r].zIndex<0&&(o[h[r].zIndex]=h[r]));for(k.sort(j);k[i]<0;)if(e=o[k[i++]],p.push(e.apply(b,g)),d)return d=f,p;for(r=0;r<s;r++)if(e=h[r],"zIndex"in e)if(e.zIndex==k[i]){if(p.push(e.apply(b,g)),d)break;do if(i++,e=o[k[i]],e&&p.push(e.apply(b,g)),d)break;while(e)}else o[e.zIndex]=e;else if(p.push(e.apply(b,g)),d)break;return d=f,c=q,p};n._events=k,n.listeners=function(a){var b,c,d,e,f,h,j,l,m=a.split(g),n=k,o=[n],p=[];for(e=0,f=m.length;e<f;e++){for(l=[],h=0,j=o.length;h<j;h++)for(n=o[h].n,c=[n[m[e]],n[i]],d=2;d--;)b=c[d],b&&(l.push(b),p=p.concat(b.f||[]));o=l}return p},n.on=function(a,b){if(a=String(a),"function"!=typeof b)return function(){};for(var c=a.split(h),d=0,e=c.length;d<e;d++)!function(a){for(var c,d=a.split(g),e=k,f=0,h=d.length;f<h;f++)e=e.n,e=e.hasOwnProperty(d[f])&&e[d[f]]||(e[d[f]]={n:{}});for(e.f=e.f||[],f=0,h=e.f.length;f<h;f++)if(e.f[f]==b){c=!0;break}!c&&e.f.push(b)}(c[d]);return function(a){+a==+a&&(b.zIndex=+a)}},n.f=function(a){var b=[].slice.call(arguments,1);return function(){n.apply(null,[a,null].concat(b).concat([].slice.call(arguments,0)))}},n.stop=function(){d=1},n.nt=function(a){return a?new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)").test(c):c},n.nts=function(){return c.split(g)},n.off=n.unbind=function(a,b){if(!a)return void(n._events=k={n:{}});var c=a.split(h);if(c.length>1)for(var d=0,e=c.length;d<e;d++)n.off(c[d],b);else{c=a.split(g);var j,l,m,d,e,o,p,q=[k];for(d=0,e=c.length;d<e;d++)for(o=0;o<q.length;o+=m.length-2){if(m=[o,1],j=q[o].n,c[d]!=i)j[c[d]]&&m.push(j[c[d]]);else for(l in j)j[f](l)&&m.push(j[l]);q.splice.apply(q,m)}for(d=0,e=q.length;d<e;d++)for(j=q[d];j.n;){if(b){if(j.f){for(o=0,p=j.f.length;o<p;o++)if(j.f[o]==b){j.f.splice(o,1);break}!j.f.length&&delete j.f}for(l in j.n)if(j.n[f](l)&&j.n[l].f){var r=j.n[l].f;for(o=0,p=r.length;o<p;o++)if(r[o]==b){r.splice(o,1);break}!r.length&&delete j.n[l].f}}else{delete j.f;for(l in j.n)j.n[f](l)&&j.n[l].f&&delete j.n[l].f}j=j.n}}},n.once=function(a,b){var c=function(){return n.unbind(a,c),b.apply(this,arguments)};return n.on(a,c)},n.version=e,n.toString=function(){return"You are running Eve "+e},"undefined"!=typeof b&&b.exports?b.exports=n:"function"==typeof define&&define.amd?define("eve",[],function(){return n}):a.eve=n}(this)},{}],186:[function(a,b,c){!function(d,e){if("function"==typeof define&&define.amd)define(["eve"],function(a){return e(d,a)});else if("undefined"!=typeof c){var f=a("eve");b.exports=e(d,f)}else e(d,d.eve)}(window||this,function(a,b){var c=function(b){var c={},d=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){setTimeout(a,16)},e=Array.isArray||function(a){return a instanceof Array||"[object Array]"==Object.prototype.toString.call(a)},f=0,g="M"+(+new Date).toString(36),h=function(){return g+(f++).toString(36)},i=Date.now||function(){return+new Date},j=function(a){var b=this;if(null==a)return b.s;var c=b.s-a;b.b+=b.dur*c,b.B+=b.dur*c,b.s=a},k=function(a){var b=this;return null==a?b.spd:void(b.spd=a)},l=function(a){var b=this;return null==a?b.dur:(b.s=b.s*a/b.dur,void(b.dur=a))},m=function(){var a=this;delete c[a.id],a.update(),b("mina.stop."+a.id,a)},n=function(){var a=this;a.pdif||(delete c[a.id],a.update(),a.pdif=a.get()-a.b)},o=function(){var a=this;a.pdif&&(a.b=a.get()-a.pdif,delete a.pdif,c[a.id]=a)},p=function(){var a,b=this;if(e(b.start)){a=[];for(var c=0,d=b.start.length;c<d;c++)a[c]=+b.start[c]+(b.end[c]-b.start[c])*b.easing(b.s)}else a=+b.start+(b.end-b.start)*b.easing(b.s);b.set(a)},q=function(){var a=0;for(var e in c)if(c.hasOwnProperty(e)){var f=c[e],g=f.get();a++,f.s=(g-f.b)/(f.dur/f.spd),f.s>=1&&(delete c[e],f.s=1,a--,function(a){setTimeout(function(){b("mina.finish."+a.id,a)})}(f)),f.update()}a&&d(q)},r=function(a,b,e,f,g,i,s){var t={id:h(),start:a,end:b,b:e,s:0,dur:f-e,spd:1,get:g,set:i,easing:s||r.linear,status:j,speed:k,duration:l,stop:m,pause:n,resume:o,update:p};c[t.id]=t;var u,v=0;for(u in c)if(c.hasOwnProperty(u)&&(v++,2==v))break;return 1==v&&d(q),t};return r.time=i,r.getById=function(a){return c[a]||null},r.linear=function(a){return a},r.easeout=function(a){return Math.pow(a,1.7)},r.easein=function(a){return Math.pow(a,.48)},r.easeinout=function(a){if(1==a)return 1;if(0==a)return 0;var b=.48-a/1.04,c=Math.sqrt(.1734+b*b),d=c-b,e=Math.pow(Math.abs(d),1/3)*(d<0?-1:1),f=-c-b,g=Math.pow(Math.abs(f),1/3)*(f<0?-1:1),h=e+g+.5;return 3*(1-h)*h*h+h*h*h},r.backin=function(a){if(1==a)return 1;var b=1.70158;return a*a*((b+1)*a-b)},r.backout=function(a){if(0==a)return 0;a-=1;var b=1.70158;return a*a*((b+1)*a+b)+1},r.elastic=function(a){return a==!!a?a:Math.pow(2,-10*a)*Math.sin((a-.075)*(2*Math.PI)/.3)+1},r.bounce=function(a){var b,c=7.5625,d=2.75;return a<1/d?b=c*a*a:a<2/d?(a-=1.5/d,b=c*a*a+.75):a<2.5/d?(a-=2.25/d,b=c*a*a+.9375):(a-=2.625/d,b=c*a*a+.984375),b},a.mina=r,r}("undefined"==typeof b?function(){}:b),d=function(a){function c(a,b){if(a){if(a.tagName)return w(a);if(e(a,"array")&&c.set)return c.set.apply(c,a);if(a instanceof s)return a;if(null==b)return a=x.doc.querySelector(a),w(a)}return a=null==a?"100%":a,b=null==b?"100%":b,new v(a,b)}function d(a,b){if(b){if("#text"==a&&(a=x.doc.createTextNode(b.text||"")),"string"==typeof a&&(a=d(a)),"string"==typeof b)return"xlink:"==b.substring(0,6)?a.getAttributeNS(S,b.substring(6)):"xml:"==b.substring(0,4)?a.getAttributeNS(T,b.substring(4)):a.getAttribute(b);for(var c in b)if(b[y](c)){var e=z(b[c]);e?"xlink:"==c.substring(0,6)?a.setAttributeNS(S,c.substring(6),e):"xml:"==c.substring(0,4)?a.setAttributeNS(T,c.substring(4),e):a.setAttribute(c,e):a.removeAttribute(c)}}else a=x.doc.createElementNS(T,a);return a}function e(a,b){return b=z.prototype.toLowerCase.call(b),"finite"==b?isFinite(a):!("array"!=b||!(a instanceof Array||Array.isArray&&Array.isArray(a)))||("null"==b&&null===a||b==typeof a&&null!==a||"object"==b&&a===Object(a)||I.call(a).slice(8,-1).toLowerCase()==b)}function f(a){if("function"==typeof a||Object(a)!==a)return a;var b=new a.constructor;for(var c in a)a[y](c)&&(b[c]=f(a[c]));return b}function h(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return a.push(a.splice(c,1)[0])}function i(a,b,c){function d(){var e=Array.prototype.slice.call(arguments,0),f=e.join("␀"),g=d.cache=d.cache||{},i=d.count=d.count||[];return g[y](f)?(h(i,f),c?c(g[f]):g[f]):(i.length>=1e3&&delete g[i.shift()],i.push(f),g[f]=a.apply(b,e),c?c(g[f]):g[f])}return d}function j(a,b,c,d,e,f){if(null==e){var g=a-c,h=b-d;return g||h?(180+180*C.atan2(-h,-g)/G+360)%360:0}return j(a,b,e,f)-j(c,d,e,f)}function k(a){return a%360*G/180}function l(a){return 180*a/G%360}function m(a){var b=[];return a=a.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(a,c,d){return d=d.split(/\s*,\s*|\s+/),"rotate"==c&&1==d.length&&d.push(0,0),"scale"==c&&(d.length>2?d=d.slice(0,2):2==d.length&&d.push(0,0),1==d.length&&d.push(d[0],0,0)),"skewX"==c?b.push(["m",1,0,C.tan(k(d[0])),1,0,0]):"skewY"==c?b.push(["m",1,C.tan(k(d[0])),0,1,0,0]):b.push([c.charAt(0)].concat(d)),a}),b}function n(a,b){var d=_(a),e=new c.Matrix;if(d)for(var f=0,g=d.length;f<g;f++){var h,i,j,k,l,m=d[f],n=m.length,o=z(m[0]).toLowerCase(),p=m[0]!=o,q=p?e.invert():0;"t"==o&&2==n?e.translate(m[1],0):"t"==o&&3==n?p?(h=q.x(0,0),i=q.y(0,0),j=q.x(m[1],m[2]),k=q.y(m[1],m[2]),e.translate(j-h,k-i)):e.translate(m[1],m[2]):"r"==o?2==n?(l=l||b,e.rotate(m[1],l.x+l.width/2,l.y+l.height/2)):4==n&&(p?(j=q.x(m[2],m[3]),k=q.y(m[2],m[3]),e.rotate(m[1],j,k)):e.rotate(m[1],m[2],m[3])):"s"==o?2==n||3==n?(l=l||b,e.scale(m[1],m[n-1],l.x+l.width/2,l.y+l.height/2)):4==n?p?(j=q.x(m[2],m[3]),k=q.y(m[2],m[3]),e.scale(m[1],m[1],j,k)):e.scale(m[1],m[1],m[2],m[3]):5==n&&(p?(j=q.x(m[3],m[4]),k=q.y(m[3],m[4]),e.scale(m[1],m[2],j,k)):e.scale(m[1],m[2],m[3],m[4])):"m"==o&&7==n&&e.add(m[1],m[2],m[3],m[4],m[5],m[6])}return e}function o(a){var b=a.node.ownerSVGElement&&w(a.node.ownerSVGElement)||a.node.parentNode&&w(a.node.parentNode)||c.select("svg")||c(0,0),d=b.select("defs"),e=null!=d&&d.node;return e||(e=u("defs",b.node).node),e}function p(a){return a.node.ownerSVGElement&&w(a.node.ownerSVGElement)||c.select("svg")}function q(a,b,c){function e(a){if(null==a)return H;if(a==+a)return a;d(j,{width:a});try{return j.getBBox().width}catch(b){return 0}}function f(a){if(null==a)return H;if(a==+a)return a;d(j,{height:a});try{return j.getBBox().height}catch(b){return 0}}function g(d,e){null==b?i[d]=e(a.attr(d)||0):d==b&&(i=e(null==c?a.attr(d)||0:c))}var h=p(a).node,i={},j=h.querySelector(".svg---mgr");switch(j||(j=d("rect"),d(j,{x:-9e9,y:-9e9,width:10,height:10,"class":"svg---mgr",fill:"none"}),h.appendChild(j)),a.type){case"rect":g("rx",e),g("ry",f);case"image":g("width",e),g("height",f);case"text":g("x",e),g("y",f);break;case"circle":g("cx",e),g("cy",f),g("r",e);break;case"ellipse":g("cx",e),g("cy",f),g("rx",e),g("ry",f);break;case"line":g("x1",e),g("x2",e),g("y1",f),g("y2",f);break;case"marker":g("refX",e),g("markerWidth",e),g("refY",f),g("markerHeight",f);break;case"radialGradient":g("fx",e),g("fy",f);break;case"tspan":g("dx",e),g("dy",f);break;default:g(b,e)}return h.removeChild(j),i}function r(a){e(a,"array")||(a=Array.prototype.slice.call(arguments,0));for(var b=0,c=0,d=this.node;this[b];)delete this[b++];for(b=0;b<a.length;b++)"set"==a[b].type?a[b].forEach(function(a){d.appendChild(a.node)}):d.appendChild(a[b].node);var f=d.childNodes;for(b=0;b<f.length;b++)this[c++]=w(f[b]);return this}function s(a){if(a.snap in U)return U[a.snap];var b;try{b=a.ownerSVGElement}catch(c){}this.node=a,b&&(this.paper=new v(b)),this.type=a.tagName;var d=this.id=R(this);if(this.anims={},this._={transform:[]},a.snap=d,U[d]=this,"g"==this.type&&(this.add=r),this.type in{g:1,mask:1,pattern:1,symbol:1})for(var e in v.prototype)v.prototype[y](e)&&(this[e]=v.prototype[e])}function t(a){this.node=a}function u(a,b){var c=d(a);b.appendChild(c);var e=w(c);return e}function v(a,b){var c,e,f,g=v.prototype;if(a&&"svg"==a.tagName){if(a.snap in U)return U[a.snap];var h=a.ownerDocument;c=new s(a),e=a.getElementsByTagName("desc")[0],f=a.getElementsByTagName("defs")[0],e||(e=d("desc"),e.appendChild(h.createTextNode("Created with Snap")),c.node.appendChild(e)),f||(f=d("defs"),c.node.appendChild(f)),c.defs=f;for(var i in g)g[y](i)&&(c[i]=g[i]);c.paper=c.root=c}else c=u("svg",x.doc.body),d(c.node,{height:b,version:1.1,width:a,xmlns:T});return c}function w(a){return a?a instanceof s||a instanceof t?a:a.tagName&&"svg"==a.tagName.toLowerCase()?new v(a):a.tagName&&"object"==a.tagName.toLowerCase()&&"image/svg+xml"==a.type?new v(a.contentDocument.getElementsByTagName("svg")[0]):new s(a):a}c.version="0.3.0",c.toString=function(){return"Snap v"+this.version},c._={};var x={win:a.window,doc:a.window.document};c._.glob=x;var y="hasOwnProperty",z=String,A=parseFloat,B=parseInt,C=Math,D=C.max,E=C.min,F=C.abs,G=(C.pow,C.PI),H=(C.round,""),I=Object.prototype.toString,J=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,K=(c._.separator=/[,\s]+/,/[\s]*,[\s]*/),L={hs:1,rg:1},M=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,N=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,O=/(-?\d*\.?\d*(?:e[\-+]?\\d+)?)[\s]*,?[\s]*/gi,P=0,Q="S"+(+new Date).toString(36),R=function(a){return(a&&a.type?a.type:H)+Q+(P++).toString(36)},S="http://www.w3.org/1999/xlink",T="http://www.w3.org/2000/svg",U={};c.url=function(a){return"url('#"+a+"')"};c._.$=d,c._.id=R,c.format=function(){var a=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(a,c,d){var e=d;return c.replace(b,function(a,b,c,d,f){b=b||d,e&&(b in e&&(e=e[b]),"function"==typeof e&&f&&(e=e()))}),e=(null==e||e==d?a:e)+""};return function(b,d){return z(b).replace(a,function(a,b){return c(a,b,d)})}}(),c._.clone=f,c._.cacher=i,c.rad=k,c.deg=l,c.angle=j,c.is=e,c.snapTo=function(a,b,c){if(c=e(c,"finite")?c:10,e(a,"array")){for(var d=a.length;d--;)if(F(a[d]-b)<=c)return a[d]}else{a=+a;var f=b%a;if(f<c)return b-f;if(f>a-c)return b-f+a}return b},c.getRGB=i(function(a){if(!a||(a=z(a)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Y};if("none"==a)return{r:-1,g:-1,b:-1,hex:"none",toString:Y};if(!(L[y](a.toLowerCase().substring(0,2))||"#"==a.charAt())&&(a=V(a)),!a)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Y};var b,d,f,g,h,i,j=a.match(J);return j?(j[2]&&(f=B(j[2].substring(5),16),d=B(j[2].substring(3,5),16),b=B(j[2].substring(1,3),16)),j[3]&&(f=B((h=j[3].charAt(3))+h,16),d=B((h=j[3].charAt(2))+h,16),b=B((h=j[3].charAt(1))+h,16)),j[4]&&(i=j[4].split(K),b=A(i[0]),"%"==i[0].slice(-1)&&(b*=2.55),d=A(i[1]),"%"==i[1].slice(-1)&&(d*=2.55),f=A(i[2]),"%"==i[2].slice(-1)&&(f*=2.55),"rgba"==j[1].toLowerCase().slice(0,4)&&(g=A(i[3])),i[3]&&"%"==i[3].slice(-1)&&(g/=100)),j[5]?(i=j[5].split(K),b=A(i[0]),"%"==i[0].slice(-1)&&(b/=100),d=A(i[1]),"%"==i[1].slice(-1)&&(d/=100),f=A(i[2]),"%"==i[2].slice(-1)&&(f/=100),("deg"==i[0].slice(-3)||"°"==i[0].slice(-1))&&(b/=360),"hsba"==j[1].toLowerCase().slice(0,4)&&(g=A(i[3])),i[3]&&"%"==i[3].slice(-1)&&(g/=100),c.hsb2rgb(b,d,f,g)):j[6]?(i=j[6].split(K),b=A(i[0]),"%"==i[0].slice(-1)&&(b/=100),d=A(i[1]),"%"==i[1].slice(-1)&&(d/=100),f=A(i[2]),"%"==i[2].slice(-1)&&(f/=100),("deg"==i[0].slice(-3)||"°"==i[0].slice(-1))&&(b/=360),"hsla"==j[1].toLowerCase().slice(0,4)&&(g=A(i[3])),i[3]&&"%"==i[3].slice(-1)&&(g/=100),c.hsl2rgb(b,d,f,g)):(b=E(C.round(b),255),d=E(C.round(d),255),f=E(C.round(f),255),g=E(D(g,0),1),j={r:b,g:d,b:f,toString:Y},j.hex="#"+(16777216|f|d<<8|b<<16).toString(16).slice(1),j.opacity=e(g,"finite")?g:1,j)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Y}},c),c.hsb=i(function(a,b,d){return c.hsb2rgb(a,b,d).hex}),c.hsl=i(function(a,b,d){return c.hsl2rgb(a,b,d).hex}),c.rgb=i(function(a,b,c,d){if(e(d,"finite")){var f=C.round;return"rgba("+[f(a),f(b),f(c),+d.toFixed(2)]+")"}return"#"+(16777216|c|b<<8|a<<16).toString(16).slice(1)});var V=function(a){var b=x.doc.getElementsByTagName("head")[0]||x.doc.getElementsByTagName("svg")[0],c="rgb(255, 0, 0)";return(V=i(function(a){if("red"==a.toLowerCase())return c;b.style.color=c,b.style.color=a;var d=x.doc.defaultView.getComputedStyle(b,H).getPropertyValue("color");return d==c?null:d}))(a)},W=function(){return"hsb("+[this.h,this.s,this.b]+")"},X=function(){return"hsl("+[this.h,this.s,this.l]+")"},Y=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},Z=function(a,b,d){if(null==b&&e(a,"object")&&"r"in a&&"g"in a&&"b"in a&&(d=a.b,b=a.g,a=a.r),null==b&&e(a,string)){var f=c.getRGB(a);a=f.r,b=f.g,d=f.b}return(a>1||b>1||d>1)&&(a/=255,b/=255,d/=255),[a,b,d]},$=function(a,b,d,f){a=C.round(255*a),b=C.round(255*b),d=C.round(255*d);var g={r:a,g:b,b:d,opacity:e(f,"finite")?f:1,hex:c.rgb(a,b,d),toString:Y};return e(f,"finite")&&(g.opacity=f),g};c.color=function(a){var b;return e(a,"object")&&"h"in a&&"s"in a&&"b"in a?(b=c.hsb2rgb(a),a.r=b.r,a.g=b.g,a.b=b.b,a.opacity=1,a.hex=b.hex):e(a,"object")&&"h"in a&&"s"in a&&"l"in a?(b=c.hsl2rgb(a),a.r=b.r,a.g=b.g,a.b=b.b,a.opacity=1,a.hex=b.hex):(e(a,"string")&&(a=c.getRGB(a)),e(a,"object")&&"r"in a&&"g"in a&&"b"in a&&!("error"in a)?(b=c.rgb2hsl(a),a.h=b.h,a.s=b.s,a.l=b.l,b=c.rgb2hsb(a),a.v=b.b):(a={hex:"none"},a.r=a.g=a.b=a.h=a.s=a.v=a.l=-1,a.error=1)),a.toString=Y,a},c.hsb2rgb=function(a,b,c,d){e(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(c=a.b,b=a.s,a=a.h,d=a.o),a*=360;var f,g,h,i,j;return a=a%360/60,j=c*b,i=j*(1-F(a%2-1)),f=g=h=c-j,a=~~a,f+=[j,i,0,0,i,j][a],g+=[i,j,j,i,0,0][a],h+=[0,0,i,j,j,i][a],$(f,g,h,d)},c.hsl2rgb=function(a,b,c,d){e(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(c=a.l,b=a.s,a=a.h),(a>1||b>1||c>1)&&(a/=360,b/=100,c/=100),a*=360;var f,g,h,i,j;return a=a%360/60,j=2*b*(c<.5?c:1-c),i=j*(1-F(a%2-1)),f=g=h=c-j/2,a=~~a,f+=[j,i,0,0,i,j][a],g+=[i,j,j,i,0,0][a],h+=[0,0,i,j,j,i][a],$(f,g,h,d)},c.rgb2hsb=function(a,b,c){c=Z(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g;return f=D(a,b,c),g=f-E(a,b,c),d=0==g?null:f==a?(b-c)/g:f==b?(c-a)/g+2:(a-b)/g+4,d=(d+360)%6*60/360,e=0==g?0:g/f,{h:d,s:e,b:f,toString:W}},c.rgb2hsl=function(a,b,c){c=Z(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g,h,i;return g=D(a,b,c),h=E(a,b,c),i=g-h,d=0==i?null:g==a?(b-c)/i:g==b?(c-a)/i+2:(a-b)/i+4,d=(d+360)%6*60/360,f=(g+h)/2,e=0==i?0:f<.5?i/(2*f):i/(2-2*f),{h:d,s:e,l:f,toString:X}},c.parsePathString=function(a){if(!a)return null;var b=c.path(a);if(b.arr)return c.path.clone(b.arr);var d={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},f=[];return e(a,"array")&&e(a[0],"array")&&(f=c.path.clone(a)),f.length||z(a).replace(M,function(a,b,c){var e=[],g=b.toLowerCase();if(c.replace(O,function(a,b){b&&e.push(+b)}),"m"==g&&e.length>2&&(f.push([b].concat(e.splice(0,2))),g="l",b="m"==b?"l":"L"),"o"==g&&1==e.length&&f.push([b,e[0]]),"r"==g)f.push([b].concat(e));else for(;e.length>=d[g]&&(f.push([b].concat(e.splice(0,d[g]))),d[g]););}),f.toString=c.path.toString,b.arr=c.path.clone(f),f};var _=c.parseTransformString=function(a){if(!a)return null;var b=[];return e(a,"array")&&e(a[0],"array")&&(b=c.path.clone(a)),b.length||z(a).replace(N,function(a,c,d){var e=[];c.toLowerCase();d.replace(O,function(a,b){b&&e.push(+b)}),b.push([c].concat(e))}),b.toString=c.path.toString,b};c._.svgTransform2string=m,c._.rgTransform=/^[a-z][\s]*-?\.?\d/i,c._.transform2matrix=n,c._unit2px=q;x.doc.contains||x.doc.compareDocumentPosition?function(a,b){var c=9==a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a==d||!(!d||1!=d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b;)if(b=b.parentNode,b==a)return!0;return!1};c._.getSomeDefs=o,c._.getSomeSVG=p,c.select=function(a){return a=z(a).replace(/([^\\]):/g,"$1\\:"),w(x.doc.querySelector(a))},c.selectAll=function(a){for(var b=x.doc.querySelectorAll(a),d=(c.set||Array)(),e=0;e<b.length;e++)d.push(w(b[e]));return d},setInterval(function(){for(var a in U)if(U[y](a)){var b=U[a],c=b.node;("svg"!=b.type&&!c.ownerSVGElement||"svg"==b.type&&(!c.parentNode||"ownerSVGElement"in c.parentNode&&!c.ownerSVGElement))&&delete U[a]}},1e4),s.prototype.attr=function(a,c){var d=this;d.node;if(!a)return d;if(e(a,"string")){if(!(arguments.length>1))return b("snap.util.getattr."+a,d).firstDefined();var f={};f[a]=c,a=f}for(var g in a)a[y](g)&&b("snap.util.attr."+g,d,a[g]);return d},c.parse=function(a){var b=x.doc.createDocumentFragment(),c=!0,d=x.doc.createElement("div");if(a=z(a),a.match(/^\s*<\s*svg(?:\s|>)/)||(a="<svg>"+a+"</svg>",c=!1),d.innerHTML=a,a=d.getElementsByTagName("svg")[0])if(c)b=a;else{for(;a.firstChild;)b.appendChild(a.firstChild);d.innerHTML=H}return new t(b)},c.fragment=function(){for(var a=Array.prototype.slice.call(arguments,0),b=x.doc.createDocumentFragment(),d=0,e=a.length;d<e;d++){var f=a[d];f.node&&f.node.nodeType&&b.appendChild(f.node),f.nodeType&&b.appendChild(f),"string"==typeof f&&b.appendChild(c.parse(f).node)}return new t(b)},c._.make=u,c._.wrap=w,v.prototype.el=function(a,b){var c=u(a,this.node);return b&&c.attr(b),c},b.on("snap.util.getattr",function(){var a=b.nt();a=a.substring(a.lastIndexOf(".")+1);var c=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()});return aa[y](c)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(c):d(this.node,a)});var aa={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};b.on("snap.util.attr",function(a){var c=b.nt(),e={};c=c.substring(c.lastIndexOf(".")+1),e[c]=a;var f=c.replace(/-(\w)/gi,function(a,b){return b.toUpperCase()}),g=c.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()});aa[y](g)?this.node.style[f]=null==a?H:a:d(this.node,e)}),function(a){}(v.prototype),c.ajax=function(a,c,d,f){var g=new XMLHttpRequest,h=R();if(g){if(e(c,"function"))f=d,d=c,c=null;else if(e(c,"object")){var i=[];for(var j in c)c.hasOwnProperty(j)&&i.push(encodeURIComponent(j)+"="+encodeURIComponent(c[j]));c=i.join("&")}return g.open(c?"POST":"GET",a,!0),c&&(g.setRequestHeader("X-Requested-With","XMLHttpRequest"),g.setRequestHeader("Content-type","application/x-www-form-urlencoded")),d&&(b.once("snap.ajax."+h+".0",d),b.once("snap.ajax."+h+".200",d),b.once("snap.ajax."+h+".304",d)),g.onreadystatechange=function(){4==g.readyState&&b("snap.ajax."+h+"."+g.status,f,g)},4==g.readyState?g:(g.send(c),g)}},c.load=function(a,b,d){c.ajax(a,function(a){var e=c.parse(a.responseText);d?b.call(d,e):b(e)})};var ba=function(a){var b=a.getBoundingClientRect(),c=a.ownerDocument,d=c.body,e=c.documentElement,f=e.clientTop||d.clientTop||0,h=e.clientLeft||d.clientLeft||0,i=b.top+(g.win.pageYOffset||e.scrollTop||d.scrollTop)-f,j=b.left+(g.win.pageXOffset||e.scrollLeft||d.scrollLeft)-h;return{y:i,x:j}};return c.getElementByPoint=function(a,b){var c=this,d=(c.canvas,x.doc.elementFromPoint(a,b));if(x.win.opera&&"svg"==d.tagName){var e=ba(d),f=d.createSVGRect();f.x=a-e.x,f.y=b-e.y,f.width=f.height=1;var g=d.getIntersectionList(f,null);g.length&&(d=g[g.length-1])}return d?w(d):null},c.plugin=function(a){a(c,s,v,x,t)},x.win.Snap=c,c}(a||this);return d.plugin(function(d,e,f,g,h){function i(a,b){if(null==b){var c=!0;if(b="linearGradient"==a.type||"radialGradient"==a.type?a.node.getAttribute("gradientTransform"):"pattern"==a.type?a.node.getAttribute("patternTransform"):a.node.getAttribute("transform"),!b)return new d.Matrix;b=d._.svgTransform2string(b)}else b=d._.rgTransform.test(b)?o(b).replace(/\.{3}|\u2026/g,a._.transform||E):d._.svgTransform2string(b),n(b,"array")&&(b=d.path?d.path.toString.call(b):o(b)),a._.transform=b;var e=d._.transform2matrix(b,a.getBBox(1));return c?e:void(a.matrix=e)}function j(a){function b(a,b){var c=q(a.node,b);c=c&&c.match(f),c=c&&c[2],c&&"#"==c.charAt()&&(c=c.substring(1),c&&(h[c]=(h[c]||[]).concat(function(c){var d={};d[b]=URL(c),q(a.node,d)})))}function c(a){var b=q(a.node,"xlink:href");b&&"#"==b.charAt()&&(b=b.substring(1),b&&(h[b]=(h[b]||[]).concat(function(b){a.attr("xlink:href","#"+b)})))}for(var d,e=a.selectAll("*"),f=/^\s*url\(("|'|)(.*)\1\)\s*$/,g=[],h={},i=0,j=e.length;i<j;i++){
d=e[i],b(d,"fill"),b(d,"stroke"),b(d,"filter"),b(d,"mask"),b(d,"clip-path"),c(d);var k=q(d.node,"id");k&&(q(d.node,{id:d.id}),g.push({old:k,id:d.id}))}for(i=0,j=g.length;i<j;i++){var l=h[g[i].old];if(l)for(var m=0,n=l.length;m<n;m++)l[m](g[i].id)}}function k(a,b,c){return function(d){var e=d.slice(a,b);return 1==e.length&&(e=e[0]),c?c(e):e}}function l(a){return function(){var b=a?"<"+this.type:"",c=this.node.attributes,d=this.node.childNodes;if(a)for(var e=0,f=c.length;e<f;e++)b+=" "+c[e].name+'="'+c[e].value.replace(/"/g,'\\"')+'"';if(d.length){for(a&&(b+=">"),e=0,f=d.length;e<f;e++)3==d[e].nodeType?b+=d[e].nodeValue:1==d[e].nodeType&&(b+=u(d[e]).toString());a&&(b+="</"+this.type+">")}else a&&(b+="/>");return b}}var m=e.prototype,n=d.is,o=String,p=d._unit2px,q=d._.$,r=d._.make,s=d._.getSomeDefs,t="hasOwnProperty",u=d._.wrap;m.getBBox=function(a){if(!d.Matrix||!d.path)return this.node.getBBox();var b=this,c=new d.Matrix;if(b.removed)return d._.box();for(;"use"==b.type;)if(a||(c=c.add(b.transform().localMatrix.translate(b.attr("x")||0,b.attr("y")||0))),b.original)b=b.original;else{var e=b.attr("xlink:href");b=b.original=b.node.ownerDocument.getElementById(e.substring(e.indexOf("#")+1))}var f=b._,g=d.path.get[b.type]||d.path.get.deflt;try{return a?(f.bboxwt=g?d.path.getBBox(b.realPath=g(b)):d._.box(b.node.getBBox()),d._.box(f.bboxwt)):(b.realPath=g(b),b.matrix=b.transform().localMatrix,f.bbox=d.path.getBBox(d.path.map(b.realPath,c.add(b.matrix))),d._.box(f.bbox))}catch(h){return d._.box()}};var v=function(){return this.string};m.transform=function(a){var b=this._;if(null==a){for(var c,e=this,f=new d.Matrix(this.node.getCTM()),g=i(this),h=[g],j=new d.Matrix,k=g.toTransformString(),l=o(g)==o(this.matrix)?o(b.transform):k;"svg"!=e.type&&(e=e.parent());)h.push(i(e));for(c=h.length;c--;)j.add(h[c]);return{string:l,globalMatrix:f,totalMatrix:j,localMatrix:g,diffMatrix:f.clone().add(g.invert()),global:f.toTransformString(),total:j.toTransformString(),local:k,toString:v}}return a instanceof d.Matrix?(this.matrix=a,this._.transform=a.toTransformString()):i(this,a),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?q(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?q(this.node,{patternTransform:this.matrix}):q(this.node,{transform:this.matrix})),this},m.parent=function(){return u(this.node.parentNode)},m.append=m.add=function(a){if(a){if("set"==a.type){var b=this;return a.forEach(function(a){b.add(a)}),this}a=u(a),this.node.appendChild(a.node),a.paper=this.paper}return this},m.appendTo=function(a){return a&&(a=u(a),a.append(this)),this},m.prepend=function(a){if(a){if("set"==a.type){var b,c=this;return a.forEach(function(a){b?b.after(a):c.prepend(a),b=a}),this}a=u(a);var d=a.parent();this.node.insertBefore(a.node,this.node.firstChild),this.add&&this.add(),a.paper=this.paper,this.parent()&&this.parent().add(),d&&d.add()}return this},m.prependTo=function(a){return a=u(a),a.prepend(this),this},m.before=function(a){if("set"==a.type){var b=this;return a.forEach(function(a){var c=a.parent();b.node.parentNode.insertBefore(a.node,b.node),c&&c.add()}),this.parent().add(),this}a=u(a);var c=a.parent();return this.node.parentNode.insertBefore(a.node,this.node),this.parent()&&this.parent().add(),c&&c.add(),a.paper=this.paper,this},m.after=function(a){a=u(a);var b=a.parent();return this.node.nextSibling?this.node.parentNode.insertBefore(a.node,this.node.nextSibling):this.node.parentNode.appendChild(a.node),this.parent()&&this.parent().add(),b&&b.add(),a.paper=this.paper,this},m.insertBefore=function(a){a=u(a);var b=this.parent();return a.node.parentNode.insertBefore(this.node,a.node),this.paper=a.paper,b&&b.add(),a.parent()&&a.parent().add(),this},m.insertAfter=function(a){a=u(a);var b=this.parent();return a.node.parentNode.insertBefore(this.node,a.node.nextSibling),this.paper=a.paper,b&&b.add(),a.parent()&&a.parent().add(),this},m.remove=function(){var a=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,a&&a.add(),this},m.select=function(a){return a=o(a).replace(/([^\\]):/g,"$1\\:"),u(this.node.querySelector(a))},m.selectAll=function(a){for(var b=this.node.querySelectorAll(a),c=(d.set||Array)(),e=0;e<b.length;e++)c.push(u(b[e]));return c},m.asPX=function(a,b){return null==b&&(b=this.attr(a)),+p(this,a,b)},m.use=function(){var a,b=this.node.id;return b||(b=this.id,q(this.node,{id:b})),a="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?r(this.type,this.node.parentNode):r("use",this.node.parentNode),q(a.node,{"xlink:href":"#"+b}),a.original=this,a},m.clone=function(){var a=u(this.node.cloneNode(!0));return q(a.node,"id")&&q(a.node,{id:a.id}),j(a),a.insertAfter(this),a},m.toDefs=function(){var a=s(this);return a.appendChild(this.node),this},m.pattern=m.toPattern=function(a,b,c,d){var e=r("pattern",s(this));return null==a&&(a=this.getBBox()),n(a,"object")&&"x"in a&&(b=a.y,c=a.width,d=a.height,a=a.x),q(e.node,{x:a,y:b,width:c,height:d,patternUnits:"userSpaceOnUse",id:e.id,viewBox:[a,b,c,d].join(" ")}),e.node.appendChild(this.node),e},m.marker=function(a,b,c,d,e,f){var g=r("marker",s(this));return null==a&&(a=this.getBBox()),n(a,"object")&&"x"in a&&(b=a.y,c=a.width,d=a.height,e=a.refX||a.cx,f=a.refY||a.cy,a=a.x),q(g.node,{viewBox:[a,b,c,d].join(" "),markerWidth:c,markerHeight:d,orient:"auto",refX:e||0,refY:f||0,id:g.id}),g.node.appendChild(this.node),g};var w=function(a,b,d,e){"function"!=typeof d||d.length||(e=d,d=c.linear),this.attr=a,this.dur=b,d&&(this.easing=d),e&&(this.callback=e)};d._.Animation=w,d.animation=function(a,b,c,d){return new w(a,b,c,d)},m.inAnim=function(){var a=this,b=[];for(var c in a.anims)a.anims[t](c)&&!function(a){b.push({anim:new w(a._attrs,a.dur,a.easing,a._callback),mina:a,curStatus:a.status(),status:function(b){return a.status(b)},stop:function(){a.stop()}})}(a.anims[c]);return b},d.animate=function(a,d,e,f,g,h){"function"!=typeof g||g.length||(h=g,g=c.linear);var i=c.time(),j=c(a,d,i,i+f,c.time,e,g);return h&&b.once("mina.finish."+j.id,h),j},m.stop=function(){for(var a=this.inAnim(),b=0,c=a.length;b<c;b++)a[b].stop();return this},m.animate=function(a,d,e,f){"function"!=typeof e||e.length||(f=e,e=c.linear),a instanceof w&&(f=a.callback,e=a.easing,d=e.dur,a=a.attr);var g,h,i,j,l=[],m=[],p={},q=this;for(var r in a)if(a[t](r)){q.equal?(j=q.equal(r,o(a[r])),g=j.from,h=j.to,i=j.f):(g=+q.attr(r),h=+a[r]);var s=n(g,"array")?g.length:1;p[r]=k(l.length,l.length+s,i),l=l.concat(g),m=m.concat(h)}var u=c.time(),v=c(l,m,u,u+d,c.time,function(a){var b={};for(var c in p)p[t](c)&&(b[c]=p[c](a));q.attr(b)},e);return q.anims[v.id]=v,v._attrs=a,v._callback=f,b("snap.animcreated."+q.id,v),b.once("mina.finish."+v.id,function(){delete q.anims[v.id],f&&f.call(q)}),b.once("mina.stop."+v.id,function(){delete q.anims[v.id]}),q};var x={};m.data=function(a,c){var e=x[this.id]=x[this.id]||{};if(0==arguments.length)return b("snap.data.get."+this.id,this,e,null),e;if(1==arguments.length){if(d.is(a,"object")){for(var f in a)a[t](f)&&this.data(f,a[f]);return this}return b("snap.data.get."+this.id,this,e[a],a),e[a]}return e[a]=c,b("snap.data.set."+this.id,this,c,a),this},m.removeData=function(a){return null==a?x[this.id]={}:x[this.id]&&delete x[this.id][a],this},m.outerSVG=m.toString=l(1),m.innerSVG=l(),m.toDataURL=function(){if(a&&a.btoa){var b=this.getBBox(),c=d.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+b.x.toFixed(3),y:+b.y.toFixed(3),width:+b.width.toFixed(3),height:+b.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(c)))}},h.prototype.select=m.select,h.prototype.selectAll=m.selectAll}),d.plugin(function(a,b,c,d,e){function f(a,b,c,d,e,f){return null==b&&"[object SVGMatrix]"==g.call(a)?(this.a=a.a,this.b=a.b,this.c=a.c,this.d=a.d,this.e=a.e,void(this.f=a.f)):void(null!=a?(this.a=+a,this.b=+b,this.c=+c,this.d=+d,this.e=+e,this.f=+f):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0))}var g=Object.prototype.toString,h=String,i=Math,j="";!function(b){function c(a){return a[0]*a[0]+a[1]*a[1]}function d(a){var b=i.sqrt(c(a));a[0]&&(a[0]/=b),a[1]&&(a[1]/=b)}b.add=function(a,b,c,d,e,g){var h,i,j,k,l=[[],[],[]],m=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],n=[[a,c,e],[b,d,g],[0,0,1]];for(a&&a instanceof f&&(n=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]),h=0;h<3;h++)for(i=0;i<3;i++){for(k=0,j=0;j<3;j++)k+=m[h][j]*n[j][i];l[h][i]=k}return this.a=l[0][0],this.b=l[1][0],this.c=l[0][1],this.d=l[1][1],this.e=l[0][2],this.f=l[1][2],this},b.invert=function(){var a=this,b=a.a*a.d-a.b*a.c;return new f(a.d/b,-a.b/b,-a.c/b,a.a/b,(a.c*a.f-a.d*a.e)/b,(a.b*a.e-a.a*a.f)/b)},b.clone=function(){return new f(this.a,this.b,this.c,this.d,this.e,this.f)},b.translate=function(a,b){return this.add(1,0,0,1,a,b)},b.scale=function(a,b,c,d){return null==b&&(b=a),(c||d)&&this.add(1,0,0,1,c,d),this.add(a,0,0,b,0,0),(c||d)&&this.add(1,0,0,1,-c,-d),this},b.rotate=function(b,c,d){b=a.rad(b),c=c||0,d=d||0;var e=+i.cos(b).toFixed(9),f=+i.sin(b).toFixed(9);return this.add(e,f,-f,e,c,d),this.add(1,0,0,1,-c,-d)},b.x=function(a,b){return a*this.a+b*this.c+this.e},b.y=function(a,b){return a*this.b+b*this.d+this.f},b.get=function(a){return+this[h.fromCharCode(97+a)].toFixed(4)},b.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},b.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},b.determinant=function(){return this.a*this.d-this.b*this.c},b.split=function(){var b={};b.dx=this.e,b.dy=this.f;var e=[[this.a,this.c],[this.b,this.d]];b.scalex=i.sqrt(c(e[0])),d(e[0]),b.shear=e[0][0]*e[1][0]+e[0][1]*e[1][1],e[1]=[e[1][0]-e[0][0]*b.shear,e[1][1]-e[0][1]*b.shear],b.scaley=i.sqrt(c(e[1])),d(e[1]),b.shear/=b.scaley,this.determinant()<0&&(b.scalex=-b.scalex);var f=-e[0][1],g=e[1][1];return g<0?(b.rotate=a.deg(i.acos(g)),f<0&&(b.rotate=360-b.rotate)):b.rotate=a.deg(i.asin(f)),b.isSimple=!(+b.shear.toFixed(9)||b.scalex.toFixed(9)!=b.scaley.toFixed(9)&&b.rotate),b.isSuperSimple=!+b.shear.toFixed(9)&&b.scalex.toFixed(9)==b.scaley.toFixed(9)&&!b.rotate,b.noRotation=!+b.shear.toFixed(9)&&!b.rotate,b},b.toTransformString=function(a){var b=a||this.split();return+b.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(b.scalex=+b.scalex.toFixed(4),b.scaley=+b.scaley.toFixed(4),b.rotate=+b.rotate.toFixed(4),(b.dx||b.dy?"t"+[+b.dx.toFixed(4),+b.dy.toFixed(4)]:j)+(1!=b.scalex||1!=b.scaley?"s"+[b.scalex,b.scaley,0,0]:j)+(b.rotate?"r"+[+b.rotate.toFixed(4),0,0]:j))}}(f.prototype),a.Matrix=f,a.matrix=function(a,b,c,d,e,g){return new f(a,b,c,d,e,g)}}),d.plugin(function(a,c,d,e,f){function g(d){return function(e){if(b.stop(),e instanceof f&&1==e.node.childNodes.length&&("radialGradient"==e.node.firstChild.tagName||"linearGradient"==e.node.firstChild.tagName||"pattern"==e.node.firstChild.tagName)&&(e=e.node.firstChild,n(this).appendChild(e),e=l(e)),e instanceof c)if("radialGradient"==e.type||"linearGradient"==e.type||"pattern"==e.type){e.node.id||p(e.node,{id:e.id});var g=q(e.node.id)}else g=e.attr(d);else if(g=a.color(e),g.error){var h=a(n(this).ownerSVGElement).gradient(e);h?(h.node.id||p(h.node,{id:h.id}),g=q(h.node.id)):g=e}else g=r(g);var i={};i[d]=g,p(this.node,i),this.node.style[d]=t}}function h(a){b.stop(),a==+a&&(a+="px"),this.node.style.fontSize=a}function i(a){for(var b=[],c=a.childNodes,d=0,e=c.length;d<e;d++){var f=c[d];3==f.nodeType&&b.push(f.nodeValue),"tspan"==f.tagName&&(1==f.childNodes.length&&3==f.firstChild.nodeType?b.push(f.firstChild.nodeValue):b.push(i(f)))}return b}function j(){return b.stop(),this.node.style.fontSize}var k=a._.make,l=a._.wrap,m=a.is,n=a._.getSomeDefs,o=/^url\(#?([^)]+)\)$/,p=a._.$,q=a.url,r=String,s=a._.separator,t="";b.on("snap.util.attr.mask",function(a){if(a instanceof c||a instanceof f){if(b.stop(),a instanceof f&&1==a.node.childNodes.length&&(a=a.node.firstChild,n(this).appendChild(a),a=l(a)),"mask"==a.type)var d=a;else d=k("mask",n(this)),d.node.appendChild(a.node);!d.node.id&&p(d.node,{id:d.id}),p(this.node,{mask:q(d.id)})}}),function(a){b.on("snap.util.attr.clip",a),b.on("snap.util.attr.clip-path",a),b.on("snap.util.attr.clipPath",a)}(function(a){if(a instanceof c||a instanceof f){if(b.stop(),"clipPath"==a.type)var d=a;else d=k("clipPath",n(this)),d.node.appendChild(a.node),!d.node.id&&p(d.node,{id:d.id});p(this.node,{"clip-path":q(d.node.id||d.id)})}}),b.on("snap.util.attr.fill",g("fill")),b.on("snap.util.attr.stroke",g("stroke"));var u=/^([lr])(?:\(([^)]*)\))?(.*)$/i;b.on("snap.util.grad.parse",function(a){a=r(a);var b=a.match(u);if(!b)return null;var c=b[1],d=b[2],e=b[3];return d=d.split(/\s*,\s*/).map(function(a){return+a==a?+a:a}),1==d.length&&0==d[0]&&(d=[]),e=e.split("-"),e=e.map(function(a){a=a.split(":");var b={color:a[0]};return a[1]&&(b.offset=parseFloat(a[1])),b}),{type:c,params:d,stops:e}}),b.on("snap.util.attr.d",function(c){b.stop(),m(c,"array")&&m(c[0],"array")&&(c=a.path.toString.call(c)),c=r(c),c.match(/[ruo]/i)&&(c=a.path.toAbsolute(c)),p(this.node,{d:c})})(-1),b.on("snap.util.attr.#text",function(a){b.stop(),a=r(a);for(var c=e.doc.createTextNode(a);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(c)})(-1),b.on("snap.util.attr.path",function(a){b.stop(),this.attr({d:a})})(-1),b.on("snap.util.attr.class",function(a){b.stop(),this.node.className.baseVal=a})(-1),b.on("snap.util.attr.viewBox",function(a){var c;c=m(a,"object")&&"x"in a?[a.x,a.y,a.width,a.height].join(" "):m(a,"array")?a.join(" "):a,p(this.node,{viewBox:c}),b.stop()})(-1),b.on("snap.util.attr.transform",function(a){this.transform(a),b.stop()})(-1),b.on("snap.util.attr.r",function(a){"rect"==this.type&&(b.stop(),p(this.node,{rx:a,ry:a}))})(-1),b.on("snap.util.attr.textpath",function(a){if(b.stop(),"text"==this.type){var d,e,f;if(!a&&this.textPath){for(e=this.textPath;e.node.firstChild;)this.node.appendChild(e.node.firstChild);return e.remove(),void delete this.textPath}if(m(a,"string")){var g=n(this),h=l(g.parentNode).path(a);g.appendChild(h.node),d=h.id,h.attr({id:d})}else a=l(a),a instanceof c&&(d=a.attr("id"),d||(d=a.id,a.attr({id:d})));if(d)if(e=this.textPath,f=this.node,e)e.attr({"xlink:href":"#"+d});else{for(e=p("textPath",{"xlink:href":"#"+d});f.firstChild;)e.appendChild(f.firstChild);f.appendChild(e),this.textPath=l(e)}}})(-1),b.on("snap.util.attr.text",function(a){if("text"==this.type){for(var c=this.node,d=function(a){var b=p("tspan");if(m(a,"array"))for(var c=0;c<a.length;c++)b.appendChild(d(a[c]));else b.appendChild(e.doc.createTextNode(a));return b.normalize&&b.normalize(),b};c.firstChild;)c.removeChild(c.firstChild);for(var f=d(a);f.firstChild;)c.appendChild(f.firstChild)}b.stop()})(-1),b.on("snap.util.attr.fontSize",h)(-1),b.on("snap.util.attr.font-size",h)(-1),b.on("snap.util.getattr.transform",function(){return b.stop(),this.transform()})(-1),b.on("snap.util.getattr.textpath",function(){return b.stop(),this.textPath})(-1),function(){function c(c){return function(){b.stop();var d=e.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+c);return"none"==d?d:a(e.doc.getElementById(d.match(o)[1]))}}function d(a){return function(c){b.stop();var d="marker"+a.charAt(0).toUpperCase()+a.substring(1);if(""==c||!c)return void(this.node.style[d]="none");if("marker"==c.type){var e=c.node.id;return e||p(c.node,{id:c.id}),void(this.node.style[d]=q(e))}}}b.on("snap.util.getattr.marker-end",c("end"))(-1),b.on("snap.util.getattr.markerEnd",c("end"))(-1),b.on("snap.util.getattr.marker-start",c("start"))(-1),b.on("snap.util.getattr.markerStart",c("start"))(-1),b.on("snap.util.getattr.marker-mid",c("mid"))(-1),b.on("snap.util.getattr.markerMid",c("mid"))(-1),b.on("snap.util.attr.marker-end",d("end"))(-1),b.on("snap.util.attr.markerEnd",d("end"))(-1),b.on("snap.util.attr.marker-start",d("start"))(-1),b.on("snap.util.attr.markerStart",d("start"))(-1),b.on("snap.util.attr.marker-mid",d("mid"))(-1),b.on("snap.util.attr.markerMid",d("mid"))(-1)}(),b.on("snap.util.getattr.r",function(){if("rect"==this.type&&p(this.node,"rx")==p(this.node,"ry"))return b.stop(),p(this.node,"rx")})(-1),b.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){b.stop();var a=i(this.node);return 1==a.length?a[0]:a}})(-1),b.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),b.on("snap.util.getattr.viewBox",function(){b.stop();var c=p(this.node,"viewBox");return c?(c=c.split(s),a._.box(+c[0],+c[1],+c[2],+c[3])):void 0})(-1),b.on("snap.util.getattr.points",function(){var a=p(this.node,"points");return b.stop(),a?a.split(s):void 0})(-1),b.on("snap.util.getattr.path",function(){var a=p(this.node,"d");return b.stop(),a})(-1),b.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1),b.on("snap.util.getattr.fontSize",j)(-1),b.on("snap.util.getattr.font-size",j)(-1)}),d.plugin(function(c,d,e,f,g){var h=e.prototype,i=c.is;h.rect=function(a,b,c,d,e,f){var g;return null==f&&(f=e),i(a,"object")&&"[object Object]"==a?g=a:null!=a&&(g={x:a,y:b,width:c,height:d},null!=e&&(g.rx=e,g.ry=f)),this.el("rect",g)},h.circle=function(a,b,c){var d;return i(a,"object")&&"[object Object]"==a?d=a:null!=a&&(d={cx:a,cy:b,r:c}),this.el("circle",d)};var j=function(){function a(){this.parentNode.removeChild(this)}return function(b,c){var d=f.doc.createElement("img"),e=f.doc.body;d.style.cssText="position:absolute;left:-9999em;top:-9999em",d.onload=function(){c.call(d),d.onload=d.onerror=null,e.removeChild(d)},d.onerror=a,e.appendChild(d),d.src=b}}();h.image=function(a,b,d,e,f){var g=this.el("image");if(i(a,"object")&&"src"in a)g.attr(a);else if(null!=a){var h={"xlink:href":a,preserveAspectRatio:"none"};null!=b&&null!=d&&(h.x=b,h.y=d),null!=e&&null!=f?(h.width=e,h.height=f):j(a,function(){c._.$(g.node,{width:this.offsetWidth,height:this.offsetHeight})}),c._.$(g.node,h)}return g},h.ellipse=function(a,b,c,d){var e;return i(a,"object")&&"[object Object]"==a?e=a:null!=a&&(e={cx:a,cy:b,rx:c,ry:d}),this.el("ellipse",e)},h.path=function(a){var b;return i(a,"object")&&!i(a,"array")?b=a:a&&(b={d:a}),this.el("path",b)},h.group=h.g=function(a){var b=this.el("g");return 1==arguments.length&&a&&!a.type?b.attr(a):arguments.length&&b.add(Array.prototype.slice.call(arguments,0)),b},h.svg=function(a,b,c,d,e,f,g,h){var j={};return i(a,"object")&&null==b?j=a:(null!=a&&(j.x=a),null!=b&&(j.y=b),null!=c&&(j.width=c),null!=d&&(j.height=d),null!=e&&null!=f&&null!=g&&null!=h&&(j.viewBox=[e,f,g,h])),this.el("svg",j)},h.mask=function(a){var b=this.el("mask");return 1==arguments.length&&a&&!a.type?b.attr(a):arguments.length&&b.add(Array.prototype.slice.call(arguments,0)),b},h.ptrn=function(a,b,c,d,e,f,g,h){if(i(a,"object"))var j=a;else j={patternUnits:"userSpaceOnUse"},a&&(j.x=a),b&&(j.y=b),null!=c&&(j.width=c),null!=d&&(j.height=d),null!=e&&null!=f&&null!=g&&null!=h&&(j.viewBox=[e,f,g,h]);return this.el("pattern",j)},h.use=function(a){return null!=a?(a instanceof d&&(a.attr("id")||a.attr({id:c._.id(a)}),a=a.attr("id")),"#"==String(a).charAt()&&(a=a.substring(1)),this.el("use",{"xlink:href":"#"+a})):d.prototype.use.call(this)},h.symbol=function(a,b,c,d){var e={};return null!=a&&null!=b&&null!=c&&null!=d&&(e.viewBox=[a,b,c,d]),this.el("symbol",e)},h.text=function(a,b,c){var d={};return i(a,"object")?d=a:null!=a&&(d={x:a,y:b,text:c||""}),this.el("text",d)},h.line=function(a,b,c,d){var e={};return i(a,"object")?e=a:null!=a&&(e={x1:a,x2:c,y1:b,y2:d}),this.el("line",e)},h.polyline=function(a){arguments.length>1&&(a=Array.prototype.slice.call(arguments,0));var b={};return i(a,"object")&&!i(a,"array")?b=a:null!=a&&(b={points:a}),this.el("polyline",b)},h.polygon=function(a){arguments.length>1&&(a=Array.prototype.slice.call(arguments,0));var b={};return i(a,"object")&&!i(a,"array")?b=a:null!=a&&(b={points:a}),this.el("polygon",b)},function(){function d(){return this.selectAll("stop")}function e(a,b){var d=k("stop"),e={offset:+b+"%"};return a=c.color(a),e["stop-color"]=a.hex,a.opacity<1&&(e["stop-opacity"]=a.opacity),k(d,e),this.node.appendChild(d),this}function f(){if("linearGradient"==this.type){var a=k(this.node,"x1")||0,b=k(this.node,"x2")||1,d=k(this.node,"y1")||0,e=k(this.node,"y2")||0;return c._.box(a,d,math.abs(b-a),math.abs(e-d))}var f=this.node.cx||.5,g=this.node.cy||.5,h=this.node.r||0;return c._.box(f-h,g-h,2*h,2*h)}function g(a,c){function d(a,b){for(var c=(b-l)/(a-m),d=m;d<a;d++)g[d].offset=+(+l+c*(d-m)).toFixed(2);m=a,l=b}var e,f=b("snap.util.grad.parse",null,c).firstDefined();if(!f)return null;f.params.unshift(a),e="l"==f.type.toLowerCase()?i.apply(0,f.params):j.apply(0,f.params),f.type!=f.type.toLowerCase()&&k(e.node,{gradientUnits:"userSpaceOnUse"});var g=f.stops,h=g.length,l=0,m=0;h--;for(var n=0;n<h;n++)"offset"in g[n]&&d(n,g[n].offset);for(g[h].offset=g[h].offset||100,d(h,g[h].offset),n=0;n<=h;n++){var o=g[n];e.addStop(o.color,o.offset)}return e}function i(a,b,g,h,i){var j=c._.make("linearGradient",a);return j.stops=d,j.addStop=e,j.getBBox=f,null!=b&&k(j.node,{x1:b,y1:g,x2:h,y2:i}),j}function j(a,b,g,h,i,j){var l=c._.make("radialGradient",a);return l.stops=d,l.addStop=e,l.getBBox=f,null!=b&&k(l.node,{cx:b,cy:g,r:h}),null!=i&&null!=j&&k(l.node,{fx:i,fy:j}),l}var k=c._.$;h.gradient=function(a){return g(this.defs,a)},h.gradientLinear=function(a,b,c,d){return i(this.defs,a,b,c,d)},h.gradientRadial=function(a,b,c,d,e){return j(this.defs,a,b,c,d,e)},h.toString=function(){var a,b=this.node.ownerDocument,d=b.createDocumentFragment(),e=b.createElement("div"),f=this.node.cloneNode(!0);return d.appendChild(e),e.appendChild(f),c._.$(f,{xmlns:"http://www.w3.org/2000/svg"}),a=e.innerHTML,d.removeChild(d.firstChild),a},h.toDataURL=function(){if(a&&a.btoa)return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(this)))},h.clear=function(){for(var a,b=this.node.firstChild;b;)a=b.nextSibling,"defs"!=b.tagName?b.parentNode.removeChild(b):h.clear.call({node:b}),b=a}}()}),d.plugin(function(a,b,c,d){function e(a){var b=e.ps=e.ps||{};return b[a]?b[a].sleep=100:b[a]={sleep:100},setTimeout(function(){for(var c in b)b[M](c)&&c!=a&&(b[c].sleep--,!b[c].sleep&&delete b[c])}),b[a]}function f(a,b,c,d){return null==a&&(a=b=c=d=0),null==b&&(b=a.y,c=a.width,d=a.height,a=a.x),{x:a,y:b,width:c,w:c,height:d,h:d,x2:a+c,y2:b+d,cx:a+c/2,cy:b+d/2,r1:P.min(c,d)/2,r2:P.max(c,d)/2,r0:P.sqrt(c*c+d*d)/2,path:y(a,b,c,d),vb:[a,b,c,d].join(" ")}}function g(){return this.join(",").replace(N,"$1")}function h(a){var b=L(a);return b.toString=g,b}function i(a,b,c,d,e,f,g,h,i){return null==i?p(a,b,c,d,e,f,g,h):k(a,b,c,d,e,f,g,h,q(a,b,c,d,e,f,g,h,i))}function j(c,d){function e(a){return+(+a).toFixed(3)}return a._.cacher(function(a,f,g){a instanceof b&&(a=a.attr("d")),a=G(a);for(var h,j,l,m,n,o="",p={},q=0,r=0,s=a.length;r<s;r++){if(l=a[r],"M"==l[0])h=+l[1],j=+l[2];else{if(m=i(h,j,l[1],l[2],l[3],l[4],l[5],l[6]),q+m>f){if(d&&!p.start){if(n=i(h,j,l[1],l[2],l[3],l[4],l[5],l[6],f-q),o+=["C"+e(n.start.x),e(n.start.y),e(n.m.x),e(n.m.y),e(n.x),e(n.y)],g)return o;p.start=o,o=["M"+e(n.x),e(n.y)+"C"+e(n.n.x),e(n.n.y),e(n.end.x),e(n.end.y),e(l[5]),e(l[6])].join(),q+=m,h=+l[5],j=+l[6];continue}if(!c&&!d)return n=i(h,j,l[1],l[2],l[3],l[4],l[5],l[6],f-q)}q+=m,h=+l[5],j=+l[6]}o+=l.shift()+l}return p.end=o,n=c?q:d?p:k(h,j,l[0],l[1],l[2],l[3],l[4],l[5],1)},null,a._.clone)}function k(a,b,c,d,e,f,g,h,i){var j=1-i,k=T(j,3),l=T(j,2),m=i*i,n=m*i,o=k*a+3*l*i*c+3*j*i*i*e+n*g,p=k*b+3*l*i*d+3*j*i*i*f+n*h,q=a+2*i*(c-a)+m*(e-2*c+a),r=b+2*i*(d-b)+m*(f-2*d+b),s=c+2*i*(e-c)+m*(g-2*e+c),t=d+2*i*(f-d)+m*(h-2*f+d),u=j*a+i*c,v=j*b+i*d,w=j*e+i*g,x=j*f+i*h,y=90-180*P.atan2(q-s,r-t)/Q;return{x:o,y:p,m:{x:q,y:r},n:{x:s,y:t},start:{x:u,y:v},end:{x:w,y:x},alpha:y}}function l(b,c,d,e,g,h,i,j){a.is(b,"array")||(b=[b,c,d,e,g,h,i,j]);var k=F.apply(null,b);return f(k.min.x,k.min.y,k.max.x-k.min.x,k.max.y-k.min.y)}function m(a,b,c){return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height}function n(a,b){return a=f(a),b=f(b),m(b,a.x,a.y)||m(b,a.x2,a.y)||m(b,a.x,a.y2)||m(b,a.x2,a.y2)||m(a,b.x,b.y)||m(a,b.x2,b.y)||m(a,b.x,b.y2)||m(a,b.x2,b.y2)||(a.x<b.x2&&a.x>b.x||b.x<a.x2&&b.x>a.x)&&(a.y<b.y2&&a.y>b.y||b.y<a.y2&&b.y>a.y)}function o(a,b,c,d,e){var f=-3*b+9*c-9*d+3*e,g=a*f+6*b-12*c+6*d;return a*g-3*b+3*c}function p(a,b,c,d,e,f,g,h,i){null==i&&(i=1),i=i>1?1:i<0?0:i;for(var j=i/2,k=12,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],m=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],n=0,p=0;p<k;p++){var q=j*l[p]+j,r=o(q,a,c,e,g),s=o(q,b,d,f,h),t=r*r+s*s;n+=m[p]*P.sqrt(t)}return j*n}function q(a,b,c,d,e,f,g,h,i){if(!(i<0||p(a,b,c,d,e,f,g,h)<i)){var j,k=1,l=k/2,m=k-l,n=.01;for(j=p(a,b,c,d,e,f,g,h,m);U(j-i)>n;)l/=2,m+=(j<i?1:-1)*l,j=p(a,b,c,d,e,f,g,h,m);return m}}function r(a,b,c,d,e,f,g,h){if(!(S(a,c)<R(e,g)||R(a,c)>S(e,g)||S(b,d)<R(f,h)||R(b,d)>S(f,h))){var i=(a*d-b*c)*(e-g)-(a-c)*(e*h-f*g),j=(a*d-b*c)*(f-h)-(b-d)*(e*h-f*g),k=(a-c)*(f-h)-(b-d)*(e-g);if(k){var l=i/k,m=j/k,n=+l.toFixed(2),o=+m.toFixed(2);if(!(n<+R(a,c).toFixed(2)||n>+S(a,c).toFixed(2)||n<+R(e,g).toFixed(2)||n>+S(e,g).toFixed(2)||o<+R(b,d).toFixed(2)||o>+S(b,d).toFixed(2)||o<+R(f,h).toFixed(2)||o>+S(f,h).toFixed(2)))return{x:l,y:m}}}}function s(a,b,c){var d=l(a),e=l(b);if(!n(d,e))return c?0:[];for(var f=p.apply(0,a),g=p.apply(0,b),h=~~(f/8),i=~~(g/8),j=[],m=[],o={},q=c?0:[],s=0;s<h+1;s++){var t=k.apply(0,a.concat(s/h));j.push({x:t.x,y:t.y,t:s/h})}for(s=0;s<i+1;s++)t=k.apply(0,b.concat(s/i)),m.push({x:t.x,y:t.y,t:s/i});for(s=0;s<h;s++)for(var u=0;u<i;u++){var v=j[s],w=j[s+1],x=m[u],y=m[u+1],z=U(w.x-v.x)<.001?"y":"x",A=U(y.x-x.x)<.001?"y":"x",B=r(v.x,v.y,w.x,w.y,x.x,x.y,y.x,y.y);if(B){if(o[B.x.toFixed(4)]==B.y.toFixed(4))continue;o[B.x.toFixed(4)]=B.y.toFixed(4);var C=v.t+U((B[z]-v[z])/(w[z]-v[z]))*(w.t-v.t),D=x.t+U((B[A]-x[A])/(y[A]-x[A]))*(y.t-x.t);C>=0&&C<=1&&D>=0&&D<=1&&(c?q++:q.push({x:B.x,y:B.y,t1:C,t2:D}))}}return q}function t(a,b){return v(a,b)}function u(a,b){return v(a,b,1)}function v(a,b,c){a=G(a),b=G(b);for(var d,e,f,g,h,i,j,k,l,m,n=c?0:[],o=0,p=a.length;o<p;o++){var q=a[o];if("M"==q[0])d=h=q[1],e=i=q[2];else{"C"==q[0]?(l=[d,e].concat(q.slice(1)),d=l[6],e=l[7]):(l=[d,e,d,e,h,i,h,i],d=h,e=i);for(var r=0,t=b.length;r<t;r++){var u=b[r];if("M"==u[0])f=j=u[1],g=k=u[2];else{"C"==u[0]?(m=[f,g].concat(u.slice(1)),f=m[6],g=m[7]):(m=[f,g,f,g,j,k,j,k],f=j,g=k);var v=s(l,m,c);if(c)n+=v;else{for(var w=0,x=v.length;w<x;w++)v[w].segment1=o,v[w].segment2=r,v[w].bez1=l,v[w].bez2=m;n=n.concat(v)}}}}}return n}function w(a,b,c){var d=x(a);return m(d,b,c)&&v(a,[["M",b,c],["H",d.x2+10]],1)%2==1}function x(a){var b=e(a);if(b.bbox)return L(b.bbox);if(!a)return f();a=G(a);for(var c,d=0,g=0,h=[],i=[],j=0,k=a.length;j<k;j++)if(c=a[j],"M"==c[0])d=c[1],g=c[2],h.push(d),i.push(g);else{var l=F(d,g,c[1],c[2],c[3],c[4],c[5],c[6]);h=h.concat(l.min.x,l.max.x),i=i.concat(l.min.y,l.max.y),d=c[5],g=c[6]}var m=R.apply(0,h),n=R.apply(0,i),o=S.apply(0,h),p=S.apply(0,i),q=f(m,n,o-m,p-n);return b.bbox=L(q),q}function y(a,b,c,d,e){if(e)return[["M",+a+ +e,b],["l",c-2*e,0],["a",e,e,0,0,1,e,e],["l",0,d-2*e],["a",e,e,0,0,1,-e,e],["l",2*e-c,0],["a",e,e,0,0,1,-e,-e],["l",0,2*e-d],["a",e,e,0,0,1,e,-e],["z"]];var f=[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]];return f.toString=g,f}function z(a,b,c,d,e){if(null==e&&null==d&&(d=c),a=+a,b=+b,c=+c,d=+d,null!=e)var f=Math.PI/180,h=a+c*Math.cos(-d*f),i=a+c*Math.cos(-e*f),j=b+c*Math.sin(-d*f),k=b+c*Math.sin(-e*f),l=[["M",h,j],["A",c,c,0,+(e-d>180),0,i,k]];else l=[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,-2*d],["z"]];return l.toString=g,l}function A(b){var c=e(b),d=String.prototype.toLowerCase;if(c.rel)return h(c.rel);a.is(b,"array")&&a.is(b&&b[0],"array")||(b=a.parsePathString(b));var f=[],i=0,j=0,k=0,l=0,m=0;"M"==b[0][0]&&(i=b[0][1],j=b[0][2],k=i,l=j,m++,f.push(["M",i,j]));for(var n=m,o=b.length;n<o;n++){var p=f[n]=[],q=b[n];if(q[0]!=d.call(q[0]))switch(p[0]=d.call(q[0]),p[0]){case"a":p[1]=q[1],p[2]=q[2],p[3]=q[3],p[4]=q[4],p[5]=q[5],p[6]=+(q[6]-i).toFixed(3),p[7]=+(q[7]-j).toFixed(3);break;case"v":p[1]=+(q[1]-j).toFixed(3);break;case"m":k=q[1],l=q[2];default:for(var r=1,s=q.length;r<s;r++)p[r]=+(q[r]-(r%2?i:j)).toFixed(3)}else{p=f[n]=[],"m"==q[0]&&(k=q[1]+i,l=q[2]+j);for(var t=0,u=q.length;t<u;t++)f[n][t]=q[t]}var v=f[n].length;switch(f[n][0]){case"z":i=k,j=l;break;case"h":i+=+f[n][v-1];break;case"v":j+=+f[n][v-1];break;default:i+=+f[n][v-2],j+=+f[n][v-1]}}return f.toString=g,c.rel=h(f),f}function B(b){var c=e(b);if(c.abs)return h(c.abs);if(K(b,"array")&&K(b&&b[0],"array")||(b=a.parsePathString(b)),!b||!b.length)return[["M",0,0]];var d,f=[],i=0,j=0,k=0,l=0,m=0;"M"==b[0][0]&&(i=+b[0][1],j=+b[0][2],k=i,l=j,m++,f[0]=["M",i,j]);for(var n,o,p=3==b.length&&"M"==b[0][0]&&"R"==b[1][0].toUpperCase()&&"Z"==b[2][0].toUpperCase(),q=m,r=b.length;q<r;q++){if(f.push(n=[]),o=b[q],d=o[0],d!=d.toUpperCase())switch(n[0]=d.toUpperCase(),n[0]){case"A":n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=+o[6]+i,n[7]=+o[7]+j;break;case"V":n[1]=+o[1]+j;break;case"H":n[1]=+o[1]+i;break;case"R":for(var s=[i,j].concat(o.slice(1)),t=2,u=s.length;t<u;t++)s[t]=+s[t]+i,s[++t]=+s[t]+j;f.pop(),f=f.concat(I(s,p));break;case"O":f.pop(),s=z(i,j,o[1],o[2]),s.push(s[0]),f=f.concat(s);break;case"U":f.pop(),f=f.concat(z(i,j,o[1],o[2],o[3])),n=["U"].concat(f[f.length-1].slice(-2));break;case"M":k=+o[1]+i,l=+o[2]+j;default:for(t=1,u=o.length;t<u;t++)n[t]=+o[t]+(t%2?i:j)}else if("R"==d)s=[i,j].concat(o.slice(1)),f.pop(),f=f.concat(I(s,p)),n=["R"].concat(o.slice(-2));else if("O"==d)f.pop(),s=z(i,j,o[1],o[2]),s.push(s[0]),f=f.concat(s);else if("U"==d)f.pop(),f=f.concat(z(i,j,o[1],o[2],o[3])),n=["U"].concat(f[f.length-1].slice(-2));else for(var v=0,w=o.length;v<w;v++)n[v]=o[v];if(d=d.toUpperCase(),"O"!=d)switch(n[0]){case"Z":i=+k,j=+l;break;case"H":i=n[1];break;case"V":j=n[1];break;case"M":k=n[n.length-2],l=n[n.length-1];default:i=n[n.length-2],j=n[n.length-1]}}return f.toString=g,c.abs=h(f),f}function C(a,b,c,d){return[a,b,c,d,c,d]}function D(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]}function E(b,c,d,e,f,g,h,i,j,k){var l,m=120*Q/180,n=Q/180*(+f||0),o=[],p=a._.cacher(function(a,b,c){var d=a*P.cos(c)-b*P.sin(c),e=a*P.sin(c)+b*P.cos(c);return{x:d,y:e}});if(k)y=k[0],z=k[1],w=k[2],x=k[3];else{l=p(b,c,-n),b=l.x,c=l.y,l=p(i,j,-n),i=l.x,j=l.y;var q=(P.cos(Q/180*f),P.sin(Q/180*f),(b-i)/2),r=(c-j)/2,s=q*q/(d*d)+r*r/(e*e);s>1&&(s=P.sqrt(s),d=s*d,e=s*e);var t=d*d,u=e*e,v=(g==h?-1:1)*P.sqrt(U((t*u-t*r*r-u*q*q)/(t*r*r+u*q*q))),w=v*d*r/e+(b+i)/2,x=v*-e*q/d+(c+j)/2,y=P.asin(((c-x)/e).toFixed(9)),z=P.asin(((j-x)/e).toFixed(9));y=b<w?Q-y:y,z=i<w?Q-z:z,y<0&&(y=2*Q+y),z<0&&(z=2*Q+z),h&&y>z&&(y-=2*Q),!h&&z>y&&(z-=2*Q)}var A=z-y;if(U(A)>m){var B=z,C=i,D=j;z=y+m*(h&&z>y?1:-1),i=w+d*P.cos(z),j=x+e*P.sin(z),o=E(i,j,d,e,f,0,h,C,D,[z,B,w,x])}A=z-y;var F=P.cos(y),G=P.sin(y),H=P.cos(z),I=P.sin(z),J=P.tan(A/4),K=4/3*d*J,L=4/3*e*J,M=[b,c],N=[b+K*G,c-L*F],O=[i+K*I,j-L*H],R=[i,j];if(N[0]=2*M[0]-N[0],N[1]=2*M[1]-N[1],k)return[N,O,R].concat(o);o=[N,O,R].concat(o).join().split(",");for(var S=[],T=0,V=o.length;T<V;T++)S[T]=T%2?p(o[T-1],o[T],n).y:p(o[T],o[T+1],n).x;return S}function F(a,b,c,d,e,f,g,h){for(var i,j,k,l,m,n,o,p,q=[],r=[[],[]],s=0;s<2;++s)if(0==s?(j=6*a-12*c+6*e,i=-3*a+9*c-9*e+3*g,k=3*c-3*a):(j=6*b-12*d+6*f,i=-3*b+9*d-9*f+3*h,k=3*d-3*b),U(i)<1e-12){if(U(j)<1e-12)continue;l=-k/j,0<l&&l<1&&q.push(l)}else o=j*j-4*k*i,p=P.sqrt(o),o<0||(m=(-j+p)/(2*i),0<m&&m<1&&q.push(m),n=(-j-p)/(2*i),0<n&&n<1&&q.push(n));for(var t,u=q.length,v=u;u--;)l=q[u],t=1-l,r[0][u]=t*t*t*a+3*t*t*l*c+3*t*l*l*e+l*l*l*g,r[1][u]=t*t*t*b+3*t*t*l*d+3*t*l*l*f+l*l*l*h;return r[0][v]=a,r[1][v]=b,r[0][v+1]=g,r[1][v+1]=h,r[0].length=r[1].length=v+2,{min:{x:R.apply(0,r[0]),y:R.apply(0,r[1])},max:{x:S.apply(0,r[0]),y:S.apply(0,r[1])}}}function G(a,b){var c=!b&&e(a);
if(!b&&c.curve)return h(c.curve);for(var d=B(a),f=b&&B(b),g={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},j=(function(a,b,c){var d,e;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];switch(!(a[0]in{T:1,Q:1})&&(b.qx=b.qy=null),a[0]){case"M":b.X=a[1],b.Y=a[2];break;case"A":a=["C"].concat(E.apply(0,[b.x,b.y].concat(a.slice(1))));break;case"S":"C"==c||"S"==c?(d=2*b.x-b.bx,e=2*b.y-b.by):(d=b.x,e=b.y),a=["C",d,e].concat(a.slice(1));break;case"T":"Q"==c||"T"==c?(b.qx=2*b.x-b.qx,b.qy=2*b.y-b.qy):(b.qx=b.x,b.qy=b.y),a=["C"].concat(D(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case"Q":b.qx=a[1],b.qy=a[2],a=["C"].concat(D(b.x,b.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"].concat(C(b.x,b.y,a[1],a[2]));break;case"H":a=["C"].concat(C(b.x,b.y,a[1],b.y));break;case"V":a=["C"].concat(C(b.x,b.y,b.x,a[1]));break;case"Z":a=["C"].concat(C(b.x,b.y,b.X,b.Y))}return a}),k=function(a,b){if(a[b].length>7){a[b].shift();for(var c=a[b];c.length;)m[b]="A",f&&(n[b]="A"),a.splice(b++,0,["C"].concat(c.splice(0,6)));a.splice(b,1),r=S(d.length,f&&f.length||0)}},l=function(a,b,c,e,g){a&&b&&"M"==a[g][0]&&"M"!=b[g][0]&&(b.splice(g,0,["M",e.x,e.y]),c.bx=0,c.by=0,c.x=a[g][1],c.y=a[g][2],r=S(d.length,f&&f.length||0))},m=[],n=[],o="",p="",q=0,r=S(d.length,f&&f.length||0);q<r;q++){d[q]&&(o=d[q][0]),"C"!=o&&(m[q]=o,q&&(p=m[q-1])),d[q]=j(d[q],g,p),"A"!=m[q]&&"C"==o&&(m[q]="C"),k(d,q),f&&(f[q]&&(o=f[q][0]),"C"!=o&&(n[q]=o,q&&(p=n[q-1])),f[q]=j(f[q],i,p),"A"!=n[q]&&"C"==o&&(n[q]="C"),k(f,q)),l(d,f,g,i,q),l(f,d,i,g,q);var s=d[q],t=f&&f[q],u=s.length,v=f&&t.length;g.x=s[u-2],g.y=s[u-1],g.bx=O(s[u-4])||g.x,g.by=O(s[u-3])||g.y,i.bx=f&&(O(t[v-4])||i.x),i.by=f&&(O(t[v-3])||i.y),i.x=f&&t[v-2],i.y=f&&t[v-1]}return f||(c.curve=h(d)),f?[d,f]:d}function H(a,b){if(!b)return a;var c,d,e,f,g,h,i;for(a=G(a),e=0,g=a.length;e<g;e++)for(i=a[e],f=1,h=i.length;f<h;f+=2)c=b.x(i[f],i[f+1]),d=b.y(i[f],i[f+1]),i[f]=c,i[f+1]=d;return a}function I(a,b){for(var c=[],d=0,e=a.length;e-2*!b>d;d+=2){var f=[{x:+a[d-2],y:+a[d-1]},{x:+a[d],y:+a[d+1]},{x:+a[d+2],y:+a[d+3]},{x:+a[d+4],y:+a[d+5]}];b?d?e-4==d?f[3]={x:+a[0],y:+a[1]}:e-2==d&&(f[2]={x:+a[0],y:+a[1]},f[3]={x:+a[2],y:+a[3]}):f[0]={x:+a[e-2],y:+a[e-1]}:e-4==d?f[3]=f[2]:d||(f[0]={x:+a[d],y:+a[d+1]}),c.push(["C",(-f[0].x+6*f[1].x+f[2].x)/6,(-f[0].y+6*f[1].y+f[2].y)/6,(f[1].x+6*f[2].x-f[3].x)/6,(f[1].y+6*f[2].y-f[3].y)/6,f[2].x,f[2].y])}return c}var J=b.prototype,K=a.is,L=a._.clone,M="hasOwnProperty",N=/,?([a-z]),?/gi,O=parseFloat,P=Math,Q=P.PI,R=P.min,S=P.max,T=P.pow,U=P.abs,V=j(1),W=j(),X=j(0,1),Y=a._unit2px,Z={path:function(a){return a.attr("path")},circle:function(a){var b=Y(a);return z(b.cx,b.cy,b.r)},ellipse:function(a){var b=Y(a);return z(b.cx||0,b.cy||0,b.rx,b.ry)},rect:function(a){var b=Y(a);return y(b.x||0,b.y||0,b.width,b.height,b.rx,b.ry)},image:function(a){var b=Y(a);return y(b.x||0,b.y||0,b.width,b.height)},line:function(a){return"M"+[a.attr("x1")||0,a.attr("y1")||0,a.attr("x2"),a.attr("y2")]},polyline:function(a){return"M"+a.attr("points")},polygon:function(a){return"M"+a.attr("points")+"z"},deflt:function(a){var b=a.node.getBBox();return y(b.x,b.y,b.width,b.height)}};a.path=e,a.path.getTotalLength=V,a.path.getPointAtLength=W,a.path.getSubpath=function(a,b,c){if(this.getTotalLength(a)-c<1e-6)return X(a,b).end;var d=X(a,c,1);return b?X(d,b).end:d},J.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()},J.getPointAtLength=function(a){return W(this.attr("d"),a)},J.getSubpath=function(b,c){return a.path.getSubpath(this.attr("d"),b,c)},a._.box=f,a.path.findDotsAtSegment=k,a.path.bezierBBox=l,a.path.isPointInsideBBox=m,a.path.isBBoxIntersect=n,a.path.intersection=t,a.path.intersectionNumber=u,a.path.isPointInside=w,a.path.getBBox=x,a.path.get=Z,a.path.toRelative=A,a.path.toAbsolute=B,a.path.toCubic=G,a.path.map=H,a.path.toString=g,a.path.clone=h}),d.plugin(function(a,c,d,e){for(var f=c.prototype,g="hasOwnProperty",h=("createTouch"in e.doc),i=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],j={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},k=(function(a,b){var c="y"==a?"scrollTop":"scrollLeft",d=b&&b.node?b.node.ownerDocument:e.doc;return d[c in d.documentElement?"documentElement":"body"][c]}),l=function(){this.returnValue=!1},m=function(){return this.originalEvent.preventDefault()},n=function(){this.cancelBubble=!0},o=function(){return this.originalEvent.stopPropagation()},p=function(){return e.doc.addEventListener?function(a,b,c,d){var e=h&&j[b]?j[b]:b,f=function(e){var f=k("y",d),i=k("x",d);if(h&&j[g](b))for(var l=0,n=e.targetTouches&&e.targetTouches.length;l<n;l++)if(e.targetTouches[l].target==a||a.contains(e.targetTouches[l].target)){var p=e;e=e.targetTouches[l],e.originalEvent=p,e.preventDefault=m,e.stopPropagation=o;break}var q=e.clientX+i,r=e.clientY+f;return c.call(d,e,q,r)};return b!==e&&a.addEventListener(b,f,!1),a.addEventListener(e,f,!1),function(){return b!==e&&a.removeEventListener(b,f,!1),a.removeEventListener(e,f,!1),!0}}:e.doc.attachEvent?function(a,b,c,d){var e=function(a){a=a||d.node.ownerDocument.window.event;var b=k("y",d),e=k("x",d),f=a.clientX+e,g=a.clientY+b;return a.preventDefault=a.preventDefault||l,a.stopPropagation=a.stopPropagation||n,c.call(d,a,f,g)};a.attachEvent("on"+b,e);var f=function(){return a.detachEvent("on"+b,e),!0};return f}:void 0}(),q=[],r=function(a){for(var c,d=a.clientX,e=a.clientY,f=k("y"),g=k("x"),i=q.length;i--;){if(c=q[i],h){for(var j,l=a.touches&&a.touches.length;l--;)if(j=a.touches[l],j.identifier==c.el._drag.id||c.el.node.contains(j.target)){d=j.clientX,e=j.clientY,(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();var m=c.el.node;m.nextSibling,m.parentNode,m.style.display;d+=g,e+=f,b("snap.drag.move."+c.el.id,c.move_scope||c.el,d-c.el._drag.x,e-c.el._drag.y,d,e,a)}},s=function(c){a.unmousemove(r).unmouseup(s);for(var d,e=q.length;e--;)d=q[e],d.el._drag={},b("snap.drag.end."+d.el.id,d.end_scope||d.start_scope||d.move_scope||d.el,c);q=[]},t=i.length;t--;)!function(b){a[b]=f[b]=function(c,d){return a.is(c,"function")&&(this.events=this.events||[],this.events.push({name:b,f:c,unbind:p(this.node||document,b,c,d||this)})),this},a["un"+b]=f["un"+b]=function(a){for(var c=this.events||[],d=c.length;d--;)if(c[d].name==b&&(c[d].f==a||!a))return c[d].unbind(),c.splice(d,1),!c.length&&delete this.events,this;return this}}(i[t]);f.hover=function(a,b,c,d){return this.mouseover(a,c).mouseout(b,d||c)},f.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var u=[];f.drag=function(c,d,e,f,g,h){function i(i,j,k){(i.originalEvent||i).preventDefault(),this._drag.x=j,this._drag.y=k,this._drag.id=i.identifier,!q.length&&a.mousemove(r).mouseup(s),q.push({el:this,move_scope:f,start_scope:g,end_scope:h}),d&&b.on("snap.drag.start."+this.id,d),c&&b.on("snap.drag.move."+this.id,c),e&&b.on("snap.drag.end."+this.id,e),b("snap.drag.start."+this.id,g||f||this,j,k,i)}if(!arguments.length){var j;return this.drag(function(a,b){this.attr({transform:j+(j?"T":"t")+[a,b]})},function(){j=this.transform().local})}return this._drag={},u.push({el:this,start:i}),this.mousedown(i),this},f.undrag=function(){for(var c=u.length;c--;)u[c].el==this&&(this.unmousedown(u[c].start),u.splice(c,1),b.unbind("snap.drag.*."+this.id));return!u.length&&a.unmousemove(r).unmouseup(s),this}}),d.plugin(function(a,c,d,e){var f=(c.prototype,d.prototype),g=/^\s*url\((.+)\)/,h=String,i=a._.$;a.filter={},f.filter=function(b){var d=this;"svg"!=d.type&&(d=d.paper);var e=a.parse(h(b)),f=a._.id(),g=(d.node.offsetWidth,d.node.offsetHeight,i("filter"));return i(g,{id:f,filterUnits:"userSpaceOnUse"}),g.appendChild(e.node),d.defs.appendChild(g),new c(g)},b.on("snap.util.getattr.filter",function(){b.stop();var c=i(this.node,"filter");if(c){var d=h(c).match(g);return d&&a.select(d[1])}}),b.on("snap.util.attr.filter",function(d){if(d instanceof c&&"filter"==d.type){b.stop();var e=d.node.id;e||(i(d.node,{id:d.id}),e=d.id),i(this.node,{filter:a.url(e)})}d&&"none"!=d||(b.stop(),this.node.removeAttribute("filter"))}),a.filter.blur=function(b,c){null==b&&(b=2);var d=null==c?b:[b,c];return a.format('<feGaussianBlur stdDeviation="{def}"/>',{def:d})},a.filter.blur.toString=function(){return this()},a.filter.shadow=function(b,c,d,e,f){return"string"==typeof d&&(e=d,f=e,d=4),"string"!=typeof e&&(f=e,e="#000"),e=e||"#000",null==d&&(d=4),null==f&&(f=1),null==b&&(b=0,c=2),null==c&&(c=b),e=a.color(e),a.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:e,dx:b,dy:c,blur:d,opacity:f})},a.filter.shadow.toString=function(){return this()},a.filter.grayscale=function(b){return null==b&&(b=1),a.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-b),b:.7152-.7152*(1-b),c:.0722-.0722*(1-b),d:.2126-.2126*(1-b),e:.7152+.2848*(1-b),f:.0722-.0722*(1-b),g:.2126-.2126*(1-b),h:.0722+.9278*(1-b)})},a.filter.grayscale.toString=function(){return this()},a.filter.sepia=function(b){return null==b&&(b=1),a.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-b),b:.769-.769*(1-b),c:.189-.189*(1-b),d:.349-.349*(1-b),e:.686+.314*(1-b),f:.168-.168*(1-b),g:.272-.272*(1-b),h:.534-.534*(1-b),i:.131+.869*(1-b)})},a.filter.sepia.toString=function(){return this()},a.filter.saturate=function(b){return null==b&&(b=1),a.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-b})},a.filter.saturate.toString=function(){return this()},a.filter.hueRotate=function(b){return b=b||0,a.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:b})},a.filter.hueRotate.toString=function(){return this()},a.filter.invert=function(b){return null==b&&(b=1),a.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:b,amount2:1-b})},a.filter.invert.toString=function(){return this()},a.filter.brightness=function(b){return null==b&&(b=1),a.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:b})},a.filter.brightness.toString=function(){return this()},a.filter.contrast=function(b){return null==b&&(b=1),a.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:b,amount2:.5-b/2})},a.filter.contrast.toString=function(){return this()}}),d})},{eve:185}],187:[function(a,b,c){"use strict";var d=b.exports=a("snapsvg");d.plugin(function(a,b){b.prototype.children=function(){for(var b=[],c=this.node.childNodes,d=0,e=c.length;d<e;d++)b[d]=new a(c[d]);return b}}),d.plugin(function(a,b,c,d){function e(a){return a.split(/\s+/)}function f(a){return a.join(" ")}function g(a){return e(a.attr("class")||"")}function h(a,b){a.attr("class",f(b))}b.prototype.addClass=function(a){var b,c,d=g(this),f=e(a);for(b=0,c;c=f[b];b++)d.indexOf(c)===-1&&d.push(c);return h(this,d),this},b.prototype.hasClass=function(a){if(!a)throw new Error("[snapsvg] syntax: hasClass(clsStr)");return g(this).indexOf(a)!==-1},b.prototype.removeClass=function(a){var b,c,d,f=g(this),i=e(a);for(b=0,c;c=i[b];b++)d=f.indexOf(c),d!==-1&&f.splice(d,1);return h(this,f),this}}),d.plugin(function(a,b,c,d){b.prototype.translate=function(b,c){var d=new a.Matrix;return d.translate(b,c),this.transform(d)}}),d.plugin(function(a){a.create=function(b,c){return a._.wrap(a._.$(b,c))}}),d.plugin(function(a,b,c,d){a.createSnapAt=function(b,c,d){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");return e.setAttribute("width",b),e.setAttribute("height",c),d||(d=document.body),d.appendChild(e),new a(e)}})},{snapsvg:186}],188:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],189:[function(a,b,c){function d(a){var b=a?a.length:0;return b?a[b-1]:void 0}b.exports=d},{}],190:[function(a,b,c){function d(a){if(i(a)&&!h(a)&&!(a instanceof e)){if(a instanceof f)return a;if(l.call(a,"__chain__")&&l.call(a,"__wrapped__"))return j(a)}return new f(a)}var e=a("../internal/LazyWrapper"),f=a("../internal/LodashWrapper"),g=a("../internal/baseLodash"),h=a("../lang/isArray"),i=a("../internal/isObjectLike"),j=a("../internal/wrapperClone"),k=Object.prototype,l=k.hasOwnProperty;d.prototype=g.prototype,b.exports=d},{"../internal/LazyWrapper":205,"../internal/LodashWrapper":206,"../internal/baseLodash":237,"../internal/isObjectLike":283,"../internal/wrapperClone":296,"../lang/isArray":298}],191:[function(a,b,c){b.exports=a("./some")},{"./some":199}],192:[function(a,b,c){function d(a,b,c){var d=h(a)?e:g;return c&&i(a,b,c)&&(b=void 0),"function"==typeof b&&void 0===c||(b=f(b,c,3)),d(a,b)}var e=a("../internal/arrayEvery"),f=a("../internal/baseCallback"),g=a("../internal/baseEvery"),h=a("../lang/isArray"),i=a("../internal/isIterateeCall");b.exports=d},{"../internal/arrayEvery":210,"../internal/baseCallback":218,"../internal/baseEvery":224,"../internal/isIterateeCall":279,"../lang/isArray":298}],193:[function(a,b,c){function d(a,b,c){var d=h(a)?e:g;return b=f(b,c,3),d(a,b)}var e=a("../internal/arrayFilter"),f=a("../internal/baseCallback"),g=a("../internal/baseFilter"),h=a("../lang/isArray");b.exports=d},{"../internal/arrayFilter":211,"../internal/baseCallback":218,"../internal/baseFilter":225,"../lang/isArray":298}],194:[function(a,b,c){var d=a("../internal/baseEach"),e=a("../internal/createFind"),f=e(d);b.exports=f},{"../internal/baseEach":223,"../internal/createFind":262}],195:[function(a,b,c){var d=a("../internal/arrayEach"),e=a("../internal/baseEach"),f=a("../internal/createForEach"),g=f(d,e);b.exports=g},{"../internal/arrayEach":209,"../internal/baseEach":223,"../internal/createForEach":263}],196:[function(a,b,c){var d=a("../internal/createAggregator"),e=Object.prototype,f=e.hasOwnProperty,g=d(function(a,b,c){f.call(a,c)?a[c].push(b):a[c]=[b]});b.exports=g},{"../internal/createAggregator":255}],197:[function(a,b,c){function d(a,b,c){var d=h(a)?e:g;return b=f(b,c,3),d(a,b)}var e=a("../internal/arrayMap"),f=a("../internal/baseCallback"),g=a("../internal/baseMap"),h=a("../lang/isArray");b.exports=d},{"../internal/arrayMap":212,"../internal/baseCallback":218,"../internal/baseMap":238,"../lang/isArray":298}],198:[function(a,b,c){var d=a("../internal/arrayReduce"),e=a("../internal/baseEach"),f=a("../internal/createReduce"),g=f(d,e);b.exports=g},{"../internal/arrayReduce":214,"../internal/baseEach":223,"../internal/createReduce":266}],199:[function(a,b,c){function d(a,b,c){var d=h(a)?e:g;return c&&i(a,b,c)&&(b=void 0),"function"==typeof b&&void 0===c||(b=f(b,c,3)),d(a,b)}var e=a("../internal/arraySome"),f=a("../internal/baseCallback"),g=a("../internal/baseSome"),h=a("../lang/isArray"),i=a("../internal/isIterateeCall");b.exports=d},{"../internal/arraySome":215,"../internal/baseCallback":218,"../internal/baseSome":248,"../internal/isIterateeCall":279,"../lang/isArray":298}],200:[function(a,b,c){var d=a("../internal/getNative"),e=d(Date,"now"),f=e||function(){return(new Date).getTime()};b.exports=f},{"../internal/getNative":275}],201:[function(a,b,c){var d=a("../internal/createWrapper"),e=a("../internal/replaceHolders"),f=a("./restParam"),g=1,h=32,i=f(function(a,b,c){var f=g;if(c.length){var j=e(c,i.placeholder);f|=h}return d(a,f,b,c,j)});i.placeholder={},b.exports=i},{"../internal/createWrapper":267,"../internal/replaceHolders":291,"./restParam":204}],202:[function(a,b,c){function d(a,b,c){function d(){r&&clearTimeout(r),n&&clearTimeout(n),t=0,n=r=s=void 0}function i(b,c){c&&clearTimeout(c),n=r=s=void 0,b&&(t=f(),o=a.apply(q,m),r||n||(m=q=void 0))}function j(){var a=b-(f()-p);a<=0||a>b?i(s,n):r=setTimeout(j,a)}function k(){i(v,r)}function l(){if(m=arguments,p=f(),q=this,s=v&&(r||!w),u===!1)var c=w&&!r;else{n||w||(t=p);var d=u-(p-t),e=d<=0||d>u;e?(n&&(n=clearTimeout(n)),t=p,o=a.apply(q,m)):n||(n=setTimeout(k,d))}return e&&r?r=clearTimeout(r):r||b===u||(r=setTimeout(j,b)),c&&(e=!0,o=a.apply(q,m)),!e||r||n||(m=q=void 0),o}var m,n,o,p,q,r,s,t=0,u=!1,v=!0;if("function"!=typeof a)throw new TypeError(g);if(b=b<0?0:+b||0,c===!0){var w=!0;v=!1}else e(c)&&(w=!!c.leading,u="maxWait"in c&&h(+c.maxWait||0,b),v="trailing"in c?!!c.trailing:v);return l.cancel=d,l}var e=a("../lang/isObject"),f=a("../date/now"),g="Expected a function",h=Math.max;b.exports=d},{"../date/now":200,"../lang/isObject":302}],203:[function(a,b,c){var d=a("../internal/baseDelay"),e=a("./restParam"),f=e(function(a,b){return d(a,1,b)});b.exports=f},{"../internal/baseDelay":221,"./restParam":204}],204:[function(a,b,c){function d(a,b){if("function"!=typeof a)throw new TypeError(e);return b=f(void 0===b?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,e=f(c.length-b,0),g=Array(e);++d<e;)g[d]=c[b+d];switch(b){case 0:return a.call(this,g);case 1:return a.call(this,c[0],g);case 2:return a.call(this,c[0],c[1],g)}var h=Array(b+1);for(d=-1;++d<b;)h[d]=c[d];return h[b]=g,a.apply(this,h)}}var e="Expected a function",f=Math.max;b.exports=d},{}],205:[function(a,b,c){function d(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}var e=a("./baseCreate"),f=a("./baseLodash"),g=Number.POSITIVE_INFINITY;d.prototype=e(f.prototype),d.prototype.constructor=d,b.exports=d},{"./baseCreate":220,"./baseLodash":237}],206:[function(a,b,c){function d(a,b,c){this.__wrapped__=a,this.__actions__=c||[],this.__chain__=!!b}var e=a("./baseCreate"),f=a("./baseLodash");d.prototype=e(f.prototype),d.prototype.constructor=d,b.exports=d},{"./baseCreate":220,"./baseLodash":237}],207:[function(a,b,c){(function(c){function d(a){var b=a?a.length:0;for(this.data={hash:h(null),set:new g};b--;)this.push(a[b])}var e=a("./cachePush"),f=a("./getNative"),g=f(c,"Set"),h=f(Object,"create");d.prototype.push=e,b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cachePush":252,"./getNative":275}],208:[function(a,b,c){function d(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}b.exports=d},{}],209:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}b.exports=d},{}],210:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}b.exports=d},{}],211:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[++e]=g)}return f}b.exports=d},{}],212:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}b.exports=d},{}],213:[function(a,b,c){function d(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}b.exports=d},{}],214:[function(a,b,c){function d(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}b.exports=d},{}],215:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}b.exports=d},{}],216:[function(a,b,c){function d(a,b,c){for(var d=-1,f=e(b),g=f.length;++d<g;){var h=f[d],i=a[h],j=c(i,b[h],h,a,b);(j===j?j===i:i!==i)&&(void 0!==i||h in a)||(a[h]=j)}return a}var e=a("../object/keys");b.exports=d},{"../object/keys":308}],217:[function(a,b,c){function d(a,b){return null==b?a:e(b,f(b),a)}var e=a("./baseCopy"),f=a("../object/keys");b.exports=d},{"../object/keys":308,"./baseCopy":219}],218:[function(a,b,c){function d(a,b,c){var d=typeof a;return"function"==d?void 0===b?a:g(a,b,c):null==a?h:"object"==d?e(a):void 0===b?i(a):f(a,b)}var e=a("./baseMatches"),f=a("./baseMatchesProperty"),g=a("./bindCallback"),h=a("../utility/identity"),i=a("../utility/property");b.exports=d},{"../utility/identity":314,"../utility/property":316,"./baseMatches":239,"./baseMatchesProperty":240,"./bindCallback":250}],219:[function(a,b,c){function d(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}b.exports=d},{}],220:[function(a,b,c){var d=a("../lang/isObject"),e=function(){function a(){}return function(b){if(d(b)){a.prototype=b;var c=new a;a.prototype=void 0}return c||{}}}();b.exports=e},{"../lang/isObject":302}],221:[function(a,b,c){function d(a,b,c){if("function"!=typeof a)throw new TypeError(e);return setTimeout(function(){a.apply(void 0,c)},b)}var e="Expected a function";b.exports=d},{}],222:[function(a,b,c){function d(a,b){var c=a?a.length:0,d=[];if(!c)return d;var i=-1,j=e,k=!0,l=k&&b.length>=h?g(b):null,m=b.length;l&&(j=f,k=!1,b=l);a:for(;++i<c;){var n=a[i];if(k&&n===n){for(var o=m;o--;)if(b[o]===n)continue a;d.push(n)}else j(b,n,0)<0&&d.push(n)}return d}var e=a("./baseIndexOf"),f=a("./cacheIndexOf"),g=a("./createCache"),h=200;b.exports=d},{"./baseIndexOf":233,"./cacheIndexOf":251,"./createCache":260}],223:[function(a,b,c){var d=a("./baseForOwn"),e=a("./createBaseEach"),f=e(d);b.exports=f},{"./baseForOwn":231,"./createBaseEach":257}],224:[function(a,b,c){function d(a,b){var c=!0;return e(a,function(a,d,e){return c=!!b(a,d,e)}),c}var e=a("./baseEach");b.exports=d},{"./baseEach":223}],225:[function(a,b,c){function d(a,b){var c=[];return e(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}var e=a("./baseEach");b.exports=d},{"./baseEach":223}],226:[function(a,b,c){function d(a,b,c,d){var e;return c(a,function(a,c,f){if(b(a,c,f))return e=d?c:a,!1}),e}b.exports=d},{}],227:[function(a,b,c){function d(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}b.exports=d},{}],228:[function(a,b,c){function d(a,b,c,j){j||(j=[]);for(var k=-1,l=a.length;++k<l;){var m=a[k];i(m)&&h(m)&&(c||g(m)||f(m))?b?d(m,b,c,j):e(j,m):c||(j[j.length]=m)}return j}var e=a("./arrayPush"),f=a("../lang/isArguments"),g=a("../lang/isArray"),h=a("./isArrayLike"),i=a("./isObjectLike");b.exports=d},{"../lang/isArguments":297,"../lang/isArray":298,"./arrayPush":213,"./isArrayLike":277,"./isObjectLike":283}],229:[function(a,b,c){var d=a("./createBaseFor"),e=d();b.exports=e},{"./createBaseFor":258}],230:[function(a,b,c){function d(a,b){return e(a,b,f)}var e=a("./baseFor"),f=a("../object/keysIn");b.exports=d},{"../object/keysIn":309,"./baseFor":229}],231:[function(a,b,c){function d(a,b){return e(a,b,f)}var e=a("./baseFor"),f=a("../object/keys");b.exports=d},{"../object/keys":308,"./baseFor":229}],232:[function(a,b,c){function d(a,b,c){if(null!=a){void 0!==c&&c in e(a)&&(b=[c]);for(var d=0,f=b.length;null!=a&&d<f;)a=a[b[d++]];return d&&d==f?a:void 0}}var e=a("./toObject");b.exports=d},{"./toObject":294}],233:[function(a,b,c){function d(a,b,c){if(b!==b)return e(a,c);for(var d=c-1,f=a.length;++d<f;)if(a[d]===b)return d;return-1}var e=a("./indexOfNaN");b.exports=d},{"./indexOfNaN":276}],234:[function(a,b,c){function d(a,b,c,h,i,j){return a===b||(null==a||null==b||!f(a)&&!g(b)?a!==a&&b!==b:e(a,b,d,c,h,i,j))}var e=a("./baseIsEqualDeep"),f=a("../lang/isObject"),g=a("./isObjectLike");b.exports=d},{"../lang/isObject":302,"./baseIsEqualDeep":235,"./isObjectLike":283}],235:[function(a,b,c){function d(a,b,c,d,m,p,q){var r=h(a),s=h(b),t=k,u=k;r||(t=o.call(a),t==j?t=l:t!=l&&(r=i(a))),s||(u=o.call(b),u==j?u=l:u!=l&&(s=i(b)));var v=t==l,w=u==l,x=t==u;if(x&&!r&&!v)return f(a,b,t);if(!m){var y=v&&n.call(a,"__wrapped__"),z=w&&n.call(b,"__wrapped__");if(y||z)return c(y?a.value():a,z?b.value():b,d,m,p,q)}if(!x)return!1;p||(p=[]),q||(q=[]);for(var A=p.length;A--;)if(p[A]==a)return q[A]==b;p.push(a),q.push(b);var B=(r?e:g)(a,b,c,d,m,p,q);return p.pop(),q.pop(),B}var e=a("./equalArrays"),f=a("./equalByTag"),g=a("./equalObjects"),h=a("../lang/isArray"),i=a("../lang/isTypedArray"),j="[object Arguments]",k="[object Array]",l="[object Object]",m=Object.prototype,n=m.hasOwnProperty,o=m.toString;b.exports=d},{"../lang/isArray":298,"../lang/isTypedArray":305,"./equalArrays":268,"./equalByTag":269,"./equalObjects":270}],236:[function(a,b,c){function d(a,b,c){var d=b.length,g=d,h=!c;if(null==a)return!g;for(a=f(a);d--;){var i=b[d];if(h&&i[2]?i[1]!==a[i[0]]:!(i[0]in a))return!1}for(;++d<g;){i=b[d];var j=i[0],k=a[j],l=i[1];if(h&&i[2]){if(void 0===k&&!(j in a))return!1}else{var m=c?c(k,l,j):void 0;if(!(void 0===m?e(l,k,c,!0):m))return!1}}return!0}var e=a("./baseIsEqual"),f=a("./toObject");b.exports=d},{"./baseIsEqual":234,"./toObject":294}],237:[function(a,b,c){function d(){}b.exports=d},{}],238:[function(a,b,c){function d(a,b){var c=-1,d=f(a)?Array(a.length):[];return e(a,function(a,e,f){d[++c]=b(a,e,f)}),d}var e=a("./baseEach"),f=a("./isArrayLike");b.exports=d},{"./baseEach":223,"./isArrayLike":277}],239:[function(a,b,c){function d(a){var b=f(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null!=a&&(a[c]===d&&(void 0!==d||c in g(a)))}}return function(a){return e(a,b)}}var e=a("./baseIsMatch"),f=a("./getMatchData"),g=a("./toObject");b.exports=d},{"./baseIsMatch":236,"./getMatchData":274,"./toObject":294}],240:[function(a,b,c){function d(a,b){var c=h(a),d=i(a)&&j(b),n=a+"";return a=m(a),function(h){if(null==h)return!1;var i=n;if(h=l(h),(c||!d)&&!(i in h)){if(h=1==a.length?h:e(h,g(a,0,-1)),null==h)return!1;i=k(a),h=l(h)}return h[i]===b?void 0!==b||i in h:f(b,h[i],void 0,!0)}}var e=a("./baseGet"),f=a("./baseIsEqual"),g=a("./baseSlice"),h=a("../lang/isArray"),i=a("./isKey"),j=a("./isStrictComparable"),k=a("../array/last"),l=a("./toObject"),m=a("./toPath");b.exports=d},{"../array/last":189,"../lang/isArray":298,"./baseGet":232,"./baseIsEqual":234,"./baseSlice":247,"./isKey":280,"./isStrictComparable":284,"./toObject":294,"./toPath":295}],241:[function(a,b,c){function d(a,b,c,m,n){if(!i(a))return a;var o=h(b)&&(g(b)||k(b)),p=o?void 0:l(b);return e(p||b,function(e,g){if(p&&(g=e,e=b[g]),j(e))m||(m=[]),n||(n=[]),f(a,b,g,d,c,m,n);else{var h=a[g],i=c?c(h,e,g,a,b):void 0,k=void 0===i;k&&(i=e),void 0===i&&(!o||g in a)||!k&&(i===i?i===h:h!==h)||(a[g]=i)}}),a}var e=a("./arrayEach"),f=a("./baseMergeDeep"),g=a("../lang/isArray"),h=a("./isArrayLike"),i=a("../lang/isObject"),j=a("./isObjectLike"),k=a("../lang/isTypedArray"),l=a("../object/keys");b.exports=d},{"../lang/isArray":298,"../lang/isObject":302,"../lang/isTypedArray":305,"../object/keys":308,"./arrayEach":209,"./baseMergeDeep":242,"./isArrayLike":277,"./isObjectLike":283}],242:[function(a,b,c){function d(a,b,c,d,l,m,n){for(var o=m.length,p=b[c];o--;)if(m[o]==p)return void(a[c]=n[o]);var q=a[c],r=l?l(q,p,c,a,b):void 0,s=void 0===r;s&&(r=p,h(p)&&(g(p)||j(p))?r=g(q)?q:h(q)?e(q):[]:i(p)||f(p)?r=f(q)?k(q):i(q)?q:{}:s=!1),m.push(p),n.push(r),s?a[c]=d(r,p,l,m,n):(r===r?r!==q:q===q)&&(a[c]=r)}var e=a("./arrayCopy"),f=a("../lang/isArguments"),g=a("../lang/isArray"),h=a("./isArrayLike"),i=a("../lang/isPlainObject"),j=a("../lang/isTypedArray"),k=a("../lang/toPlainObject");b.exports=d},{"../lang/isArguments":297,"../lang/isArray":298,"../lang/isPlainObject":303,"../lang/isTypedArray":305,"../lang/toPlainObject":306,"./arrayCopy":208,"./isArrayLike":277}],243:[function(a,b,c){function d(a){return function(b){return null==b?void 0:b[a]}}b.exports=d},{}],244:[function(a,b,c){function d(a){var b=a+"";return a=f(a),function(c){return e(c,a,b)}}var e=a("./baseGet"),f=a("./toPath");b.exports=d},{"./baseGet":232,"./toPath":295}],245:[function(a,b,c){function d(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}b.exports=d},{}],246:[function(a,b,c){var d=a("../utility/identity"),e=a("./metaMap"),f=e?function(a,b){return e.set(a,b),a}:d;b.exports=f},{"../utility/identity":314,"./metaMap":286}],247:[function(a,b,c){function d(a,b,c){var d=-1,e=a.length;b=null==b?0:+b||0,b<0&&(b=-b>e?0:e+b),c=void 0===c||c>e?e:+c||0,c<0&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Array(e);++d<e;)f[d]=a[d+b];return f}b.exports=d},{}],248:[function(a,b,c){function d(a,b){var c;return e(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}var e=a("./baseEach");b.exports=d},{"./baseEach":223}],249:[function(a,b,c){function d(a){return null==a?"":a+""}b.exports=d},{}],250:[function(a,b,c){function d(a,b,c){if("function"!=typeof a)return e;if(void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}var e=a("../utility/identity");b.exports=d},{"../utility/identity":314}],251:[function(a,b,c){function d(a,b){var c=a.data,d="string"==typeof b||e(b)?c.set.has(b):c.hash[b];return d?0:-1}var e=a("../lang/isObject");b.exports=d},{"../lang/isObject":302}],252:[function(a,b,c){function d(a){var b=this.data;"string"==typeof a||e(a)?b.set.add(a):b.hash[a]=!0}var e=a("../lang/isObject");b.exports=d},{"../lang/isObject":302}],253:[function(a,b,c){function d(a,b,c){for(var d=c.length,f=-1,g=e(a.length-d,0),h=-1,i=b.length,j=Array(i+g);++h<i;)j[h]=b[h];for(;++f<d;)j[c[f]]=a[f];for(;g--;)j[h++]=a[f++];return j}var e=Math.max;b.exports=d},{}],254:[function(a,b,c){function d(a,b,c){for(var d=-1,f=c.length,g=-1,h=e(a.length-f,0),i=-1,j=b.length,k=Array(h+j);++g<h;)k[g]=a[g];for(var l=g;++i<j;)k[l+i]=b[i];for(;++d<f;)k[l+c[d]]=a[g++];return k}var e=Math.max;b.exports=d},{}],255:[function(a,b,c){function d(a,b){return function(c,d,h){var i=b?b():{};if(d=e(d,h,3),g(c))for(var j=-1,k=c.length;++j<k;){var l=c[j];a(i,l,d(l,j,c),c)}else f(c,function(b,c,e){a(i,b,d(b,c,e),e)});return i}}var e=a("./baseCallback"),f=a("./baseEach"),g=a("../lang/isArray");b.exports=d},{"../lang/isArray":298,"./baseCallback":218,"./baseEach":223}],256:[function(a,b,c){function d(a){return g(function(b,c){var d=-1,g=null==b?0:c.length,h=g>2?c[g-2]:void 0,i=g>2?c[2]:void 0,j=g>1?c[g-1]:void 0;for("function"==typeof h?(h=e(h,j,5),g-=2):(h="function"==typeof j?j:void 0,g-=h?1:0),i&&f(c[0],c[1],i)&&(h=g<3?void 0:h,g=1);++d<g;){var k=c[d];k&&a(b,k,h)}return b})}var e=a("./bindCallback"),f=a("./isIterateeCall"),g=a("../function/restParam");b.exports=d},{"../function/restParam":204,"./bindCallback":250,"./isIterateeCall":279}],257:[function(a,b,c){function d(a,b){return function(c,d){var h=c?e(c):0;if(!f(h))return a(c,d);for(var i=b?h:-1,j=g(c);(b?i--:++i<h)&&d(j[i],i,j)!==!1;);return c}}var e=a("./getLength"),f=a("./isLength"),g=a("./toObject");b.exports=d},{"./getLength":273,"./isLength":282,"./toObject":294}],258:[function(a,b,c){function d(a){return function(b,c,d){for(var f=e(b),g=d(b),h=g.length,i=a?h:-1;a?i--:++i<h;){var j=g[i];if(c(f[j],j,f)===!1)break}return b}}var e=a("./toObject");b.exports=d},{"./toObject":294}],259:[function(a,b,c){(function(c){function d(a,b){function d(){var e=this&&this!==c&&this instanceof d?f:a;return e.apply(b,arguments)}var f=e(a);return d}var e=a("./createCtorWrapper");b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./createCtorWrapper":261}],260:[function(a,b,c){(function(c){function d(a){return h&&g?new e(a):null}var e=a("./SetCache"),f=a("./getNative"),g=f(c,"Set"),h=f(Object,"create");b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./SetCache":207,"./getNative":275}],261:[function(a,b,c){function d(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);
case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=e(a.prototype),d=a.apply(c,b);return f(d)?d:c}}var e=a("./baseCreate"),f=a("../lang/isObject");b.exports=d},{"../lang/isObject":302,"./baseCreate":220}],262:[function(a,b,c){function d(a,b){return function(c,d,i){if(d=e(d,i,3),h(c)){var j=g(c,d,b);return j>-1?c[j]:void 0}return f(c,d,a)}}var e=a("./baseCallback"),f=a("./baseFind"),g=a("./baseFindIndex"),h=a("../lang/isArray");b.exports=d},{"../lang/isArray":298,"./baseCallback":218,"./baseFind":226,"./baseFindIndex":227}],263:[function(a,b,c){function d(a,b){return function(c,d,g){return"function"==typeof d&&void 0===g&&f(c)?a(c,d):b(c,e(d,g,3))}}var e=a("./bindCallback"),f=a("../lang/isArray");b.exports=d},{"../lang/isArray":298,"./bindCallback":250}],264:[function(a,b,c){(function(c){function d(a,b,v,w,x,y,z,A,B,C){function D(){for(var o=arguments.length,p=o,q=Array(o);p--;)q[p]=arguments[p];if(w&&(q=f(q,w,x)),y&&(q=g(q,y,z)),H||J){var t=D.placeholder,L=k(q,t);if(o-=L.length,o<C){var M=A?e(A):void 0,N=u(C-o,0),O=H?L:void 0,P=H?void 0:L,Q=H?q:void 0,R=H?void 0:q;b|=H?r:s,b&=~(H?s:r),I||(b&=~(m|n));var S=[a,b,v,Q,O,R,P,M,B,N],T=d.apply(void 0,S);return i(a)&&l(T,S),T.placeholder=t,T}}var U=F?v:this,V=G?U[a]:a;return A&&(q=j(q,A)),E&&B<q.length&&(q.length=B),this&&this!==c&&this instanceof D&&(V=K||h(a)),V.apply(U,q)}var E=b&t,F=b&m,G=b&n,H=b&p,I=b&o,J=b&q,K=G?void 0:h(a);return D}var e=a("./arrayCopy"),f=a("./composeArgs"),g=a("./composeArgsRight"),h=a("./createCtorWrapper"),i=a("./isLaziable"),j=a("./reorder"),k=a("./replaceHolders"),l=a("./setData"),m=1,n=2,o=4,p=8,q=16,r=32,s=64,t=128,u=Math.max;b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./arrayCopy":208,"./composeArgs":253,"./composeArgsRight":254,"./createCtorWrapper":261,"./isLaziable":281,"./reorder":290,"./replaceHolders":291,"./setData":292}],265:[function(a,b,c){(function(c){function d(a,b,d,g){function h(){for(var b=-1,e=arguments.length,f=-1,k=g.length,l=Array(k+e);++f<k;)l[f]=g[f];for(;e--;)l[f++]=arguments[++b];var m=this&&this!==c&&this instanceof h?j:a;return m.apply(i?d:this,l)}var i=b&f,j=e(a);return h}var e=a("./createCtorWrapper"),f=1;b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./createCtorWrapper":261}],266:[function(a,b,c){function d(a,b){return function(c,d,h,i){var j=arguments.length<3;return"function"==typeof d&&void 0===i&&g(c)?a(c,d,h,j):f(c,e(d,i,4),h,j,b)}}var e=a("./baseCallback"),f=a("./baseReduce"),g=a("../lang/isArray");b.exports=d},{"../lang/isArray":298,"./baseCallback":218,"./baseReduce":245}],267:[function(a,b,c){function d(a,b,c,d,r,s,t,u){var v=b&m;if(!v&&"function"!=typeof a)throw new TypeError(p);var w=d?d.length:0;if(w||(b&=~(n|o),d=r=void 0),w-=r?r.length:0,b&o){var x=d,y=r;d=r=void 0}var z=v?void 0:i(a),A=[a,b,c,d,r,x,y,s,t,u];if(z&&(j(A,z),b=A[1],u=A[9]),A[9]=null==u?v?0:a.length:q(u-w,0)||0,b==l)var B=f(A[0],A[2]);else B=b!=n&&b!=(l|n)||A[4].length?g.apply(void 0,A):h.apply(void 0,A);var C=z?e:k;return C(B,A)}var e=a("./baseSetData"),f=a("./createBindWrapper"),g=a("./createHybridWrapper"),h=a("./createPartialWrapper"),i=a("./getData"),j=a("./mergeData"),k=a("./setData"),l=1,m=2,n=32,o=64,p="Expected a function",q=Math.max;b.exports=d},{"./baseSetData":246,"./createBindWrapper":259,"./createHybridWrapper":264,"./createPartialWrapper":265,"./getData":271,"./mergeData":285,"./setData":292}],268:[function(a,b,c){function d(a,b,c,d,f,g,h){var i=-1,j=a.length,k=b.length;if(j!=k&&!(f&&k>j))return!1;for(;++i<j;){var l=a[i],m=b[i],n=d?d(f?m:l,f?l:m,i):void 0;if(void 0!==n){if(n)continue;return!1}if(f){if(!e(b,function(a){return l===a||c(l,a,d,f,g,h)}))return!1}else if(l!==m&&!c(l,m,d,f,g,h))return!1}return!0}var e=a("./arraySome");b.exports=d},{"./arraySome":215}],269:[function(a,b,c){function d(a,b,c){switch(c){case e:case f:return+a==+b;case g:return a.name==b.name&&a.message==b.message;case h:return a!=+a?b!=+b:a==+b;case i:case j:return a==b+""}return!1}var e="[object Boolean]",f="[object Date]",g="[object Error]",h="[object Number]",i="[object RegExp]",j="[object String]";b.exports=d},{}],270:[function(a,b,c){function d(a,b,c,d,f,h,i){var j=e(a),k=j.length,l=e(b),m=l.length;if(k!=m&&!f)return!1;for(var n=k;n--;){var o=j[n];if(!(f?o in b:g.call(b,o)))return!1}for(var p=f;++n<k;){o=j[n];var q=a[o],r=b[o],s=d?d(f?r:q,f?q:r,o):void 0;if(!(void 0===s?c(q,r,d,f,h,i):s))return!1;p||(p="constructor"==o)}if(!p){var t=a.constructor,u=b.constructor;if(t!=u&&"constructor"in a&&"constructor"in b&&!("function"==typeof t&&t instanceof t&&"function"==typeof u&&u instanceof u))return!1}return!0}var e=a("../object/keys"),f=Object.prototype,g=f.hasOwnProperty;b.exports=d},{"../object/keys":308}],271:[function(a,b,c){var d=a("./metaMap"),e=a("../utility/noop"),f=d?function(a){return d.get(a)}:e;b.exports=f},{"../utility/noop":315,"./metaMap":286}],272:[function(a,b,c){function d(a){for(var b=a.name+"",c=e[b],d=c?c.length:0;d--;){var f=c[d],g=f.func;if(null==g||g==a)return f.name}return b}var e=a("./realNames");b.exports=d},{"./realNames":289}],273:[function(a,b,c){var d=a("./baseProperty"),e=d("length");b.exports=e},{"./baseProperty":243}],274:[function(a,b,c){function d(a){for(var b=f(a),c=b.length;c--;)b[c][2]=e(b[c][1]);return b}var e=a("./isStrictComparable"),f=a("../object/pairs");b.exports=d},{"../object/pairs":312,"./isStrictComparable":284}],275:[function(a,b,c){function d(a,b){var c=null==a?void 0:a[b];return e(c)?c:void 0}var e=a("../lang/isNative");b.exports=d},{"../lang/isNative":300}],276:[function(a,b,c){function d(a,b,c){for(var d=a.length,e=b+(c?0:-1);c?e--:++e<d;){var f=a[e];if(f!==f)return e}return-1}b.exports=d},{}],277:[function(a,b,c){function d(a){return null!=a&&f(e(a))}var e=a("./getLength"),f=a("./isLength");b.exports=d},{"./getLength":273,"./isLength":282}],278:[function(a,b,c){function d(a,b){return a="number"==typeof a||e.test(a)?+a:-1,b=null==b?f:b,a>-1&&a%1==0&&a<b}var e=/^\d+$/,f=9007199254740991;b.exports=d},{}],279:[function(a,b,c){function d(a,b,c){if(!g(c))return!1;var d=typeof b;if("number"==d?e(c)&&f(b,c.length):"string"==d&&b in c){var h=c[b];return a===a?a===h:h!==h}return!1}var e=a("./isArrayLike"),f=a("./isIndex"),g=a("../lang/isObject");b.exports=d},{"../lang/isObject":302,"./isArrayLike":277,"./isIndex":278}],280:[function(a,b,c){function d(a,b){var c=typeof a;if("string"==c&&h.test(a)||"number"==c)return!0;if(e(a))return!1;var d=!g.test(a);return d||null!=b&&a in f(b)}var e=a("../lang/isArray"),f=a("./toObject"),g=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,h=/^\w*$/;b.exports=d},{"../lang/isArray":298,"./toObject":294}],281:[function(a,b,c){function d(a){var b=g(a),c=h[b];if("function"!=typeof c||!(b in e.prototype))return!1;if(a===c)return!0;var d=f(c);return!!d&&a===d[0]}var e=a("./LazyWrapper"),f=a("./getData"),g=a("./getFuncName"),h=a("../chain/lodash");b.exports=d},{"../chain/lodash":190,"./LazyWrapper":205,"./getData":271,"./getFuncName":272}],282:[function(a,b,c){function d(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=e}var e=9007199254740991;b.exports=d},{}],283:[function(a,b,c){function d(a){return!!a&&"object"==typeof a}b.exports=d},{}],284:[function(a,b,c){function d(a){return a===a&&!e(a)}var e=a("../lang/isObject");b.exports=d},{"../lang/isObject":302}],285:[function(a,b,c){function d(a,b){var c=a[1],d=b[1],p=c|d,q=p<l,r=d==l&&c==k||d==l&&c==m&&a[7].length<=b[8]||d==(l|m)&&c==k;if(!q&&!r)return a;d&i&&(a[2]=b[2],p|=c&i?0:j);var s=b[3];if(s){var t=a[3];a[3]=t?f(t,s,b[4]):e(s),a[4]=t?h(a[3],n):e(b[4])}return s=b[5],s&&(t=a[5],a[5]=t?g(t,s,b[6]):e(s),a[6]=t?h(a[5],n):e(b[6])),s=b[7],s&&(a[7]=e(s)),d&l&&(a[8]=null==a[8]?b[8]:o(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=p,a}var e=a("./arrayCopy"),f=a("./composeArgs"),g=a("./composeArgsRight"),h=a("./replaceHolders"),i=1,j=4,k=8,l=128,m=256,n="__lodash_placeholder__",o=Math.min;b.exports=d},{"./arrayCopy":208,"./composeArgs":253,"./composeArgsRight":254,"./replaceHolders":291}],286:[function(a,b,c){(function(c){var d=a("./getNative"),e=d(c,"WeakMap"),f=e&&new e;b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./getNative":275}],287:[function(a,b,c){function d(a,b){a=e(a);for(var c=-1,d=b.length,f={};++c<d;){var g=b[c];g in a&&(f[g]=a[g])}return f}var e=a("./toObject");b.exports=d},{"./toObject":294}],288:[function(a,b,c){function d(a,b){var c={};return e(a,function(a,d,e){b(a,d,e)&&(c[d]=a)}),c}var e=a("./baseForIn");b.exports=d},{"./baseForIn":230}],289:[function(a,b,c){var d={};b.exports=d},{}],290:[function(a,b,c){function d(a,b){for(var c=a.length,d=g(b.length,c),h=e(a);d--;){var i=b[d];a[d]=f(i,c)?h[i]:void 0}return a}var e=a("./arrayCopy"),f=a("./isIndex"),g=Math.min;b.exports=d},{"./arrayCopy":208,"./isIndex":278}],291:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length,f=-1,g=[];++c<d;)a[c]===b&&(a[c]=e,g[++f]=c);return g}var e="__lodash_placeholder__";b.exports=d},{}],292:[function(a,b,c){var d=a("./baseSetData"),e=a("../date/now"),f=150,g=16,h=function(){var a=0,b=0;return function(c,h){var i=e(),j=g-(i-b);if(b=i,j>0){if(++a>=f)return c}else a=0;return d(c,h)}}();b.exports=h},{"../date/now":200,"./baseSetData":246}],293:[function(a,b,c){function d(a){for(var b=i(a),c=b.length,d=c&&a.length,j=!!d&&h(d)&&(f(a)||e(a)),l=-1,m=[];++l<c;){var n=b[l];(j&&g(n,d)||k.call(a,n))&&m.push(n)}return m}var e=a("../lang/isArguments"),f=a("../lang/isArray"),g=a("./isIndex"),h=a("./isLength"),i=a("../object/keysIn"),j=Object.prototype,k=j.hasOwnProperty;b.exports=d},{"../lang/isArguments":297,"../lang/isArray":298,"../object/keysIn":309,"./isIndex":278,"./isLength":282}],294:[function(a,b,c){function d(a){return e(a)?a:Object(a)}var e=a("../lang/isObject");b.exports=d},{"../lang/isObject":302}],295:[function(a,b,c){function d(a){if(f(a))return a;var b=[];return e(a).replace(g,function(a,c,d,e){b.push(d?e.replace(h,"$1"):c||a)}),b}var e=a("./baseToString"),f=a("../lang/isArray"),g=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,h=/\\(\\)?/g;b.exports=d},{"../lang/isArray":298,"./baseToString":249}],296:[function(a,b,c){function d(a){return a instanceof e?a.clone():new f(a.__wrapped__,a.__chain__,g(a.__actions__))}var e=a("./LazyWrapper"),f=a("./LodashWrapper"),g=a("./arrayCopy");b.exports=d},{"./LazyWrapper":205,"./LodashWrapper":206,"./arrayCopy":208}],297:[function(a,b,c){function d(a){return f(a)&&e(a)&&h.call(a,"callee")&&!i.call(a,"callee")}var e=a("../internal/isArrayLike"),f=a("../internal/isObjectLike"),g=Object.prototype,h=g.hasOwnProperty,i=g.propertyIsEnumerable;b.exports=d},{"../internal/isArrayLike":277,"../internal/isObjectLike":283}],298:[function(a,b,c){var d=a("../internal/getNative"),e=a("../internal/isLength"),f=a("../internal/isObjectLike"),g="[object Array]",h=Object.prototype,i=h.toString,j=d(Array,"isArray"),k=j||function(a){return f(a)&&e(a.length)&&i.call(a)==g};b.exports=k},{"../internal/getNative":275,"../internal/isLength":282,"../internal/isObjectLike":283}],299:[function(a,b,c){function d(a){return e(a)&&h.call(a)==f}var e=a("./isObject"),f="[object Function]",g=Object.prototype,h=g.toString;b.exports=d},{"./isObject":302}],300:[function(a,b,c){function d(a){return null!=a&&(e(a)?k.test(i.call(a)):f(a)&&g.test(a))}var e=a("./isFunction"),f=a("../internal/isObjectLike"),g=/^\[object .+?Constructor\]$/,h=Object.prototype,i=Function.prototype.toString,j=h.hasOwnProperty,k=RegExp("^"+i.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");b.exports=d},{"../internal/isObjectLike":283,"./isFunction":299}],301:[function(a,b,c){function d(a){return"number"==typeof a||e(a)&&h.call(a)==f}var e=a("../internal/isObjectLike"),f="[object Number]",g=Object.prototype,h=g.toString;b.exports=d},{"../internal/isObjectLike":283}],302:[function(a,b,c){function d(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}b.exports=d},{}],303:[function(a,b,c){function d(a){var b;if(!g(a)||k.call(a)!=h||f(a)||!j.call(a,"constructor")&&(b=a.constructor,"function"==typeof b&&!(b instanceof b)))return!1;var c;return e(a,function(a,b){c=b}),void 0===c||j.call(a,c)}var e=a("../internal/baseForIn"),f=a("./isArguments"),g=a("../internal/isObjectLike"),h="[object Object]",i=Object.prototype,j=i.hasOwnProperty,k=i.toString;b.exports=d},{"../internal/baseForIn":230,"../internal/isObjectLike":283,"./isArguments":297}],304:[function(a,b,c){function d(a){return"string"==typeof a||e(a)&&h.call(a)==f}var e=a("../internal/isObjectLike"),f="[object String]",g=Object.prototype,h=g.toString;b.exports=d},{"../internal/isObjectLike":283}],305:[function(a,b,c){function d(a){return f(a)&&e(a.length)&&!!D[F.call(a)]}var e=a("../internal/isLength"),f=a("../internal/isObjectLike"),g="[object Arguments]",h="[object Array]",i="[object Boolean]",j="[object Date]",k="[object Error]",l="[object Function]",m="[object Map]",n="[object Number]",o="[object Object]",p="[object RegExp]",q="[object Set]",r="[object String]",s="[object WeakMap]",t="[object ArrayBuffer]",u="[object Float32Array]",v="[object Float64Array]",w="[object Int8Array]",x="[object Int16Array]",y="[object Int32Array]",z="[object Uint8Array]",A="[object Uint8ClampedArray]",B="[object Uint16Array]",C="[object Uint32Array]",D={};D[u]=D[v]=D[w]=D[x]=D[y]=D[z]=D[A]=D[B]=D[C]=!0,D[g]=D[h]=D[t]=D[i]=D[j]=D[k]=D[l]=D[m]=D[n]=D[o]=D[p]=D[q]=D[r]=D[s]=!1;var E=Object.prototype,F=E.toString;b.exports=d},{"../internal/isLength":282,"../internal/isObjectLike":283}],306:[function(a,b,c){function d(a){return e(a,f(a))}var e=a("../internal/baseCopy"),f=a("../object/keysIn");b.exports=d},{"../internal/baseCopy":219,"../object/keysIn":309}],307:[function(a,b,c){var d=a("../internal/assignWith"),e=a("../internal/baseAssign"),f=a("../internal/createAssigner"),g=f(function(a,b,c){return c?d(a,b,c):e(a,b)});b.exports=g},{"../internal/assignWith":216,"../internal/baseAssign":217,"../internal/createAssigner":256}],308:[function(a,b,c){var d=a("../internal/getNative"),e=a("../internal/isArrayLike"),f=a("../lang/isObject"),g=a("../internal/shimKeys"),h=d(Object,"keys"),i=h?function(a){var b=null==a?void 0:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&e(a)?g(a):f(a)?h(a):[]}:g;b.exports=i},{"../internal/getNative":275,"../internal/isArrayLike":277,"../internal/shimKeys":293,"../lang/isObject":302}],309:[function(a,b,c){function d(a){if(null==a)return[];i(a)||(a=Object(a));var b=a.length;b=b&&h(b)&&(f(a)||e(a))&&b||0;for(var c=a.constructor,d=-1,j="function"==typeof c&&c.prototype===a,l=Array(b),m=b>0;++d<b;)l[d]=d+"";for(var n in a)m&&g(n,b)||"constructor"==n&&(j||!k.call(a,n))||l.push(n);return l}var e=a("../lang/isArguments"),f=a("../lang/isArray"),g=a("../internal/isIndex"),h=a("../internal/isLength"),i=a("../lang/isObject"),j=Object.prototype,k=j.hasOwnProperty;b.exports=d},{"../internal/isIndex":278,"../internal/isLength":282,"../lang/isArguments":297,"../lang/isArray":298,"../lang/isObject":302}],310:[function(a,b,c){var d=a("../internal/baseMerge"),e=a("../internal/createAssigner"),f=e(d);b.exports=f},{"../internal/baseMerge":241,"../internal/createAssigner":256}],311:[function(a,b,c){var d=a("../internal/arrayMap"),e=a("../internal/baseDifference"),f=a("../internal/baseFlatten"),g=a("../internal/bindCallback"),h=a("./keysIn"),i=a("../internal/pickByArray"),j=a("../internal/pickByCallback"),k=a("../function/restParam"),l=k(function(a,b){if(null==a)return{};if("function"!=typeof b[0]){var b=d(f(b),String);return i(a,e(h(a),b))}var c=g(b[0],b[1],3);return j(a,function(a,b,d){return!c(a,b,d)})});b.exports=l},{"../function/restParam":204,"../internal/arrayMap":212,"../internal/baseDifference":222,"../internal/baseFlatten":228,"../internal/bindCallback":250,"../internal/pickByArray":287,"../internal/pickByCallback":288,"./keysIn":309}],312:[function(a,b,c){function d(a){a=f(a);for(var b=-1,c=e(a),d=c.length,g=Array(d);++b<d;){var h=c[b];g[b]=[h,a[h]]}return g}var e=a("./keys"),f=a("../internal/toObject");b.exports=d},{"../internal/toObject":294,"./keys":308}],313:[function(a,b,c){var d=a("../internal/baseFlatten"),e=a("../internal/bindCallback"),f=a("../internal/pickByArray"),g=a("../internal/pickByCallback"),h=a("../function/restParam"),i=h(function(a,b){return null==a?{}:"function"==typeof b[0]?g(a,e(b[0],b[1],3)):f(a,d(b))});b.exports=i},{"../function/restParam":204,"../internal/baseFlatten":228,"../internal/bindCallback":250,"../internal/pickByArray":287,"../internal/pickByCallback":288}],314:[function(a,b,c){function d(a){return a}b.exports=d},{}],315:[function(a,b,c){function d(){}b.exports=d},{}],316:[function(a,b,c){function d(a){return g(a)?e(a):f(a)}var e=a("../internal/baseProperty"),f=a("../internal/basePropertyDeep"),g=a("../internal/isKey");b.exports=d},{"../internal/baseProperty":243,"../internal/basePropertyDeep":244,"../internal/isKey":280}],317:[function(a,b,c){b.exports=function(a,b,c){return 2==arguments.length?a.getAttribute(b):null===c?a.removeAttribute(b):(a.setAttribute(b,c),a)}},{}],318:[function(a,b,c){b.exports=a("component-classes")},{"component-classes":326}],319:[function(a,b,c){b.exports=function(a){for(var b;a.childNodes.length;)b=a.childNodes[0],a.removeChild(b);return a}},{}],320:[function(a,b,c){b.exports=a("component-closest")},{"component-closest":328}],321:[function(a,b,c){b.exports=a("component-delegate")},{"component-delegate":329}],322:[function(a,b,c){b.exports=a("domify")},{domify:333}],323:[function(a,b,c){b.exports=a("component-event")},{"component-event":330}],324:[function(a,b,c){b.exports=a("component-query")},{"component-query":332}],325:[function(a,b,c){b.exports=function(a){a.parentNode&&a.parentNode.removeChild(a)}},{}],326:[function(a,b,c){function d(a){if(!a||!a.nodeType)throw new Error("A DOM element reference is required");this.el=a,this.list=a.classList}try{var e=a("indexof")}catch(f){var e=a("component-indexof")}var g=/\s+/,h=Object.prototype.toString;b.exports=function(a){return new d(a)},d.prototype.add=function(a){if(this.list)return this.list.add(a),this;var b=this.array(),c=e(b,a);return~c||b.push(a),this.el.className=b.join(" "),this},d.prototype.remove=function(a){if("[object RegExp]"==h.call(a))return this.removeMatching(a);if(this.list)return this.list.remove(a),this;var b=this.array(),c=e(b,a);return~c&&b.splice(c,1),this.el.className=b.join(" "),this},d.prototype.removeMatching=function(a){for(var b=this.array(),c=0;c<b.length;c++)a.test(b[c])&&this.remove(b[c]);return this},d.prototype.toggle=function(a,b){return this.list?("undefined"!=typeof b?b!==this.list.toggle(a,b)&&this.list.toggle(a):this.list.toggle(a),this):("undefined"!=typeof b?b?this.add(a):this.remove(a):this.has(a)?this.remove(a):this.add(a),this)},d.prototype.array=function(){var a=this.el.getAttribute("class")||"",b=a.replace(/^\s+|\s+$/g,""),c=b.split(g);return""===c[0]&&c.shift(),c},d.prototype.has=d.prototype.contains=function(a){return this.list?this.list.contains(a):!!~e(this.array(),a)}},{"component-indexof":327,indexof:327}],327:[function(a,b,c){b.exports=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}},{}],328:[function(a,b,c){var d=a("matches-selector");b.exports=function(a,b,c,e){for(a=c?{parentNode:a}:a,e=e||document;(a=a.parentNode)&&a!==document;){if(d(a,b))return a;if(a===e)return}}},{"matches-selector":331}],329:[function(a,b,c){try{var d=a("closest")}catch(e){var d=a("component-closest")}try{var f=a("event")}catch(e){var f=a("component-event")}c.bind=function(a,b,c,e,g){return f.bind(a,c,function(c){var f=c.target||c.srcElement;c.delegateTarget=d(f,b,!0,a),c.delegateTarget&&e.call(a,c)},g)},c.unbind=function(a,b,c,d){f.unbind(a,b,c,d)}},{closest:328,"component-closest":328,"component-event":330,event:330}],330:[function(a,b,c){var d=window.addEventListener?"addEventListener":"attachEvent",e=window.removeEventListener?"removeEventListener":"detachEvent",f="addEventListener"!==d?"on":"";c.bind=function(a,b,c,e){return a[d](f+b,c,e||!1),c},c.unbind=function(a,b,c,d){return a[e](f+b,c,d||!1),c}},{}],331:[function(a,b,c){function d(a,b){if(!a||1!==a.nodeType)return!1;if(h)return h.call(a,b);for(var c=e.all(b,a.parentNode),d=0;d<c.length;++d)if(c[d]==a)return!0;return!1}try{var e=a("query")}catch(f){var e=a("component-query")}var g=Element.prototype,h=g.matches||g.webkitMatchesSelector||g.mozMatchesSelector||g.msMatchesSelector||g.oMatchesSelector;b.exports=d},{"component-query":332,query:332}],332:[function(a,b,c){function d(a,b){return b.querySelector(a)}c=b.exports=function(a,b){return b=b||document,d(a,b)},c.all=function(a,b){return b=b||document,b.querySelectorAll(a)},c.engine=function(a){if(!a.one)throw new Error(".one callback required");if(!a.all)throw new Error(".all callback required");return d=a.one,c.all=a.all,c}},{}],333:[function(a,b,c){function d(a,b){if("string"!=typeof a)throw new TypeError("String expected");b||(b=document);var c=/<([\w:]+)/.exec(a);if(!c)return b.createTextNode(a);a=a.replace(/^\s+|\s+$/g,"");var d=c[1];if("body"==d){var e=b.createElement("html");return e.innerHTML=a,e.removeChild(e.lastChild)}var f=g[d]||g._default,h=f[0],i=f[1],j=f[2],e=b.createElement("div");for(e.innerHTML=i+a+j;h--;)e=e.lastChild;if(e.firstChild==e.lastChild)return e.removeChild(e.firstChild);for(var k=b.createDocumentFragment();e.firstChild;)k.appendChild(e.removeChild(e.firstChild));return k}b.exports=d;var e,f=!1;"undefined"!=typeof document&&(e=document.createElement("div"),e.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',f=!e.getElementsByTagName("link").length,e=void 0);var g={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:f?[1,"X<div>","</div>"]:[0,"",""]};g.td=g.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],g.option=g.optgroup=[1,'<select multiple="multiple">',"</select>"],g.thead=g.tbody=g.colgroup=g.caption=g.tfoot=[1,"<table>","</table>"],g.polyline=g.ellipse=g.polygon=g.circle=g.text=g.line=g.path=g.rect=g.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],334:[function(a,b,c){b.exports=a("./lib/refs"),b.exports.Collection=a("./lib/collection")},{"./lib/collection":335,"./lib/refs":336}],335:[function(a,b,c){"use strict";function d(a,b,c,d){var e=c.inverse;return Object.defineProperty(a,"remove",{value:function(a){var c=this.indexOf(a);return c!==-1&&(this.splice(c,1),b.unset(a,e,d)),a}}),Object.defineProperty(a,"contains",{value:function(a){return this.indexOf(a)!==-1}}),Object.defineProperty(a,"add",{value:function(a){this.contains(a)||(this.push(a),b.set(a,e,d))}}),Object.defineProperty(a,"__refs_collection",{value:!0}),a}function e(a){return a.__refs_collection===!0}b.exports.extend=d,b.exports.isExtended=e},{}],336:[function(a,b,c){"use strict";function d(a,b){return Object.prototype.hasOwnProperty.call(a,b.name||b)}function e(a,b,c){Object.defineProperty(c,b.name,{enumerable:b.enumerable,value:h.extend(c[b.name]||[],a,b,c)})}function f(a,b,c){var d=b.inverse,e=c[b.name];Object.defineProperty(c,b.name,{enumerable:b.enumerable,get:function(){return e},set:function(b){if(b!==e){var f=e;e=null,f&&a.unset(f,d,c),e=b,a.set(e,d,c)}}})}function g(a,b){return this instanceof g?(a.inverse=b,b.inverse=a,this.props={},this.props[a.name]=a,void(this.props[b.name]=b)):new g(a,b)}var h=a("./collection");g.prototype.bind=function(a,b){if("string"==typeof b){if(!this.props[b])throw new Error("no property <"+b+"> in ref");b=this.props[b]}b.collection?e(this,b,a):f(this,b,a)},g.prototype.ensureRefsCollection=function(a,b){var c=a[b.name];return h.isExtended(c)||e(this,b,a),c},g.prototype.ensureBound=function(a,b){d(a,b)||this.bind(a,b)},g.prototype.unset=function(a,b,c){a&&(this.ensureBound(a,b),b.collection?this.ensureRefsCollection(a,b).remove(c):a[b.name]=void 0)},g.prototype.set=function(a,b,c){a&&(this.ensureBound(a,b),b.collection?this.ensureRefsCollection(a,b).add(c):a[b.name]=c)},b.exports=g},{"./collection":335}],337:[function(a,b,c){"use strict";function d(a){f.call(this,a)}var e=a("inherits"),f=a("./Viewer");e(d,f),b.exports=d,d.prototype._navigationModules=[a("diagram-js/lib/navigation/zoomscroll"),a("diagram-js/lib/navigation/movecanvas")],d.prototype._modules=[].concat(d.prototype._modules,d.prototype._navigationModules)},{"./Viewer":338,"diagram-js/lib/navigation/movecanvas":431,"diagram-js/lib/navigation/zoomscroll":434,inherits:473}],338:[function(a,b,c){"use strict";function d(){}function e(a){return a&&1===a.length}function f(a){var b=/unparsable content <([^>]+)> detected([\s\S]*)$/,c=b.exec(a.message);return c&&(a.message="unparsable content <"+c[1]+"> detected; this may indicate an invalid DMN 1.1 diagram file"+c[2]),a}function g(a){return a+(n(a)?"px":"")}function h(a){var b=t;a=j({},y,a),this.moddle=this._createModdle(a),a.editor&&(b=a.editor),this.table=new b(j({},{container:a.container,moddle:this.moddle,loadDiagram:a.loadDiagram,isDetached:!0},a.table)),this.container=this._createContainer(a),i(this.container),this._init(this.container,this.moddle,a),this.on("decision.open",function(a){var b=a.decision;this.showDecision(b)},this)}function i(a){var b=z.BPMNIO_LOGO,c='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100"><img src="data:image/png;base64,'+b+'"></a>',d=o(c);a.appendChild(d),A.bind(d,"click",function(a){z.open(),a.preventDefault()})}var j=a("lodash/object/assign"),k=a("lodash/collection/filter"),l=a("lodash/object/omit"),m=a("lodash/lang/isString"),n=a("lodash/lang/isNumber"),o=a("min-dom/lib/domify"),p=a("min-dom/lib/query"),q=a("min-dom/lib/remove"),r=a("diagram-js"),s=a("dmn-moddle"),t=a("./table/Viewer"),u=a("inherits"),v=a("./import/Importer"),w=a("./util/ModelUtil").is,x=a("tiny-svg/lib/innerSVG"),y={width:"100%",height:"100%",position:"relative",container:"body",loadDiagram:!1,disableDrdInteraction:!1};u(h,r),b.exports=h,h.prototype.importXML=function(a,b){var c=this._loadDiagram;b=b||d;var g=this,h='xmlns="http://www.omg.org/spec/DMN/20151101/dmn11.xsd"';a.indexOf(h)&&(a=a.replace(new RegExp(h),'xmlns="http://www.omg.org/spec/DMN/20151101/dmn.xsd"')),a=this._emit("import.parse.start",{xml:a})||a,this.moddle.fromXML(a,"dmn:Definitions",function(a,d,h){if(d=g._emit("import.parse.complete",{error:a,definitions:d,context:h})||d,a)return a=f(a),g._emit("import.done",{error:a}),b(a);var i=h.warnings;g.importDefinitions(d,function(a,f){var h,j=[].concat(i,f||[]);g._emit("import.done",{error:a,warnings:j}),h=g.getDecisions(),e(d.drgElements)&&e(h)&&c===!1?g.showDecision(h[0]):g._activeEditor=g,b(a,j)})})},h.prototype.saveXML=function(a,b){b||(b=a,a={});var c=this.definitions;return c?void this.moddle.toXML(c,a,b):b(new Error("no definitions loaded"))},h.prototype.saveSVG=function(a,b){b||(b=a,a={});var c=this.get("canvas"),d=c.getDefaultLayer(),e=p("defs",c._svg),f=x(d),g=e&&e.outerHTML||"",h=d.getBBox(),i='<?xml version="1.0" encoding="utf-8"?>\n<!-- created with dmn-js / http://bpmn.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+h.width+'" height="'+h.height+'" viewBox="'+h.x+" "+h.y+" "+h.width+" "+h.height+'" version="1.1">'+g+f+"</svg>";b(null,i)},h.prototype.importDefinitions=function(a,b){try{this.definitions&&this.clear(),this.definitions=a,this.table&&(this.table.definitions=a),v.importDRD(this,a,b)}catch(c){b(c)}},h.prototype.getDecisions=function(a){var b=a||this.definitions;if(b)return k(b.drgElements,function(a){return w(a,"dmn:Decision")})},h.prototype.attach=function(a,b){var c=this._parentContainer;b.parentElement===c&&c.removeChild(b),c.appendChild(a)},h.prototype.getActiveEditor=function(){return this._activeEditor},h.prototype.showDecision=function(a,b,c){var e=this.table,f=this;return"function"==typeof b&&(c=b,b={}),c=c||d,this.attach(e.container,this.container),this._activeEditor=e,e.showDecision(a,function(d,e){f._emit("view.switch",j({decision:a},b)),c(d,e)})},h.prototype.showDRD=function(a){var b=this.table.getCurrentDecision();a=a||{},this.attach(this.container,this.table.container),this._activeEditor=this,this._emit("view.switch",j({decision:b},a))},h.prototype.getModules=function(){return this._modules},h.prototype.destroy=function(){r.prototype.destroy.call(this),q(this.container)},h.prototype.on=function(a,b,c,d){return this.get("eventBus").on(a,b,c,d)},h.prototype.off=function(a,b){this.get("eventBus").off(a,b)},h.prototype._init=function(a,b,c){var d=c.modules||this.getModules(),e=c.additionalModules||[],f=[{drdjs:["value",this],moddle:["value",b]}],g=[].concat(f,d,e),h=j(l(c,"additionalModules"),{canvas:j({},c.canvas,{container:a}),modules:g});this._loadDiagram=c.loadDiagram,r.call(this,h),c.disableDrdInteraction===!1&&this._setupTableSwitchListeners(c)},h.prototype._setupTableSwitchListeners=function(a){var b=this.table,c=this;b.get("eventBus").on("controls.init",function(a){a.controls.addControl("Show DRD",function(){c.showDRD({fromTable:!0})})})},h.prototype._emit=function(a,b){return this.get("eventBus").fire(a,b)},h.prototype._createContainer=function(a){var b,c=a.container;return c.get&&(c=c.get(0)),m(c)&&(c=p(c)),this._parentContainer=c,b=o('<div class="dmn-diagram"></div>'),j(b.style,{width:g(a.width),height:g(a.height),position:a.position}),c.appendChild(b),b},h.prototype._createModdle=function(a){var b=j({},this._moddleExtensions,a.moddleExtensions);return new s(b)},h.prototype._modules=[a("./core"),a("diagram-js/lib/features/selection"),a("diagram-js/lib/features/overlays"),a("./features/rules"),a("./features/drill-down"),a("./features/definition-id/viewer")],h.prototype._moddleExtensions={};var z=a("./util/PoweredByUtil"),A=a("min-dom/lib/event")},{"./core":339,"./features/definition-id/viewer":345,"./features/drill-down":347,"./features/rules":349,"./import/Importer":352,"./table/Viewer":354,"./util/ModelUtil":399,"./util/PoweredByUtil":400,"diagram-js":401,"diagram-js/lib/features/overlays":421,"diagram-js/lib/features/selection":428,"dmn-moddle":452,inherits:473,"lodash/collection/filter":481,"lodash/lang/isNumber":591,"lodash/lang/isString":594,"lodash/object/assign":597,"lodash/object/omit":601,"min-dom/lib/domify":612,"min-dom/lib/event":613,"min-dom/lib/query":614,"min-dom/lib/remove":615,"tiny-svg/lib/innerSVG":673}],339:[function(a,b,c){"use strict";b.exports={__depends__:[a("../draw"),a("../import")]}},{"../draw":343,"../import":353}],340:[function(a,b,c){"use strict";function d(a,b,c){this._elementRegistry=b,this._graphicsFactory=c,a.on("view.switch",this.updateDecisionLabels,this)}var e=a("lodash/collection/forEach");d.$inject=["eventBus","elementRegistry","graphicsFactory"],b.exports=d,d.prototype.updateDecisionLabels=function(a){var b,c=this._elementRegistry,d=this._graphicsFactory;b=c.filter(function(a){return"dmn:Decision"===a.type}),e(b,function(a){var b=c.getGraphics(a.id);d.update("shape",a,b)})}},{"lodash/collection/forEach":483}],341:[function(a,b,c){"use strict";function d(a,b,c){function d(a,b){E[a]=b}function f(a){var b=E[a];return"url(#"+b.id+")"}function p(a){function b(b,c){var e=i({strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},c.attrs),f=c.ref||{x:0,y:0},g=c.scale||1;"none"===e.strokeDasharray&&(e.strokeDasharray=[1e4,1]);var h=n("marker");m(c.element,e),l(h,c.element),m(h,{id:b,viewBox:"0 0 20 20",refX:f.x,refY:f.y,markerWidth:20*g,markerHeight:20*g,
orient:"auto"});var j=k("defs",a);return j||(j=n("defs"),l(a,j)),l(j,h),d(b,h)}var c=n("path");m(c,{d:"M 11 5 L 1 10 L 11 15"}),b("association-start",{element:c,attrs:{fill:"none",stroke:"black",strokeWidth:1.5},ref:{x:1,y:10},scale:.5});var e=n("path");m(e,{d:"M 1 5 L 11 10 L 1 15"}),b("association-end",{element:e,attrs:{fill:"none",stroke:"black",strokeWidth:1.5},ref:{x:12,y:10},scale:.5});var f=n("path");m(f,{d:"M 1 5 L 11 10 L 1 15 Z"}),b("information-requirement-end",{element:f,ref:{x:11,y:10},scale:1});var g=n("path");m(g,{d:"M 1 3 L 11 10 L 1 17"}),b("knowledge-requirement-end",{element:g,attrs:{fill:"none",stroke:"black",strokeWidth:2},ref:{x:11,y:10},scale:.8});var h=n("circle");m(h,{cx:3,cy:3,r:3}),b("authority-requirement-end",{element:h,ref:{x:3,y:3},scale:.9})}function r(a,b,d){return g(b)||(d=b,b=[]),c.style(b||[],i(d,a||{}))}function v(a,b,c,d,e,f){h(e)&&(f=e,e=0),e=e||0,f=r(f,{stroke:"black",strokeWidth:2,fill:"white"});var g=n("rect");return m(g,{x:e,y:e,width:b-2*e,height:c-2*e,rx:d,ry:d}),m(g,f),l(a,g),g}function w(a,b,c){var d=D.createText(a,b||"",c);return j(d).add("djs-label"),d}function x(a,b,c){var d=t(b);return w(a,d,{box:b,align:c,padding:5})}function y(a,b,c){c=r(c,["no-fill"],{strokeWidth:2,stroke:"black"});var d=n("path");return m(d,{d:b}),m(d,c),l(a,d),d}function z(a,b){var c=F[b.type];return c?c(a,b):o.prototype.drawShape.apply(this,[a,b])}function A(a,b){var c=b.type,d=F[c];return d?d(a,b):o.prototype.drawConnection.apply(this,[a,b])}function B(a,b,c){c=r(c,["no-fill"],{stroke:"black",strokeWidth:2,fill:"none"});var d=u(b,c);return l(a,d),d}o.call(this,a);var C={fontFamily:"Arial, sans-serif",fontSize:"12px"},D=new q({style:C,size:{width:100}}),E={},F={"dmn:Decision":function(a,b,c){var d=v(a,b.width,b.height,0,c);return x(a,b,"center-middle"),d},"dmn:KnowledgeSource":function(a,c,d){var e=b.getScaledPath("KNOWLEDGE_SOURCE",{xScaleFactor:1.021,yScaleFactor:1,containerWidth:c.width,containerHeight:c.height,position:{mx:0,my:.075}}),f=y(a,e,{strokeWidth:2,fill:"white",stroke:"black"});return x(a,c,"center-middle"),f},"dmn:BusinessKnowledgeModel":function(a,c,d){var e=b.getScaledPath("BUSINESS_KNOWLEDGE_MODEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:c.width,containerHeight:c.height,position:{mx:0,my:.3}}),f=y(a,e,{strokeWidth:2,fill:"white",stroke:"black"});return x(a,c,"center-middle"),f},"dmn:InputData":function(a,b,c){var d=v(a,b.width,b.height,22,c);return x(a,b,"center-middle"),d},"dmn:TextAnnotation":function(a,c,d){var f={fill:"none",stroke:"none"},g=v(a,c.width,c.height,0,0,f),h=b.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:c.width,containerHeight:c.height,position:{mx:0,my:0}});y(a,h);var i=e(c).text||"";return w(a,i,{box:c,align:"left-middle",padding:5}),g},"dmn:Association":function(a,b,c){var d=e(b);return c=i({strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"},c||{}),"One"!==d.associationDirection&&"Both"!==d.associationDirection||(c.markerEnd=f("association-end")),"Both"===d.associationDirection&&(c.markerStart=f("association-start")),B(a,b.waypoints,c)},"dmn:InformationRequirement":function(a,b,c){return c=i({strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:f("information-requirement-end")},c||{}),B(a,b.waypoints,c)},"dmn:KnowledgeRequirement":function(a,b,c){return c=i({strokeWidth:1,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:f("knowledge-requirement-end")},c||{}),B(a,b.waypoints,c)},"dmn:AuthorityRequirement":function(a,b,c){return c=i({strokeWidth:1.5,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:f("authority-requirement-end")},c||{}),B(a,b.waypoints,c)}};this.canRender=function(a){return s(a,"dmn:DMNElement")||s(a,"dmn:InformationRequirement")||s(a,"dmn:KnowledgeRequirement")||s(a,"dmn:AuthorityRequirement")},this.drawShape=z,this.drawConnection=A,a.on("canvas.init",function(a){p(a.svg)})}function e(a){return a.businessObject}var f=a("inherits"),g=a("lodash/lang/isArray"),h=a("lodash/lang/isObject"),i=a("lodash/object/assign"),j=a("min-dom/lib/classes"),k=a("min-dom/lib/query"),l=a("tiny-svg/lib/append"),m=a("tiny-svg/lib/attr"),n=a("tiny-svg/lib/create"),o=a("diagram-js/lib/draw/BaseRenderer"),p=a("diagram-js/lib/util/RenderUtil"),q=a("diagram-js/lib/util/Text"),r=a("../util/ModelUtil"),s=r.is,t=r.getName,u=p.createLine;f(d,o),d.$inject=["eventBus","pathMap","styles"],b.exports=d},{"../util/ModelUtil":399,"diagram-js/lib/draw/BaseRenderer":410,"diagram-js/lib/util/RenderUtil":445,"diagram-js/lib/util/Text":447,inherits:473,"lodash/lang/isArray":588,"lodash/lang/isObject":592,"lodash/object/assign":597,"min-dom/lib/classes":608,"min-dom/lib/query":614,"tiny-svg/lib/append":666,"tiny-svg/lib/attr":668,"tiny-svg/lib/create":671}],342:[function(a,b,c){"use strict";function d(){this.pathMap={KNOWLEDGE_SOURCE:{d:"m {mx},{my} l 0,{e.y0} c {e.x0},{e.y1} {e.x1},-{e.y2} {e.x2},-{e.y3} c {e.x3},-{e.y4} {e.x4},{e.y5} {e.x5},{e.y6} l 0,-{e.y7}z",width:100,height:65,widthElements:[29.8,48.4,67.2,12.2,19.8,30.8],heightElements:[55.3,19.7,4.2,6.7,2.3,1.6,6.2,54.6]},BUSINESS_KNOWLEDGE_MODEL:{d:"m {mx},{my} l {e.x0},-{e.y0} l {e.x1},0 l 0,{e.y1} l -{e.x2},{e.y2} l -{e.x3},0z",width:125,height:45,widthElements:[13.8,109.2,13.8,109.1],heightElements:[13.2,29.8,13.2]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",width:10,height:30,widthElements:[10],heightElements:[30]}},this.getRawPath=function(a){return this.pathMap[a].d},this.getScaledPath=function(a,b){var c,d,e=this.pathMap[a];b.abspos?(c=b.abspos.x,d=b.abspos.y):(c=b.containerWidth*b.position.mx,d=b.containerHeight*b.position.my);var g={};if(b.position){for(var h=b.containerHeight/e.height*b.yScaleFactor,i=b.containerWidth/e.width*b.xScaleFactor,j=0;j<e.heightElements.length;j++)g["y"+j]=e.heightElements[j]*h;for(var k=0;k<e.widthElements.length;k++)g["x"+k]=e.widthElements[k]*i}var l=f(e.d,{mx:c,my:d,e:g});return l}}function e(a,b,c){var d=c;return b.replace(h,function(a,b,c,e,f){b=b||e,d&&(b in d&&(d=d[b]),"function"==typeof d&&f&&(d=d()))}),d=(null==d||d==c?a:d)+""}function f(a,b){return String(a).replace(g,function(a,c){return e(a,c,b)})}b.exports=d;var g=/\{([^\}]+)\}/g,h=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g},{}],343:[function(a,b,c){"use strict";b.exports={__init__:["drdRenderer","decisionLabelUpdater"],drdRenderer:["type",a("./DrdRenderer")],pathMap:["type",a("./PathMap")],decisionLabelUpdater:["type",a("./DecisionLabelUpdater")]}},{"./DecisionLabelUpdater":340,"./DrdRenderer":341,"./PathMap":342}],344:[function(a,b,c){"use strict";function d(a,b){this._eventBus=a,this._canvas=b,a.on("diagram.init",function(){this._init()},this),a.on("import.done",function(a){this.update()},this)}var e=a("min-dom/lib/domify"),f=a("min-dom/lib/query"),g=a("min-dom/lib/delegate");d.$inject=["eventBus","canvas"],b.exports=d,d.prototype._init=function(){var a=this._canvas,b=this._eventBus,c=a.getContainer(),f=this._container=e(d.HTML_MARKUP);c.appendChild(f),g.bind(f,".dmn-definitions-name, .dmn-definitions-id","mousedown",function(a){a.stopPropagation()}),b.fire("definitionIdView.create",{html:f})},d.prototype.update=function(a){var b=this._canvas.getRootElement().businessObject,c=f(".dmn-definitions-name",this._container),d=f(".dmn-definitions-id",this._container);c.textContent=b.name,d.textContent=b.id},d.HTML_MARKUP='<div class="dmn-definitions"><div class="dmn-definitions-name" title="Definition Name"></div><div class="dmn-definitions-id" title="Definition ID"></div></div>'},{"min-dom/lib/delegate":611,"min-dom/lib/domify":612,"min-dom/lib/query":614}],345:[function(a,b,c){b.exports={__depends__:[],__init__:["definitionIdView"],definitionIdView:["type",a("./DefinitionIdView")]}},{"./DefinitionIdView":344}],346:[function(a,b,c){"use strict";function d(a,b,c){this._eventBus=a,this._overlays=b,this._drdRules=c,a.on(["drdElement.added","shape.create"],function(a){var b=a.element,d=c.canDrillDown(b);d&&this.addOverlay(b,d)},this)}var e=a("min-dom/lib/domify"),f=a("min-dom/lib/delegate");b.exports=d,d.$inject=["eventBus","overlays","drdRules"],d.prototype.addOverlay=function(a,b){var c=this._overlays,d="table"===b?"decision-table":"literal-expression",f=e(['<div class="drill-down-overlay">','<span class="dmn-icon-'+d+'" />',"</div>"].join("")),g=c.add(a,{position:{top:1,left:1},html:f});this.bindEventListener(a,f,g)},d.prototype.bindEventListener=function(a,b,c){var d=this._overlays,e=this._eventBus,g=d._overlayRoot;f.bind(g,'[data-overlay-id="'+c+'"]',"click",function(){e.fire("decision.open",{decision:a.businessObject})})}},{"min-dom/lib/delegate":611,"min-dom/lib/domify":612}],347:[function(a,b,c){"use strict";b.exports={__depends__:[a("diagram-js/lib/features/context-pad")],__init__:["drillDown"],drillDown:["type",a("./DrillDown")]}},{"./DrillDown":346,"diagram-js/lib/features/context-pad":415}],348:[function(a,b,c){"use strict";function d(a){l.call(this,a)}function e(a,b){if(i(a,"dmn:Decision")||i(a,"dmn:InputData")){if(i(b,"dmn:Decision")||i(a,"dmn:Decision")&&i(b,"dmn:InputData"))return{type:"dmn:InformationRequirement"};if(i(b,"dmn:KnowledgeSource"))return{type:"dmn:AuthorityRequirement"}}return i(a,"dmn:BusinessKnowledgeModel")&&j(b,["dmn:Decision","dmn:BusinessKnowledgeModel"])?{type:"dmn:KnowledgeRequirement"}:i(a,"dmn:KnowledgeSource")&&j(b,["dmn:Decision","dmn:BusinessKnowledgeModel","dmn:KnowledgeSource"])?{type:"dmn:AuthorityRequirement"}:!!i(b,"dmn:TextAnnotation")&&{type:"dmn:Association"}}function f(a,b){return!b||!!i(b,"dmn:Definitions")}function g(a){var b=a.businessObject;return!!i(a,"dmn:Decision")&&(b.decisionTable?"table":!!b.literalExpression&&"literal")}var h=a("../../util/ModelUtil"),i=h.is,j=h.isAny,k=a("inherits"),l=a("diagram-js/lib/features/rules/RuleProvider");k(d,l),d.$inject=["eventBus"],b.exports=d,d.prototype.init=function(){this.addRule("elements.move",function(a){var b=a.target,c=a.shapes,d=a.position;return f(c,b,d)}),this.addRule("connection.create",function(a){var b=a.source,c=a.target;return e(b,c)}),this.addRule("connection.reconnectStart",function(a){var b=a.connection,c=a.hover||a.source,d=b.target;return e(c,d,b)}),this.addRule("connection.reconnectEnd",function(a){var b=a.connection,c=b.source,d=a.hover||a.target;return e(c,d,b)}),this.addRule("connection.updateWaypoints",function(a){return null})},d.prototype.canConnect=e,d.prototype.canMove=f,d.prototype.canDrillDown=g},{"../../util/ModelUtil":399,"diagram-js/lib/features/rules/RuleProvider":422,inherits:473}],349:[function(a,b,c){"use strict";b.exports={__depends__:[a("diagram-js/lib/features/rules")],__init__:["drdRules"],drdRules:["type",a("./DrdRules")]}},{"./DrdRules":348,"diagram-js/lib/features/rules":424}],350:[function(a,b,c){"use strict";function d(a,b){return h({id:a.id,type:a.$type,businessObject:a},b)}function e(a){return a&&a.href.slice(1)}function f(a){var b=a.waypoints;if(b)return i(b,function(a){var b={x:a.x,y:a.y};return h({original:b},b)})}function g(a,b,c,d){this._eventBus=a,this._canvas=b,this._elementRegistry=d,this._elementFactory=c}var h=a("lodash/object/assign"),i=a("lodash/collection/map"),j=a("../util/ModelUtil"),k=j.is;g.$inject=["eventBus","canvas","elementFactory","elementRegistry"],b.exports=g,g.prototype.root=function(a){var b=this._elementFactory.createRoot(d(a));return this._canvas.setRootElement(b),b},g.prototype.add=function(a,b){var c,g,h,i,j,l,m,n=this._elementFactory,o=this._canvas,p=this._eventBus;if(b.$instanceOf("biodi:Bounds"))j=d(a,{x:Math.round(b.x),y:Math.round(b.y),width:Math.round(b.width),height:Math.round(b.height)}),c=n.createShape(j),o.addShape(c),p.fire("drdElement.added",{element:c,di:b});else{if(!b.$instanceOf("biodi:Edge"))throw new Error("unknown di for element "+a.id);g=f(b),l=b.source,m=a.$parent.id,k(a,"dmn:Association")&&(m=e(a.targetRef)),h=this._getShape(l),i=this._getShape(m),h&&i&&(j=d(a,{hidden:!1,source:h,target:i,waypoints:g}),c=n.createConnection(j),o.addConnection(c),p.fire("drdElement.added",{element:c,di:b}))}return c},g.prototype._getShape=function(a){return this._elementRegistry.get(a)}},{"../util/ModelUtil":399,"lodash/collection/map":485,"lodash/object/assign":597}],351:[function(a,b,c){"use strict";function d(a){return a&&a.href.slice(1)}function e(a,b){function c(b,c){var d=b.gfx;if(d)throw new Error("already rendered "+b.id);return a.element(b,c)}function e(b){a.root(b),f(["decision","drgElements","artifacts"],function(a){b[a]&&f(b[a],j)}),i(m)}function i(a){f(a,function(a){a()})}function j(a){var b=[];l(a,function(d){d.$parent.$instanceOf("dmn:ExtensionElements")&&(h(d,"biodi:Bounds")?c(a,d):h(d,"biodi:Edge")&&b.push(d))}),k(b,a)}function k(a,b){function e(b,e){var f=d(e),h=g(a,{source:f});h&&m.push(function(){c(b,h)})}return h(b,"dmn:Association")?e(b,b.sourceRef):void f(["informationRequirement","knowledgeRequirement","authorityRequirement"],function(a){f(b[a],function(a){var b=null;h(a,"dmn:InformationRequirement")?b=["requiredDecision","requiredInput"]:h(a,"dmn:KnowledgeRequirement")?b=["requiredKnowledge"]:h(a,"dmn:AuthorityRequirement")&&(b=["requiredDecision","requiredInput","requiredAuthority"]),b&&f(b,function(b){a[b]&&e(a,a[b])})})})}function l(a,b){var c,d=a.extensionElements;d&&(c=d.values,f(c,b))}var m=[];return{handleDefinitions:e}}var f=a("lodash/collection/forEach"),g=a("lodash/collection/find"),h=a("../util/ModelUtil").is;b.exports=e},{"../util/ModelUtil":399,"lodash/collection/find":482,"lodash/collection/forEach":483}],352:[function(a,b,c){"use strict";function d(a,b,c){function d(a){var b={root:function(a){return g.root(a)},element:function(a,b){return g.add(a,b)},error:function(a,b){i.push({message:a,context:b})}},c=new e(b);c.handleDefinitions(a)}var f,g=a.get("drdImporter"),h=a.get("eventBus"),i=[];h.fire("import.render.start",{definitions:b});try{d(b)}catch(j){f=j}h.fire("import.render.complete",{error:f,warnings:i}),c(f,i)}var e=a("./DrdTreeWalker");b.exports.importDRD=d},{"./DrdTreeWalker":351}],353:[function(a,b,c){"use strict";b.exports={drdImporter:["type",a("./DrdImporter")]}},{"./DrdImporter":350}],354:[function(a,b,c){"use strict";function d(a){var b=/unparsable content <([^>]+)> detected([\s\S]*)$/,c=b.exec(a.message);return c&&(a.message="unparsable content <"+c[1]+"> detected; this may indicate an invalid DMN file"+c[2]),a}function e(a){this.options=a=g({},t,a||{}),this.moddle=a.moddle,this.moddle||(this.moddle=this._createModdle(a)),this.container=this._createContainer(a),this._init(this.container,this.moddle,a),f(this.container.firstChild),this.on(["table.destroy","table.clear"],function(){s.prototype._openedDropdown&&s.prototype._openedDropdown._closeDropdown()},this)}function f(a){var b=u.BPMNIO_LOGO,c='<a href="http://bpmn.io" target="_blank" class="dmn-js-powered-by" title="Powered by bpmn.io" style="position: absolute; z-index: 100"><img src="data:image/png;base64,'+b+'"></a>',d=k(c);a.appendChild(d),v.bind(d,"click",function(a){u.open(),a.preventDefault()})}var g=a("lodash/object/assign"),h=a("lodash/object/omit"),i=a("lodash/lang/isString"),j=a("lodash/collection/filter"),k=a("min-dom/lib/domify"),l=a("min-dom/lib/query"),m=a("min-dom/lib/remove"),n=a("table-js"),o=a("dmn-moddle"),p=a("inherits"),q=a("./import/Importer"),r=a("../util/ModelUtil").is,s=a("table-js/lib/features/combo-box"),t={container:"body"};p(e,n),b.exports=e,e.prototype.importXML=function(a,b){b=b||function(){};var c=this;a=this._emit("import.parse.start",{xml:a})||a,this.moddle.fromXML(a,"dmn:Definitions",function(a,e,f){if(e=c._emit("import.parse.complete",{error:a,definitions:e,context:f})||e,a)return a=d(a),c._emit("import.done",{error:a}),b(a);var g=f.warnings;c.importDefinitions(e,function(a,d){var e=[].concat(g,d||[]);c._emit("import.done",{error:a,warnings:e}),b(a,e)})})},e.prototype.getDefinitions=function(){return this.definitions},e.prototype.getDecisions=function(a){var b=a||this.definitions;if(b)return j(b.drgElements,function(a){return r(a,"dmn:Decision")})},e.prototype.getCurrentDecision=function(){return this._decision},e.prototype.showDecision=function(a,b){var c=this;if(!this.definitions)throw new Error("Definitions not parsed yet");if(!a)throw new Error("Unknown decision object");b||(b=function(){}),this._decision=a,this.importDefinitions(this.definitions,a,function(a,d){var e=d||[];c._emit("import.done",{error:a,warnings:e}),b(a,e)})},e.prototype.saveXML=function(a,b){b||(b=a,a={});var c=this.definitions;return c?void this.moddle.toXML(c,a,b):b(new Error("no definitions loaded"))},e.prototype.importDefinitions=function(a,b,c){var d;try{this.definitions&&this.clear(),"function"==typeof b&&(c=b,d=this.getDecisions(a),b=d&&d[0]),this.definitions=a,q.importDmnTable(this,a,b,c)}catch(e){c(e)}},e.prototype._createContainer=function(a){var b,c=a.container;return c.get&&(c=c.get(0)),i(c)&&(c=l(c)),this._parentContainer=c,b=k('<div class="dmn-table"></div>'),a.isDetached!==!0&&c.appendChild(b),b},e.prototype._createModdle=function(a){var b=g({},this._moddleExtensions,a.moddleExtensions);return new o(b)},e.prototype._init=function(a,b,c){var d=[].concat(c.modules||this.getModules(),c.additionalModules||[]);d.unshift({dmnjs:["value",this],moddle:["value",b]}),c=h(c,"additionalModules"),c=g(c,{sheet:{width:c.width,height:c.height,container:a},modules:d}),n.call(this,c)},e.prototype.getModules=function(){return this._modules},e.prototype.destroy=function(){n.prototype.destroy.call(this),m(this.container)},e.prototype._emit=function(a,b){return this.get("eventBus").fire(a,b)},e.prototype.on=function(a,b,c,d){return this.get("eventBus").on(a,b,c,d)},e.prototype.off=function(a,b){this.get("eventBus").off(a,b)},e.prototype._modules=[a("./core"),a("table-js/lib/features/line-numbers"),a("./features/io-label"),a("./features/table-name"),a("./features/annotations"),a("./features/mappings-row"),a("./features/type-row"),a("./features/simple-mode"),a("./features/hit-policy"),a("./features/descriptions"),a("./features/date-edit/viewer"),a("./features/string-edit/viewer"),a("./features/literal-expression"),a("table-js/lib/features/interaction-events"),a("table-js/lib/features/controls"),a("table-js/lib/features/complex-cell")];var u=a("./../util/PoweredByUtil"),v=a("min-dom/lib/event")},{"../util/ModelUtil":399,"./../util/PoweredByUtil":400,"./core":355,"./features/annotations":360,"./features/date-edit/viewer":363,"./features/descriptions":365,"./features/hit-policy":371,"./features/io-label":375,"./features/literal-expression":378,"./features/mappings-row":382,"./features/simple-mode":384,"./features/string-edit/viewer":387,"./features/table-name":389,"./features/type-row":393,"./import/Importer":394,"dmn-moddle":452,inherits:473,"lodash/collection/filter":481,"lodash/lang/isString":594,"lodash/object/assign":597,"lodash/object/omit":601,"min-dom/lib/domify":612,"min-dom/lib/event":613,"min-dom/lib/query":614,"min-dom/lib/remove":615,"table-js":627,"table-js/lib/features/combo-box":637,"table-js/lib/features/complex-cell":639,"table-js/lib/features/controls":641,"table-js/lib/features/interaction-events":643,"table-js/lib/features/line-numbers":645}],355:[function(a,b,c){b.exports={__depends__:[a("../import"),a("../draw")]}},{"../draw":357,"../import":398}],356:[function(a,b,c){"use strict";function d(a,b,c,d){a.on("sheet.resized",f,function(a){var e,f,h,i=a.context,j=c.getContainer(),k=d.minColWidth,l=g,m=1;if(i||(a.context=i={}),e=b.filter(function(a){return"utilityColumn"===a.id})[0],f=e.next){for(;!f.isAnnotationsColumn;)f=f.next,m++;h=l+m*k,c.setWidth("auto"),j.clientWidth<=h&&(i.newWidth=h)}}),a.on("row.render",function(a){a.data.isClauseRow&&e(a.gfx).add("labels")}),a.on("cell.render",function(a){var b=a.data,c=a.gfx;b.column.businessObject&&(b.row.isClauseRow?c.childNodes[0].textContent=b.column.businessObject.label:b.content&&!b.content.tagName&&b.row.businessObject&&(c.childNodes[0].textContent=b.content.text),b.row.isFoot||(b.column.businessObject.inputExpression?e(c).add("input"):e(c).add("output")))})}var e=a("min-dom/lib/classes"),f=1500,g=45;d.$inject=["eventBus","elementRegistry","sheet","config"],b.exports=d},{"min-dom/lib/classes":608}],357:[function(a,b,c){b.exports={__init__:["tableRenderer"],tableRenderer:["type",a("./TableRenderer")]}},{"./TableRenderer":356}],358:[function(a,b,c){"use strict";function d(a,b,c,d){this.column=null;var f;a.on("import.done",function(g){var h;g.error||(a.fire("annotations.add",g),this.column=h=b.addColumn({id:"annotations",isAnnotationsColumn:!0}),f=c.filter(function(a){return"cell"===a._type&&a.column===h&&a.row.isLabelRow})[0],f.rowspan=4,f.content=e("Annotation"),d.update("column",h,c.getGraphics(this.column.id)),a.fire("annotations.added",h))},this),a.on(["sheet.destroy","sheet.clear"],function(c){var d=this.column;a.fire("annotations.destroy",d),b.removeColumn({id:"annotations"}),a.fire("annotations.destroyed",d)},this)}var e=a("min-dom/lib/domify");d.$inject=["eventBus","sheet","elementRegistry","graphicsFactory"],b.exports=d,d.prototype.getColumn=function(){return this.column}},{"min-dom/lib/domify":612}],359:[function(a,b,c){"use strict";function d(a,b){a.on("cell.render",function(a){a.data.column!==b.getColumn()||a.data.row.isFoot||(e(a.gfx).add("annotation"),a.data.row.isHead||(a.gfx.childNodes[0].textContent=a.data.row.businessObject.description||""))})}var e=a("min-dom/lib/classes");d.$inject=["eventBus","annotations"],b.exports=d},{"min-dom/lib/classes":608}],360:[function(a,b,c){b.exports={__init__:["annotations","annotationsRenderer"],__depends__:[],annotations:["type",a("./Annotations")],annotationsRenderer:["type",a("./AnnotationsRenderer")]}},{"./Annotations":358,"./AnnotationsRenderer":359}],361:[function(a,b,c){"use strict";function d(a,b){this._eventBus=a,this._simpleMode=b,this._eventBus.on("cell.render",function(a){if(b=a.gfx.querySelector(".date-content"),b&&b.parentNode.removeChild(b),1===a.gfx.childNodes.length&&(a.gfx.firstChild.style.display="inline",a.data.preventAutoUpdate=!1),g(a.data))if(this._simpleMode.isActive()){a.gfx.firstChild.style.display="none",a.data.preventAutoUpdate=!0;var b=a.gfx.querySelector(".date-content");b||(b=e('<span class="date-content">'),a.gfx.appendChild(b)),this.renderDate(a.data.content,b)}else a.gfx.firstChild.style.display="",a.data.preventAutoUpdate=!1,b=a.gfx.querySelector(".date-content"),b&&b.parentNode.removeChild(b)},this)}var e=a("min-dom/lib/domify"),f=a("./utils"),g=f.isDateCell,h=f.parseDate;d.prototype.renderDate=function(a,b){if(a&&a.text){var c=h(a.text);if(c){var d,e=new Date(c.date1+".000Z");if("exact"===c.type)d=e.toUTCString().slice(0,-7);else if(d=c.type+" "+e.toUTCString().slice(0,-7),c.date2){var f=new Date(c.date2+".000Z");d+=" and "+f.toUTCString().slice(0,-7)}b.textContent=d}else a.description?(b.innerHTML='<span class="expression-hint"><b>[expression]</b> (<i></i>)</span>',b.querySelector("i").textContent=a.description):b.innerHTML='<span class="expression-hint"><b>[expression]</b></span>'}else b.innerHTML='<span style="display: inline-block; width: 100%; color: #777777; text-align: center;">-</span>'},d.$inject=["eventBus","simpleMode"],b.exports=d},{"./utils":362,"min-dom/lib/domify":612}],362:[function(a,b,c){"use strict";var d=function(a){return a&&(a.inputExpression&&"date"===a.inputExpression.typeRef||"date"===a.typeRef)},e=function(a){return!a.isHead&&!a.isFoot};b.exports={isISODateString:function(a){return/\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d/.test(a)},getSampleDate:function(a){var b=new Date;return a?b.setUTCHours(23,59,59,0):b.setUTCHours(0,0,0,0),b.toISOString().slice(0,-5)},isDateCell:function(a){return"cell"===a._type&&d(a.column.businessObject)&&e(a.row)},parseDate:function(a){if(""===a.trim())return{type:"exact",date1:""};var b=a.match(/^\[date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"\)..date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"/);return b?{type:"between",date1:b[1],date2:b[2]}:(b=a.match(/^(<|>)\s*date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"\)/))?{type:"<"===b[1]?"before":"after",date1:b[2]}:(b=a.match(/^date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"\)$/),b?{type:"exact",date1:b[1]}:void 0)}}},{}],363:[function(a,b,c){b.exports={__init__:["dateView"],__depends__:[],dateView:["type",a("./DateView")]}},{"./DateView":361}],364:[function(a,b,c){"use strict";function d(a,b,c){this._eventBus=a,this._elementRegistry=b,this._sheet=c;var d=this;document.body.addEventListener("click",function(a){d.closePopover()}),document.body.addEventListener("keydown",function(a){13===a.keyCode&&d.openedPopover&&!f(a)&&d.closePopover()}),a.on("cell.render",function(a){var b,c=a.data,f=a.gfx;c.content&&c.content.description?f.querySelector(".description-indicator")||(b=e('<div class="description-indicator"></div>'),b.addEventListener("click",function(a){a.stopPropagation(),d.openPopover(c)}),f.appendChild(b)):(b=f.querySelector(".description-indicator"),b&&b.parentNode.removeChild(b))})}var e=a("min-dom/lib/domify"),f=a("diagram-js/lib/util/Mouse").hasSecondaryModifier,g=2,h=2;d.$inject=["eventBus","elementRegistry","sheet"],b.exports=d,d.prototype.closePopover=function(){var a=this._eventBus;this.openedPopover&&(this.openedPopover.parentNode.removeChild(this.openedPopover),this.openedPopover=null,a.fire("description.popover.closed"))},d.prototype.openPopover=function(a){var b=this._sheet,c=this._eventBus,d=this._elementRegistry,f=b.getContainer(),i=d.getGraphics(a),j=e('<textarea class="descriptions-textarea"></textarea>');this.closePopover(),c.fire("description.popover.open",a),j.style.position="absolute",j.style.top=i.offsetTop+h+"px",j.style.left=i.offsetLeft+i.clientWidth+g+"px",j.style.width="200px",j.style.height="80px",j.setAttribute("disabled","disabled"),j.addEventListener("click",function(a){a.stopPropagation()}),f.appendChild(j),this.openedPopover=j,c.fire("description.popover.opened",j,a),j.focus(),j.textContent=a.content.description}},{"diagram-js/lib/util/Mouse":443,"min-dom/lib/domify":612}],365:[function(a,b,c){b.exports={__init__:["descriptions"],descriptions:["type",a("./Descriptions")]}},{"./Descriptions":364}],366:[function(a,b,c){"use strict";function d(a,b){f.call(this),this._moddle=a,this._tableFactory=b}var e=a("inherits"),f=a("table-js/lib/core/ElementFactory");e(d,f),d.$inject=["moddle","tableFactory"],b.exports=d,d.prototype.baseCreate=f.prototype.create,d.prototype.create=function(a,b){var c=this._tableFactory;b=b||{};var d=b.businessObject;if("row"===a?b.type="dmn:DecisionRule":"column"!==a||b.type||(b.type=b.isInput?"dmn:InputClause":"dmn:OutputClause"),!d){if(!b.type)throw new Error("no type specified");d="dmn:DecisionRule"===b.type?c.createRule(b.id):"column"===a?b.isInput?c.createInputClause(b.name):c.createOutputClause(b.name):c.create(b.type)}return b.businessObject=d,b.id=d.id,this.baseCreate(a,b)}},{inherits:473,"table-js/lib/core/ElementFactory":629}],367:[function(a,b,c){"use strict";function d(a){this._model=a}d.$inject=["moddle"],d.prototype._needsId=function(a){return a.$instanceOf("dmn:DMNElement")},d.prototype._ensureId=function(a){var b=(a.$type||"").replace(/^[^:]*:/g,"")+"_";!a.id&&this._needsId(a)&&(a.id=this._model.ids.nextPrefixed(b,a))},d.prototype.create=function(a,b){var c=this._model.create(a,b||{});return this._ensureId(c),c},d.prototype.createRule=function(a){var b={id:a};b.inputEntry=b.inputEntry||[],b.outputEntry=b.outputEntry||[];var c=this.create("dmn:DecisionRule",b);return c},d.prototype.createInputEntry=function(a,b,c){var d=this.create("dmn:UnaryTests",{text:a}),e=b.$parent.input.indexOf(b);return d.$parent=c,c.inputEntry||(c.inputEntry=[]),c.inputEntry.splice(e,0,d),d},d.prototype.createInputClause=function(a){var b=this.create("dmn:InputClause",{label:a});return b.inputExpression=this.create("dmn:LiteralExpression",{}),b.inputExpression.typeRef="string",b.inputExpression.$parent=b,b},d.prototype.createOutputClause=function(a){var b=this.create("dmn:OutputClause",{label:a});return b.typeRef="string",b},d.prototype.createOutputEntry=function(a,b,c){var d=this.create("dmn:LiteralExpression",{text:a}),e=b.$parent.output.indexOf(b);return d.$parent=c,c.outputEntry||(c.outputEntry=[]),c.outputEntry.splice(e,0,d),d},d.prototype.createInputValues=function(a){var b=this.create("dmn:UnaryTests",{text:""});return a.inputValues=b,b.$parent=a,b},d.prototype.createOutputValues=function(a){var b=this.create("dmn:UnaryTests",{text:""});return a.outputValues=b,b.$parent=a,b},b.exports=d},{}],368:[function(a,b,c){b.exports={tableFactory:["type",a("./TableFactory")],elementFactory:["type",a("./ElementFactory")]}},{"./ElementFactory":366,"./TableFactory":367}],369:[function(a,b,c){"use strict";function d(a,b,c,d,j,k){this.table=null,this.hitPolicyCell=null;var l=this;a.on("dmnElement.added",function(a){a.element&&a.element.businessObject.$instanceOf("dmn:DecisionTable")&&(l.table=a.element.businessObject)}),a.on("cell.added",function(a){if(a.element.column===b.getColumn()&&"ioLabel"===a.element.row.id){l.hitPolicyCell=a.element,l.hitPolicyCell.rowspan=4;var c=e("<div>"),d=new g({label:"Hit Policy",classNames:["dmn-combobox","hitpolicy"],options:["UNIQUE","FIRST","PRIORITY","ANY","COLLECT","RULE ORDER","OUTPUT ORDER"],dropdownClassNames:["dmn-combobox-suggestions"]});c.insertBefore(d.getNode(),c.firstChild);var f=new g({label:"Collect Operator",classNames:["dmn-combobox","operator"],options:["LIST","SUM","MIN","MAX","COUNT"],dropdownClassNames:["dmn-combobox-suggestions"]});c.appendChild(f.getNode()),d.addEventListener("valueChanged",function(a){"collect"===a.newValue.toLowerCase()?f.getNode().style.display="table":f.getNode().style.display="none"}),a.element.complex={className:"dmn-hitpolicy-setter",template:c,element:a.element,comboBox:d,operatorComboBox:f,type:"hitPolicy",offset:{x:h,y:i}}}}),a.on("complexCell.open",function(a){var b=a.config;if("hitPolicy"===b.type){b.comboBox.setValue(l.getHitPolicy()),b.operatorComboBox.setValue(l.getAggregation());var c=b.template;if(c.querySelector(".dmn-combobox > input").focus(),!k.allowed("hitPolicy.edit")){for(var d=c.querySelectorAll("input"),e=0;e<d.length;e++)d[e].setAttribute("disabled","true");b.comboBox.disable(),f(c.parentNode).add("read-only")}}},this),a.on("complexCell.close",function(b){"hitPolicy"===b.config.type&&(a.fire("hitPolicy.edit",{table:l.table,hitPolicy:b.config.comboBox.getValue(),aggregation:"COLLECT"===b.config.comboBox.getValue()?b.config.operatorComboBox.getValue():void 0,cell:l.getCell()}),d.update("cell",l.getCell(),j.getGraphics(l.getCell())))})}var e=a("min-dom/lib/domify"),f=a("min-dom/lib/classes"),g=a("table-js/lib/features/combo-box"),h=36,i=-16;d.$inject=["eventBus","utilityColumn","ioLabel","graphicsFactory","elementRegistry","rules"],d.prototype.getCell=function(){return this.hitPolicyCell},d.prototype.getHitPolicy=function(){return this.table&&this.table.hitPolicy||""},d.prototype.getAggregation=function(){return this.table&&this.table.aggregation||"LIST"},b.exports=d},{"min-dom/lib/classes":608,"min-dom/lib/domify":612,"table-js/lib/features/combo-box":637}],370:[function(a,b,c){"use strict";function d(a){switch(a){case"LIST":return"";case"SUM":return"+";case"MIN":return"<";case"MAX":return">";case"COUNT":return"#"}}function e(a,b){a.on("cell.render",function(a){if(a.data===b.getCell()){var c=b.getHitPolicy(),e=b.getAggregation();a.gfx.childNodes[0].textContent=c.charAt(0)+d(e)}})}e.$inject=["eventBus","hitPolicy"],b.exports=e},{}],371:[function(a,b,c){b.exports={__init__:["hitPolicy","hitPolicyRenderer"],__depends__:[a("table-js/lib/features/utility-column"),a("../io-label")],hitPolicy:["type",a("./HitPolicy")],hitPolicyRenderer:["type",a("./HitPolicyRenderer")]}},{"../io-label":375,"./HitPolicy":369,"./HitPolicyRenderer":370,"table-js/lib/features/utility-column":650}],372:[function(a,b,c){"use strict";function d(a,b,c,d,h){function i(b){var i=c.filter(function(a){return"cell"===a._type&&a.row===j.row}),k=i.filter(function(a){return a.column.businessObject&&a.column.businessObject.inputExpression;
});f(k,function(b){if(b.column.previous.businessObject)b.colspan=1;else{b.colspan=k.length;var c;h.allowed("column.create")?(c=e('Input <a class="dmn-icon-plus"></a>'),c.querySelector("a").addEventListener("mouseup",function(){for(var c=b.column;c.next&&"dmn:InputClause"===c.next.businessObject.$type;)c=c.next;var d={id:g.next(),previous:c,name:"",isInput:!0};a.fire("ioLabel.createColumn",{newColumn:d})})):c=e("Input"),b.content=c}});var l=i.filter(function(a){return a.column.businessObject&&a.column.businessObject.$instanceOf("dmn:OutputClause")});f(l,function(b){if(b.column.previous.businessObject.inputExpression){b.colspan=l.length;var c;h.allowed("column.create")?(c=e('Output <a class="dmn-icon-plus"></a>'),c.querySelector("a").addEventListener("mouseup",function(){for(var c=b.column;c.next&&c.next.businessObject&&"dmn:OutputClause"===c.next.businessObject.$type;)c=c.next;var d={id:g.next(),previous:c,name:"",isInput:!1};a.fire("ioLabel.createColumn",{newColumn:d})})):c=e("Output"),b.content=c}else b.colspan=1}),i.length>0&&d.update("row",i[0].row,c.getGraphics(i[0].row.id))}this.row=null;var j=this;a.on(["sheet.init","sheet.cleared"],function(c){a.fire("ioLabel.add",c),this.row=b.addRow({id:"ioLabel",isHead:!0,isLabelRow:!0,useTH:!0}),a.fire("ioLabel.added",this.row)},this),a.on(["sheet.destroy","sheet.clear"],function(c){a.fire("ioLabel.destroy",this.row),b.removeRow({id:"ioLabel"}),a.fire("ioLabel.destroyed",this.row),this.row=null},this),a.on(["cells.added","cells.removed"],function(a){"column"===a._type&&i()}),a.on(["column.move.applied"],i)}var e=a("min-dom/lib/domify"),f=a("lodash/collection/forEach"),g=new(a("diagram-js/lib/util/IdGenerator"))("clause");d.$inject=["eventBus","sheet","elementRegistry","graphicsFactory","rules"],b.exports=d,d.prototype.getRow=function(){return this.row}},{"diagram-js/lib/util/IdGenerator":441,"lodash/collection/forEach":483,"min-dom/lib/domify":612}],373:[function(a,b,c){"use strict";function d(a,b){a.on("cell.render",function(a){a.data.row===b.getRow()&&a.data.content&&!a.gfx.childNodes[0].firstChild&&a.gfx.childNodes[0].appendChild(a.data.content)})}d.$inject=["eventBus","ioLabel"],b.exports=d},{}],374:[function(a,b,c){"use strict";function d(a,b){f.call(this,a),this._ioLabel=b}var e=a("inherits"),f=a("diagram-js/lib/features/rules/RuleProvider");e(d,f),d.$inject=["eventBus","ioLabel"],b.exports=d,d.prototype.init=function(){var a=this;this.addRule("cell.edit",function(b){if(b.row===a._ioLabel.row)return!1})}},{"diagram-js/lib/features/rules/RuleProvider":422,inherits:473}],375:[function(a,b,c){b.exports={__init__:["ioLabel","ioLabelRules","ioLabelRenderer"],__depends__:[],ioLabel:["type",a("./IoLabel")],ioLabelRules:["type",a("./IoLabelRules")],ioLabelRenderer:["type",a("./IoLabelRenderer")]}},{"./IoLabel":372,"./IoLabelRenderer":373,"./IoLabelRules":374}],376:[function(a,b,c){b.exports='<div class="literal-expression-editor">\r\n  <textarea placeholder="return obj.propertyName;"></textarea>\r\n\r\n  <div>\r\n    <div class="literal-expression-field">\r\n      <div class="dmn-combobox">\r\n        <label>Variable Name:</label>\r\n        <input class="variable-name" placeholder="varName">\r\n      </div>\r\n    </div>\r\n    <div class="literal-expression-field variable-type">\r\n    </div>\r\n  </div>\r\n  <div>\r\n    <div class="literal-expression-field expression-language">\r\n    </div>\r\n  </div>\r\n</div>\r\n'},{}],377:[function(a,b,c){"use strict";function d(a,b,c){this._eventBus=a,this._sheet=b,this._rules=c,a.on("import.render.start",function(){var a=b.getContainer();a.querySelector("table").style.display="";var c=a.querySelector(".literal-expression-editor");c&&a.removeChild(c)})}var e=a("min-dom/lib/domify"),f=a("./EditorTemplate.html"),g=a("table-js/lib/features/combo-box");d.$inject=["eventBus","sheet","rules"],b.exports=d,d.prototype.show=function(a){var b=this._eventBus,c=this._sheet.getContainer();c.querySelector("table").style.display="none";var d=e(f);d.querySelector("textarea").value=a.literalExpression.text||"";var h=new g({label:"Variable Type",classNames:["dmn-combobox","datatype"],options:["string","boolean","integer","long","double","date"],dropdownClassNames:["dmn-combobox-suggestions"]});d.querySelector(".variable-type").appendChild(h.getNode()),a.variable&&(d.querySelector(".variable-name").value=a.variable.name||"",h.setValue(a.variable.typeRef||""));var i=new g({label:"Expression Language",classNames:["dmn-combobox","expression-language"],options:["javascript","groovy","python","jruby","juel","feel"],dropdownClassNames:["dmn-combobox-suggestions"]});d.querySelector(".expression-language").appendChild(i.getNode()),i.setValue(a.literalExpression.expressionLanguage||"");for(var j=function(c){b.fire("literalExpression.edit",{decision:a,text:d.querySelector("textarea").value,variableName:d.querySelector(".variable-name").value,variableType:h.getValue(),language:i.getValue()})},k=this._rules.allowed("literalExpression.edit"),l=d.querySelectorAll("input"),m=0;m<l.length;m++)k?l[m].addEventListener("input",j):l[m].setAttribute("disabled","true");k?(d.querySelector("textarea").addEventListener("input",j),h.addEventListener("valueChanged",j),i.addEventListener("valueChanged",j)):(d.querySelector("textarea").setAttribute("disabled","true"),h.disable(),i.disable()),c.appendChild(d)}},{"./EditorTemplate.html":376,"min-dom/lib/domify":612,"table-js/lib/features/combo-box":637}],378:[function(a,b,c){b.exports={__init__:["literalExpressionEditor"],__depends__:[],literalExpressionEditor:["type",a("./LiteralExpressionEditor")]}},{"./LiteralExpressionEditor":377}],379:[function(a,b,c){b.exports='<div>\r\n  <div class="links">\r\n    <div class="toggle-type">\r\n      <label>Use:</label>\r\n      <a class="expression">Expression</a>\r\n      /\r\n      <a class="script">Script</a>\r\n    </div>\r\n    <a class="dmn-icon-clear"></a>\r\n  </div>\r\n  <div class="expression region">\r\n    <div class="input-expression">\r\n      <label>Expression:</label>\r\n      <input placeholder="propertyName">\r\n    </div>\r\n    <div class="input-expression">\r\n      <label>Input Variable Name:</label>\r\n      <input placeholder="cellInput">\r\n    </div>\r\n  </div>\r\n  <div class="script region">\r\n    <textarea placeholder="return obj.propertyName;"></textarea>\r\n    <div class="input-expression">\r\n      <label>Input Variable Name:</label>\r\n      <input placeholder="cellInput">\r\n    </div>\r\n  </div>\r\n</div>\r\n'},{}],380:[function(a,b,c){"use strict";function d(a,b,c){i(b,function(b){c(a.querySelector(b))})}function e(a,b,c,e,i,s){this.row=null,a.on(["sheet.init","sheet.cleared"],function(d){this.row||(a.fire("mappingsRow.add",d),this.row=b.addRow({id:"mappingsRow",isHead:!0,isMappingsRow:!0}),a.fire("mappingsRow.added",this.row),e.update("row",this.row,c.getGraphics(this.row.id)))},this),a.on(["sheet.clear","sheet.destroy"],function(c){a.fire("mappingsRow.destroy",this.row),b.removeRow({id:"mappingsRow"}),a.fire("mappingsRow.destroyed",this.row),this.row=null},this);var t=function(a,d,e){var f,g,i=b.getRootElement(),j=c.getGraphics(d);e?(f=i.getBoundingClientRect(),h(a.style,{top:f.top+"px",left:f.left+"px",width:i.clientWidth+"px"})):(g=j.getBoundingClientRect(),h(a.style,{top:g.top-a.offsetHeight+r+"px",left:g.left+q+"px",width:"auto",height:"auto"}))};a.on("cell.added",function(a){var b,h,q,r=a.element,s=r.column,u=r.content;if("mappingsRow"===r.row.id&&s.businessObject&&s.businessObject.inputExpression){u=r.content=s.businessObject.inputExpression;var v=f(j),w=new k({label:"Language",classNames:["dmn-combobox","language"],options:["javascript","groovy","python","jruby","juel","feel"],dropdownClassNames:["dmn-combobox-suggestions"]});"undefined"!=typeof u.expressionLanguage?(v.querySelector(o).value=u.text||"",w.setValue(u.expressionLanguage)):(b=v.querySelector(l),b.value=u.text||""),h=u.$parent,h&&d(v,p,function(a){a.value=h.inputVariable||""}),v.querySelector(".dmn-icon-clear").addEventListener("click",function(){i.close()}),v.querySelector(".expression").addEventListener("click",function(){q=v.querySelector(n).value,g(v.parentNode).remove("use-script"),t(v.parentNode,a.element,!1),v.querySelector(l).focus(),v.querySelector(m).value=q,a.element.complex.mappingType="expression"}),v.querySelector(".script").addEventListener("click",function(){q=v.querySelector(m).value,g(v.parentNode).add("use-script"),t(v.parentNode,a.element,!0),v.querySelector(o).focus(),v.querySelector(n).value=q,a.element.complex.mappingType="script"}),d(v,p.concat(l),function(a){a.addEventListener("keydown",function(a){13===a.keyCode&&i.close()})}),v.querySelector(".script.region").insertBefore(w.getNode(),v.querySelector("textarea")),a.element.complex={className:"dmn-clauseexpression-setter",template:v,element:a.element,mappingType:"undefined"!=typeof u.expressionLanguage?"script":"expression",comboBox:w,type:"mapping"},e.update("cell",a.element,c.getGraphics(a.element))}else"mappingsRow"===a.element.row.id&&s.businessObject&&(a.element.content=s.businessObject,e.update("cell",a.element,c.getGraphics(a.element)))}),a.on("complexCell.open",function(a){var b,c,e=a.config,f=a.container,h=e.element.content;"mapping"===e.type&&(b=e.template,"undefined"!=typeof h.expressionLanguage?(e.mappingType="script",g(f).add("use-script"),t(f,e.element,!0),f.querySelector(o).focus()):(e.mappingType="expression",t(f,e.element),f.querySelector(l).focus()),c=h.$parent,c&&d(b,p,function(a){a.value=c.inputVariable||""}),s.editingAllowed||(b.querySelector(l).setAttribute("disabled","true"),d(b,p,function(a){a.setAttribute("disabled","true")}),b.querySelector(o).setAttribute("disabled","true"),e.comboBox.disable(),g(b.parentNode).add("read-only")))}),a.on("complexCell.close",function(b){var c,d,e,f,g,h=b.config;"mapping"===h.type&&(c=h.template,d=h.element,"expression"===h.mappingType?(e=c.querySelector(l).value,g=c.querySelector(m).value):"script"===h.mappingType&&(f=h.comboBox.getValue(),g=c.querySelector(n).value,e=c.querySelector(o).value),a.fire("mappingsRow.editInputMapping",{element:d,attrs:{expression:e,language:f,inputVariable:g}}))})}var f=a("min-dom/lib/domify"),g=a("min-dom/lib/classes"),h=a("lodash/object/assign"),i=a("lodash/collection/forEach"),j=a("./ExpressionTemplate.html"),k=a("table-js/lib/features/combo-box"),l='.expression .input-expression input[placeholder="propertyName"]',m='.expression .input-expression input[placeholder="cellInput"]',n='.script .input-expression input[placeholder="cellInput"]',o=".script.region > textarea",p=[m,n],q=1,r=-2;e.$inject=["eventBus","sheet","elementRegistry","graphicsFactory","complexCell","config"],b.exports=e,e.prototype.getRow=function(){return this.row}},{"./ExpressionTemplate.html":379,"lodash/collection/forEach":483,"lodash/object/assign":597,"min-dom/lib/classes":608,"min-dom/lib/domify":612,"table-js/lib/features/combo-box":637}],381:[function(a,b,c){"use strict";function d(a,b){a.on("row.render",function(a){a.data===b.getRow()&&e(a.gfx).add("mappings")}),a.on("cell.render",function(a){a.data.row===b.getRow()&&a.data.content&&a.data.column.businessObject.inputExpression?a.data.content.expressionLanguage?a.gfx.childNodes[0].textContent=a.data.content.expressionLanguage||"":a.gfx.childNodes[0].textContent=a.data.content.text||"":a.data.row===b.getRow()&&a.data.content&&(a.gfx.childNodes[0].textContent=a.data.content.name||"")})}var e=a("min-dom/lib/classes");d.$inject=["eventBus","mappingsRow"],b.exports=d},{"min-dom/lib/classes":608}],382:[function(a,b,c){b.exports={__depends__:[a("table-js/lib/features/complex-cell")],__init__:["mappingsRow","mappingsRowRenderer"],mappingsRow:["type",a("./MappingsRow")],mappingsRowRenderer:["type",a("./MappingsRowRenderer")]}},{"./MappingsRow":380,"./MappingsRowRenderer":381,"table-js/lib/features/complex-cell":639}],383:[function(a,b,c){"use strict";function d(a,b){return a.inputExpression&&a.inputExpression.typeRef===b||a.typeRef===b}function e(a,b,c,e){this._sheet=b,this._eventBus=a,this._graphicsFactory=e,this.simple=!1;var h=this;a.on("controls.init",function(a){this._node=a.controls.addControl("Exit Advanced Mode",function(){f(b.getContainer().parentNode).contains("simple-mode")?h.deactivate():h.activate()})},this),a.on("import.done",function(a){a.error||c.advancedMode||this.activate()},this),a.on(["sheet.destroy","sheet.clear"],function(a){a.error||this.deactivate()},this),a.on("cell.render",function(b){var c,e,f,i=b.data,j=b.gfx,k=i.row,l=i.column.businessObject,m=j.querySelector(".simple-mode-checkbox"),n=j.querySelector(".expression-hint");i.preventAutoUpdate=!1,n&&(j.childNodes[0].style.display="",n.parentNode.removeChild(n)),!this.simple&&m&&(j.childNodes[0].style.display="",m.parentNode.removeChild(m),i.preventAutoUpdate=!1),l&&this.simple&&"dmn:DecisionRule"===k.type&&!k.isHead&&l&&(d(l,"boolean")&&(this.simple&&(i.preventAutoUpdate=!0),e=i.content,this.simple&&e&&""!==e.text&&"false"!==e.text&&"true"!==e.text?(j.childNodes[0].style.display="none",c=h.getExpressionNode(i.content),i.preventAutoUpdate=!0,j.appendChild(c)):this.simple&&!m?(j.childNodes[0].style.display="none",f=g(['<select class="simple-mode-checkbox">','<option value="true">Yes</option>','<option value="false">No</option>','<option value="">-</option>',"</select>"].join("")),f.setAttribute("disabled","disabled"),e&&e.text?f.selectedIndex=["true","false",""].indexOf(e.text):f.selectedIndex=2,a.fire("simpleCheckbox.render",f,i),j.appendChild(f)):this.simple&&m&&(e&&e.text?m.selectedIndex=["true","false",""].indexOf(e.text):m.selectedIndex=2)),m&&(l.inputExpression&&"boolean"===l.inputExpression.typeRef||"boolean"===l.typeRef||(m.parentNode.removeChild(m),j.childNodes[0].style.display="")))},this)}var f=a("min-dom/lib/classes"),g=a("min-dom/lib/domify");e.$inject=["eventBus","sheet","config","graphicsFactory"],b.exports=e,e.prototype.getExpressionNode=function(a){var b;return a.description?(b=g('<span class="expression-hint"><b>[expression]</b> (<i></i>)</span>'),b.querySelector("i").textContent=a.description):b=g('<span class="expression-hint"><b>[expression]</b></span>'),b},e.prototype.activate=function(){this._node&&(f(this._sheet.getContainer().parentNode).add("simple-mode"),this._node.textContent="Enter Advanced Mode",this.simple=!0,this._graphicsFactory.redraw(),this._eventBus.fire("simpleMode.activated"))},e.prototype.deactivate=function(){this._node&&(f(this._sheet.getContainer().parentNode).remove("simple-mode"),this._node.textContent="Exit Advanced Mode",this.simple=!1,this._graphicsFactory.redraw(),this._eventBus.fire("simpleMode.deactivated"))},e.prototype.toggle=function(){this.simple?this.deactivate():this.activate()},e.prototype.isActive=function(){return this.simple},e.prototype.hasComplexContent=function(a){var b,c=a.column.businessObject;return!!(c&&a.content&&a.content.text)&&(b=a.content.text,d(c,"boolean")?["true","false"].indexOf(b)===-1:d(c,"string")?!this.isString(b):void 0)},e.prototype.isString=function(a){var b,c,d=a.match(/"/g);return 0===a.length||!!(b=d&&d.length%2===0)&&(c=a.match(/".{0,1},.{0,1}"/),b&&!c)}},{"min-dom/lib/classes":608,"min-dom/lib/domify":612}],384:[function(a,b,c){b.exports={__init__:["simpleMode"],simpleMode:["type",a("./SimpleMode")]}},{"./SimpleMode":383}],385:[function(a,b,c){"use strict";function d(a,b){this._eventBus=a,this._simpleMode=b,this._eventBus.on("cell.render",function(a){if(b=a.gfx.querySelector(".string-content"),b&&b.parentNode.removeChild(b),1===a.gfx.childNodes.length&&(a.gfx.firstChild.style.display="inline",a.data.preventAutoUpdate=!1),g(a.data))if(this._simpleMode.isActive()){a.gfx.firstChild.style.display="none",a.data.preventAutoUpdate=!0;var b=a.gfx.querySelector(".string-content");b||(b=e('<span class="string-content">'),a.gfx.appendChild(b)),this.renderString(a.data.content,b)}else a.gfx.firstChild.style.display="",a.data.preventAutoUpdate=!1,b=a.gfx.querySelector(".string-content"),b&&b.parentNode.removeChild(b);else b=a.gfx.querySelector(".string-content"),b&&b.parentNode.removeChild(b),1===a.gfx.childNodes.length&&(a.gfx.firstChild.style.display="")},this)}var e=a("min-dom/lib/domify"),f=a("./utils"),g=f.isStringCell,h=f.parseString;d.prototype.renderString=function(a,b){if(a.text){var c=h(a.text);c?b.textContent=a.text:a.description?(b.innerHTML='<span class="expression-hint"><b>[expression]</b> (<i></i>)</span>',b.querySelector("i").textContent=a.description):b.innerHTML='<span class="expression-hint"><b>[expression]</b></span>'}else b.innerHTML='<span style="display: inline-block; width: 100%; color: #777777; text-align: center;">-</span>'},d.$inject=["eventBus","simpleMode"],b.exports=d},{"./utils":386,"min-dom/lib/domify":612}],386:[function(a,b,c){"use strict";var d=function(a){return a&&(a.inputExpression&&"string"===a.inputExpression.typeRef||"string"===a.typeRef)},e=function(a){return!a.isHead&&!a.isFoot},f=function(a){return a.content&&"undefined"!=typeof a.content.text};b.exports={isStringCell:function(a){return"cell"===a._type&&d(a.column.businessObject)&&f(a)&&e(a.row)},parseString:function(a){if(""===a.trim())return{type:"disjunction",values:[]};var b=a.split(","),c={type:"disjunction",values:[]},d="";if(b.forEach(function(a){d+=a,/^"[^"]*"$/.test(d.trim())?(c.values.push(d.trim().slice(1,-1)),d=""):d+=","}),!d)return c;c.type="negation",c.values=[],d="";var e=a.match(/^\s*not\((.*)\)\s*$/);return e&&(b=e[1].split(","),b.forEach(function(a){d+=a,/^"[^"]*"$/.test(d.trim())?(c.values.push(d.trim().slice(1,-1)),d=""):d+=","}),!d)?c:void 0},parseAllowedValues:function(a){var b=a.column.businessObject,c=b&&(b.inputValues||b.outputValues);if(c&&c.text)return c=c.text.split(","),c.map(function(a){return'"'===a.charAt(0)&&'"'===a.charAt(a.length-1)?a.slice(1,-1):a})}}},{}],387:[function(a,b,c){"use strict";b.exports={__init__:["stringView"],stringView:["type",a("./StringView")]}},{"./StringView":385}],388:[function(a,b,c){"use strict";function d(a,b,c){g.call(this,a,b,c),this.node=e("<header><h3>"+this.tableName+'</h3><div class="tjs-table-id mappings"></div></header');var d=this;a.on("tableName.allowEdit",function(b){b.editAllowed&&(d.node.querySelector(".tjs-table-id").setAttribute("contenteditable",!0),d.node.querySelector(".tjs-table-id").addEventListener("blur",function(b){var c=b.target.textContent;c!==d.getId()&&a.fire("tableName.editId",{newId:c})},!0))}),this.semantic=null}var e=a("min-dom/lib/domify"),f=a("inherits"),g=a("table-js/lib/features/table-name/TableName");f(d,g),d.$inject=["eventBus","sheet","config.tableName"],b.exports=d,d.prototype.setSemantic=function(a){this.semantic=a,this.setName(a.name),this.setId(a.id)},d.prototype.setName=function(a){this.semantic.name=a,this.node.querySelector("h3").textContent=a||""},d.prototype.getName=function(){return this.semantic.name},d.prototype.setId=function(a){a&&(this.semantic.id=a),this.node.querySelector("div").textContent=this.semantic.id||""},d.prototype.getId=function(){return this.semantic.id}},{inherits:473,"min-dom/lib/domify":612,"table-js/lib/features/table-name/TableName":646}],389:[function(a,b,c){b.exports={__init__:["tableName"],__depends__:[],tableName:["type",a("./TableName")]}},{"./TableName":388}],390:[function(a,b,c){"use strict";function d(a,b,c,d,l,m,n){this._eventBus=a,this._graphicsFactory=d,this.row=null;var o=this;a.on(["sheet.init","sheet.cleared"],function(e){a.fire("typeRow.add",e),this.row=b.addRow({id:"typeRow",isHead:!0,isTypeRow:!0}),a.fire("typeRow.added",this.row),d.update("row",this.row,c.getGraphics(this.row.id))},this),a.on(["sheet.clear","sheet.destroy"],function(c){a.fire("typeRow.destroy",this.row),b.removeRow({id:"typeRow"}),a.fire("typeRow.destroyed",this.row),this.row=null},this),a.on("cell.added",function(b){if("typeRow"===b.element.row.id&&b.element.column.businessObject){b.element.content=b.element.column.businessObject;var e=f(i),g="dmn:OutputClause"===b.element.column.type;g&&(e.querySelector(".allowed-values label").textContent="Output Values:");var j=new h({label:"Type",classNames:["dmn-combobox","datatype"],options:["string","boolean","integer","long","double","date"],dropdownClassNames:["dmn-combobox-suggestions"]});j.addEventListener("valueChanged",function(c){c.oldValue!==c.newValue&&(a.fire("typeRow.editDataType",{element:b.element,dataType:c.newValue}),o.updateAllowedValues(e,b.element),n.toggle(),n.toggle())}),e.insertBefore(j.getNode(),e.firstChild),e.querySelector(".allowed-values input").addEventListener("keydown",function(a){13===a.keyCode&&o.handleValuesFromInput(b.element,e)}),o.updateAllowedValues(e,b.element),b.element.complex={className:"dmn-clausevalues-setter",template:e,element:b.element,comboBox:j,type:"type",offset:{x:0,y:k}},d.update("cell",b.element,c.getGraphics(b.element))}}),a.on("complexCell.close",function(a){var b,c=a.config;"type"===c.type&&(b=c.template,"string"===c.comboBox.getValue()&&""!==b.querySelector(".allowed-values input").value.trim()&&o.handleValuesFromInput(c.element,b))}),a.on("complexCell.open",function(a){var b,d,f,h=a.config;"type"===h.type&&(d=c.getGraphics(h.element),f=h.element.content,f.inputExpression?h.comboBox.setValue(f.inputExpression.typeRef):h.comboBox.setValue(f.typeRef),b=h.template,e(b.parentNode.style,{left:b.parentNode.offsetLeft+d.offsetWidth+j+"px"}),m.allowed("dataType.edit")||(h.comboBox.disable(),g(b.parentNode).add("read-only")))})}var e=a("lodash/object/assign"),f=a("min-dom/lib/domify"),g=a("min-dom/lib/classes"),h=a("table-js/lib/features/combo-box"),i=a("./TypeTemplate.html"),j=-4,k=-17;d.prototype.handleValuesFromInput=function(a,b){var c=b.querySelector(".allowed-values input"),d=c.value.split(","),e=this;d.forEach(function(b){e.addAllowedValue(a,b.trim())}),this.updateAllowedValues(b,a),c.value=""},d.prototype.addAllowedValue=function(a,b){this._eventBus.fire("typeRow.addAllowedValue",{element:a,value:b})},d.prototype.removeAllowedValue=function(a,b){this._eventBus.fire("typeRow.removeAllowedValue",{element:a,value:b})},d.prototype.updateAllowedValues=function(a,b){var c=this,d=b.content.inputExpression&&b.content.inputExpression.typeRef||b.content.typeRef;if("string"===d){a.querySelector(".allowed-values").style.display="block";var e=a.querySelector(".allowed-values ul");if(e.innerHTML="",b.content.inputValues&&b.content.inputValues.text||b.content.outputValues&&b.content.outputValues.text){var g;g=b.content.inputValues?b.content.inputValues.text.split(","):b.content.outputValues.text.split(","),g.forEach(function(d){var g=f('<li><span class="value-text">'+d.substr(1,d.length-2)+'</span><button class="dmn-icon-clear"></button></li>');g.querySelector("button").addEventListener("click",function(){c.removeAllowedValue(b,d),c.updateAllowedValues(a,b)}),e.appendChild(g)})}}else a.querySelector(".allowed-values").style.display="none";this._eventBus.fire("typeRow.editAllowedValues",{element:b,values:g}),this._graphicsFactory.redraw()},d.$inject=["eventBus","sheet","elementRegistry","graphicsFactory","complexCell","rules","simpleMode"],b.exports=d,d.prototype.getRow=function(){return this.row}},{"./TypeTemplate.html":392,"lodash/object/assign":597,"min-dom/lib/classes":608,"min-dom/lib/domify":612,"table-js/lib/features/combo-box":637}],391:[function(a,b,c){"use strict";function d(a,b){a.on("row.render",function(a){a.data===b.getRow()&&e(a.gfx).add("values")}),a.on("cell.render",function(a){var c=a.data.content;a.data.row===b.getRow()&&c&&(c.inputExpression?a.gfx.childNodes[0].textContent=c.inputExpression.typeRef||"":a.gfx.childNodes[0].textContent=c.typeRef||"")})}var e=a("min-dom/lib/classes");d.$inject=["eventBus","typeRow"],b.exports=d},{"min-dom/lib/classes":608}],392:[function(a,b,c){b.exports='<div>\r\n  <div class="allowed-values">\r\n    <label>Input Values:</label>\r\n    <ul></ul>\r\n    <input type="text" placeholder="value1, value2, otherValue">\r\n  </div>\r\n</div>\r\n'},{}],393:[function(a,b,c){b.exports={__init__:["typeRow","typeRowRenderer"],__depends__:[a("table-js/lib/features/complex-cell")],typeRow:["type",a("./TypeRow")],typeRowRenderer:["type",a("./TypeRowRenderer")]}},{"./TypeRow":390,"./TypeRowRenderer":391,"table-js/lib/features/complex-cell":639}],394:[function(a,b,c){"use strict";function d(a,b,c,d){function f(a){var b={create:function(a,b,c,d){return h.create(a,b,c,d)},table:function(a){return h.add(a)},element:function(a,b,c){return h.add(a,b,c)},error:function(a,b){l.push({message:a,context:b})}},d=new e(b,{canAddMissingEntries:g});d.handleDefinitions(a,c)}var g,h=a.get("tableImporter"),i=a.get("eventBus");try{g=a.get("modeling")}catch(j){g=!1}var k,l=[];i.fire("import.render.start",{definitions:b});try{f(b)}catch(j){k=j}i.fire("import.render.complete",{error:k,warnings:l}),d(k,l)}var e=a("./TableTreeWalker");b.exports.importDmnTable=d},{"./TableTreeWalker":396}],395:[function(a,b,c){"use strict";function d(a,b){return g({id:a.id,type:a.$type,businessObject:a},b)}function e(a,b){return h(b,function(b){return b===a}).length}function f(a,b,c,d,e,f,g,h,i){this._eventBus=a,this._sheet=b,this._elementRegistry=c,this._elementFactory=d,this._tableName=f,this._tableFactory=h,this._literalExpressionEditor=i,this._ioLabel=g,this._moddle=e}var g=a("lodash/object/assign"),h=a("lodash/collection/filter"),i=a("lodash/array/union"),j=a("./Util").elementToString;f.$inject=["eventBus","sheet","elementRegistry","elementFactory","moddle","tableName","ioLabel","tableFactory","literalExpressionEditor"],b.exports=f,f.prototype._makeCopy=function(a){var b=this._moddle.create(a.$type);for(var c in a)a.hasOwnProperty(c)&&"$type"!==c&&(b[c]=a[c]);return b.$parent=a.$parent,b},f.prototype.create=function(a,b,c,d){var f,g=this._tableFactory,h=b.businessObject,i=e(a,["dmn:InputClause","dmn:UnaryTests"])?"Input":"Output";return e(a,["dmn:InputClause","dmn:OutputClause"])&&(f=g["create"+i+"Clause"](""),f.$parent=h,h[i.toLowerCase()].push(f)),e(a,["dmn:UnaryTests","dmn:LiteralExpression"])&&(d=c,c=b,b=void 0,f=g["create"+i+"Entry"]("",c,d)),f},f.prototype.add=function(a,b,c){var e;if(a.$instanceOf("dmn:DecisionTable"))e=this._elementFactory.createRow(d(a,{isHead:!0,isClauseRow:!0,previous:this._ioLabel.getRow()})),this._sheet.addRow(e,b),this._tableName.setSemantic(a.$parent);else if(a.$instanceOf("dmn:LiteralExpression")&&b.$instanceOf("dmn:Decision"))this._literalExpressionEditor.show(b),this._tableName.setSemantic(b);else if(a.$instanceOf("dmn:InputClause"))e=this._elementFactory.createColumn(d(a,{})),this._sheet.addColumn(e,b);else if(a.$instanceOf("dmn:OutputClause"))e=this._elementFactory.createColumn(d(a,{})),this._sheet.addColumn(e,b);else if(a.$instanceOf("dmn:DecisionRule"))a.inputEntry||(a.inputEntry=[]),a.outputEntry||(a.outputEntry=[]),e=this._elementFactory.createRow(d(a,{})),this._sheet.addRow(e,b);else{if(!b.$instanceOf("dmn:DecisionRule"))throw new Error("can not render element "+j(a));var f=i(b.inputEntry,b.outputEntry),g=this._elementRegistry.filter(function(a){if(!a.businessObject)return!1;var b=a.businessObject.$type;return"dmn:InputClause"===b||"dmn:OutputClause"===b}),h=g[f.indexOf(a)].id,k=this._elementRegistry.filter(function(a){return a.businessObject===b})[0].id;a.text=a.text||"",this._sheet.setCellContent({row:k,column:h,content:a})}return this._eventBus.fire("dmnElement.added",{element:e}),e}},{"./Util":397,"lodash/array/union":475,"lodash/collection/filter":481,"lodash/object/assign":597}],396:[function(a,b,c){"use strict";function d(a,b){function c(b,c,d){var e=b.gfx;if(e)throw new Error("already rendered "+f(b));return a.element(b,c,d)}function d(b){return a.table(b)}function g(b,e){var g,k=null;if(e){""===e.id&&(e.id="decision");var m=e.decisionTable,n=e.literalExpression;if(m){var o=d(m);l&&!m.input?(m.input=[],k="input",g=a.create("dmn:InputClause",o,b)):l&&!m.output&&(m.output=[],k="output",g=a.create("dmn:OutputClause",o,b)),i(m.input,o,b),i(m.output,o,b),m.rule&&k&&h(m.rule,k,g),j(m.rule,o,b)}else{if(!n)throw new Error("no table for "+f(e));c(n,e)}}}function h(b,c,d){var f="input"===c,g=b[0][(f?"output":"input")+"Entry"].length,h=f?"dmn:UnaryTests":"dmn:LiteralExpression";e(b,function(b){var c=0;for(c;c<g;c++)a.create(h,d,b)})}function i(a,b,d){e(a,function(a){c(a,b,d)})}function j(a,b,d){e(a,function(a){c(a,b,d),k(a.inputEntry,a),k(a.outputEntry,a)})}function k(a,b,d){e(a,function(a){c(a,b,d)})}var l=b&&b.canAddMissingEntries;return{handleDefinitions:g}}var e=a("lodash/collection/forEach"),f=a("./Util").elementToString;b.exports=d},{"./Util":397,"lodash/collection/forEach":483}],397:[function(a,b,c){"use strict";b.exports.elementToString=function(a){return a?"<"+a.$type+(a.id?' id="'+a.id:"")+'" />':"<null>"}},{}],398:[function(a,b,c){b.exports={__depends__:[a("../features/factory")],tableImporter:["type",a("./TableImporter")]}},{"../features/factory":368,"./TableImporter":395}],399:[function(a,b,c){"use strict";function d(a,b){var c=e(a);return c&&"function"==typeof c.$instanceOf&&c.$instanceOf(b)}function e(a){return a&&a.businessObject||a}function f(a){a=e(a);var b=a.name;return b}function g(a,b){return h(b,function(b){return d(a,b)})}var h=a("lodash/collection/any");b.exports.is=d,b.exports.getBusinessObject=e,b.exports.getName=f,b.exports.isAny=g},{"lodash/collection/any":479}],400:[function(a,b,c){"use strict";function d(a){return a.join(";")}function e(){f||(f=g(m),h.bind(f,".backdrop","click",function(a){document.body.removeChild(f)})),document.body.appendChild(f)}var f,g=a("min-dom/lib/domify"),h=a("min-dom/lib/delegate"),i=b.exports.BPMNIO_LOGO="iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBQTFRFiMte9PrwldFwfcZPqtqN0+zEyOe1XLgjvuKncsJAZ70y6fXh3vDT////UrQV////G2zN+AAAABB0Uk5T////////////////////AOAjXRkAAAHDSURBVHjavJZJkoUgDEBJmAX8979tM8u3E6x20VlYJfFFMoL4vBDxATxZcakIOJTWSmxvKWVIkJ8jHvlRv1F2LFrVISCZI+tCtQx+XfewgVTfyY3plPiQEAzI3zWy+kR6NBhFBYeBuscJLOUuA2WVLpCjVIaFzrNQZArxAZKUQm6gsj37L9Cb7dnIBUKxENaaMJQqMpDXvSL+ktxdGRm2IsKgJGGPg7atwUG5CcFUEuSv+CwQqizTrvDTNXdMU2bMiDWZd8d7QIySWVRsb2vBBioxOFt4OinPBapL+neAb5KL5IJ8szOza2/DYoipUCx+CjO0Bpsv0V6mktNZ+k8rlABlWG0FrOpKYVo8DT3dBeLEjUBAj7moDogVii7nSS9QzZnFcOVBp1g2PyBQ3Vr5aIapN91VJy33HTJLC1iX2FY6F8gRdaAeIEfVONgtFCzZTmoLEdOjBDfsIOA6128gw3eu1shAajdZNAORxuQDJN5A5PbEG6gNIu24QJD5iNyRMZIr6bsHbCtCU/OaOaSvgkUyDMdDa1BXGf5HJ1To+/Ym6mCKT02Y+/Sa126ZKyd3jxhzpc1r8zVL6YM1Qy/kR4ABAFJ6iQUnivhAAAAAAElFTkSuQmCC",j=d(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"]),k=d(["width: 100%","height: 100%","background: rgba(0,0,0,0.2)"]),l=d(["position: absolute","left: 50%","top: 40%","margin: 0 -130px","width: 260px","padding: 10px","background: white","border: solid 1px #AAA","border-radius: 3px","font-family: Helvetica, Arial, sans-serif","font-size: 14px","line-height: 1.2em"]),m='<div class="bjs-powered-by-lightbox" style="'+j+'"><div class="backdrop" style="'+k+'"></div><div class="notice" style="'+l+'"><a href="http://bpmn.io" target="_blank" style="float: left; margin-right: 10px"><img src="data:image/png;base64,'+i+'"></a>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="http://bpmn.io" target="_blank">bpmn.io</a>.</div></div>';b.exports.open=e},{"min-dom/lib/delegate":611,"min-dom/lib/domify":612}],401:[function(a,b,c){arguments[4][141][0].apply(c,arguments)},{"./lib/Diagram":402,dup:141}],402:[function(a,b,c){"use strict";function d(a){function b(a){return e.indexOf(a)>=0}function c(a){e.push(a)}function d(a){b(a)||((a.__depends__||[]).forEach(d),b(a)||(c(a),(a.__init__||[]).forEach(function(a){f.push(a)})))}var e=[],f=[];a.forEach(d);var h=new g.Injector(e);return f.forEach(function(a){try{h["string"==typeof a?"get":"invoke"](a)}catch(b){throw console.error("Failed to instantiate component"),console.error(b.stack),b}}),h}function e(b){b=b||{};var c={config:["value",b]},e=a("./core"),f=[c,e].concat(b.modules||[]);return d(f)}function f(a,b){this.injector=b=b||e(a),this.get=b.get,this.invoke=b.invoke,this.get("eventBus").fire("diagram.init")}var g=a("didi");b.exports=f,
f.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},f.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")}},{"./core":409,didi:449}],403:[function(a,b,c){"use strict";function d(a){return"object"==typeof a}function e(a){this._eventBus=a}function f(a,b){return function(c){return a.call(b||null,c.context,c.command,c)}}var g=a("lodash/collection/forEach"),h=a("lodash/lang/isFunction"),i=a("lodash/lang/isArray"),j=a("lodash/lang/isNumber"),k=1e3;e.$inject=["eventBus"],b.exports=e,e.prototype.on=function(a,b,c,e,l,m){if((h(b)||j(b))&&(m=l,l=e,e=c,c=b,b=null),h(c)&&(m=l,l=e,e=c,c=k),d(l)&&(m=l,l=!1),!h(e))throw new Error("handlerFn must be a function");i(a)||(a=[a]);var n=this._eventBus;g(a,function(a){var d=["commandStack",a,b].filter(function(a){return a}).join(".");n.on(d,c,l?f(e,m):e,m)})};var l=["canExecute","preExecute","preExecuted","execute","executed","postExecute","postExecuted","revert","reverted"];g(l,function(a){e.prototype[a]=function(b,c,d,e,f){(h(b)||j(b))&&(f=e,e=d,d=c,c=b,b=null),this.on(b,a,c,d,e,f)}})},{"lodash/collection/forEach":483,"lodash/lang/isArray":588,"lodash/lang/isFunction":589,"lodash/lang/isNumber":591}],404:[function(a,b,c){"use strict";function d(a,b){return Math.round(a*b)/b}function e(a){return j(a)?a+"px":a}function f(a){a=k({},{width:"100%",height:"100%"},a);var b=a.container||document.body,c=document.createElement("div");return c.setAttribute("class","djs-container"),k(c.style,{position:"relative",overflow:"hidden",width:e(a.width),height:e(a.height)}),b.appendChild(c),c}function g(a,b){var c=t("g");return s(c).add(b),q(a,c),c}function h(a,b,c,d){this._eventBus=b,this._elementRegistry=d,this._graphicsFactory=c,this._init(a||{})}function i(a,b){var c="matrix("+b.a+","+b.b+","+b.c+","+b.d+","+b.e+","+b.f+")";a.setAttribute("transform",c)}var j=a("lodash/lang/isNumber"),k=a("lodash/object/assign"),l=a("lodash/collection/forEach"),m=a("lodash/collection/every"),n=a("lodash/function/debounce"),o=a("../util/Collections"),p=a("../util/Elements"),q=a("tiny-svg/lib/append"),r=a("tiny-svg/lib/attr"),s=a("tiny-svg/lib/classes"),t=a("tiny-svg/lib/create"),u=a("tiny-svg/lib/transform"),v=a("tiny-svg/lib/geometry").createMatrix,w="base",x={shape:["x","y","width","height"],connection:["waypoints"]};h.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],b.exports=h,h.prototype._init=function(a){var b=this._eventBus,c=this._container=f(a),d=this._svg=t("svg");r(d,{width:"100%",height:"100%"}),q(c,d);var e=this._viewport=g(d,"viewport");this._layers={},a.deferUpdate!==!1&&(this._viewboxChanged=n(this._viewboxChanged,300)),b.on("diagram.init",function(){b.fire("canvas.init",{svg:d,viewport:e}),this.resized()},this),b.on("diagram.destroy",500,this._destroy,this),b.on("diagram.clear",500,this._clear,this)},h.prototype._destroy=function(a){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var b=this._container.parentNode;b&&b.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},h.prototype._clear=function(){var a=this,b=this._elementRegistry.getAll();b.forEach(function(b){var c=p.getType(b);"root"===c?a.setRootElement(null,!0):a._removeElement(b,c)}),delete this._cachedViewbox},h.prototype.getDefaultLayer=function(){return this.getLayer(w)},h.prototype.getLayer=function(a){if(!a)throw new Error("must specify a name");var b=this._layers[a];return b||(b=this._layers[a]=g(this._viewport,"layer-"+a)),b},h.prototype.getContainer=function(){return this._container},h.prototype._updateMarker=function(a,b,c){var d;a.id||(a=this._elementRegistry.get(a)),d=this._elementRegistry._elements[a.id],d&&(l([d.gfx,d.secondaryGfx],function(a){a&&(c?s(a).add(b):s(a).remove(b))}),this._eventBus.fire("element.marker.update",{element:a,gfx:d.gfx,marker:b,add:!!c}))},h.prototype.addMarker=function(a,b){this._updateMarker(a,b,!0)},h.prototype.removeMarker=function(a,b){this._updateMarker(a,b,!1)},h.prototype.hasMarker=function(a,b){a.id||(a=this._elementRegistry.get(a));var c=this.getGraphics(a);return s(c).has(b)},h.prototype.toggleMarker=function(a,b){this.hasMarker(a,b)?this.removeMarker(a,b):this.addMarker(a,b)},h.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},h.prototype.setRootElement=function(a,b){a&&this._ensureValid("root",a);var c=this._rootElement,d=this._elementRegistry,e=this._eventBus;if(c){if(!b)throw new Error("rootElement already set, need to specify override");e.fire("root.remove",{element:c}),e.fire("root.removed",{element:c}),d.remove(c)}if(a){var f=this.getDefaultLayer();e.fire("root.add",{element:a}),d.add(a,f,this._svg),e.fire("root.added",{element:a,gfx:f})}return this._rootElement=a,a},h.prototype._ensureValid=function(a,b){if(!b.id)throw new Error("element must have an id");if(this._elementRegistry.get(b.id))throw new Error("element with id "+b.id+" already exists");var c=x[a],d=m(c,function(a){return"undefined"!=typeof b[a]});if(!d)throw new Error("must supply { "+c.join(", ")+" } with "+a)},h.prototype._setParent=function(a,b,c){o.add(b.children,a,c),a.parent=b},h.prototype._addElement=function(a,b,c,d){c=c||this.getRootElement();var e=this._eventBus,f=this._graphicsFactory;this._ensureValid(a,b),e.fire(a+".add",{element:b,parent:c}),this._setParent(b,c,d);var g=f.create(a,b);return this._elementRegistry.add(b,g),f.update(a,b,g),e.fire(a+".added",{element:b,gfx:g}),b},h.prototype.addShape=function(a,b,c){return this._addElement("shape",a,b,c)},h.prototype.addConnection=function(a,b,c){return this._addElement("connection",a,b,c)},h.prototype._removeElement=function(a,b){var c=this._elementRegistry,d=this._graphicsFactory,e=this._eventBus;if(a=c.get(a.id||a))return e.fire(b+".remove",{element:a}),d.remove(a),o.remove(a.parent&&a.parent.children,a),a.parent=null,e.fire(b+".removed",{element:a}),c.remove(a),a},h.prototype.removeShape=function(a){return this._removeElement(a,"shape")},h.prototype.removeConnection=function(a){return this._removeElement(a,"connection")},h.prototype.getGraphics=function(a,b){return this._elementRegistry.getGraphics(a,b)},h.prototype._changeViewbox=function(a){this._eventBus.fire("canvas.viewbox.changing"),a.apply(this),this._cachedViewbox=null,this._viewboxChanged()},h.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},h.prototype.viewbox=function(a){if(void 0===a&&this._cachedViewbox)return this._cachedViewbox;var b,c,e,f,g,h=this._viewport,i=this.getSize();if(!a){b=this.getDefaultLayer().getBBox();var j=u(h);return c=j?j.matrix:v(),e=d(c.a,1e3),f=d(-c.e||0,1e3),g=d(-c.f||0,1e3),a=this._cachedViewbox={x:f?f/e:0,y:g?g/e:0,width:i.width/e,height:i.height/e,scale:e,inner:{width:b.width,height:b.height,x:b.x,y:b.y},outer:i}}return this._changeViewbox(function(){e=Math.min(i.width/a.width,i.height/a.height);var b=this._svg.createSVGMatrix().scale(e).translate(-a.x,-a.y);u(h,b)}),a},h.prototype.scroll=function(a){var b=this._viewport,c=b.getCTM();return a&&this._changeViewbox(function(){a=k({dx:0,dy:0},a||{}),c=this._svg.createSVGMatrix().translate(a.dx,a.dy).multiply(c),i(b,c)}),{x:c.e,y:c.f}},h.prototype.zoom=function(a,b){if(!a)return this.viewbox(a).scale;if("fit-viewport"===a)return this._fitViewport(b);var c,e;return this._changeViewbox(function(){"object"!=typeof b&&(c=this.viewbox().outer,b={x:c.width/2,y:c.height/2}),e=this._setZoom(a,b)}),d(e.a,1e3)},h.prototype._fitViewport=function(a){var b,c,d=this.viewbox(),e=d.outer,f=d.inner;return f.x>=0&&f.y>=0&&f.x+f.width<=e.width&&f.y+f.height<=e.height&&!a?c={x:0,y:0,width:Math.max(f.width+f.x,e.width),height:Math.max(f.height+f.y,e.height)}:(b=Math.min(1,e.width/f.width,e.height/f.height),c={x:f.x+(a?f.width/2-e.width/b/2:0),y:f.y+(a?f.height/2-e.height/b/2:0),width:e.width/b,height:e.height/b}),this.viewbox(c),this.viewbox(!1).scale},h.prototype._setZoom=function(a,b){var c,d,e,f,g,h=this._svg,j=this._viewport,l=h.createSVGMatrix(),m=h.createSVGPoint();e=j.getCTM();var n=e.a;return b?(c=k(m,b),d=c.matrixTransform(e.inverse()),f=l.translate(d.x,d.y).scale(1/n*a).translate(-d.x,-d.y),g=e.multiply(f)):g=l.scale(a),i(this._viewport,g),g},h.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},h.prototype.getAbsoluteBBox=function(a){var b,c=this.viewbox();if(a.waypoints){var d=this.getGraphics(a),e=d.getBBox(!0);b=d.getBBox(),b.x-=e.x,b.y-=e.y,b.width+=2*e.x,b.height+=2*e.y}else b=a;var f=b.x*c.scale-c.x*c.scale,g=b.y*c.scale-c.y*c.scale,h=b.width*c.scale,i=b.height*c.scale;return{x:f,y:g,width:h,height:i}},h.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")}},{"../util/Collections":436,"../util/Elements":438,"lodash/collection/every":480,"lodash/collection/forEach":483,"lodash/function/debounce":490,"lodash/lang/isNumber":591,"lodash/object/assign":597,"tiny-svg/lib/append":666,"tiny-svg/lib/attr":668,"tiny-svg/lib/classes":669,"tiny-svg/lib/create":671,"tiny-svg/lib/geometry":672,"tiny-svg/lib/transform":675}],405:[function(a,b,c){arguments[4][144][0].apply(c,arguments)},{"../model":429,dup:144,"lodash/object/assign":597}],406:[function(a,b,c){"use strict";function d(){this._elements={}}var e="data-element-id",f=a("tiny-svg/lib/attr");b.exports=d,d.prototype.add=function(a,b,c){var d=a.id;this._validateId(d),f(b,e,d),c&&f(c,e,d),this._elements[d]={element:a,gfx:b,secondaryGfx:c}},d.prototype.remove=function(a){var b=this._elements,c=a.id||a,d=c&&b[c];d&&(f(d.gfx,e,""),d.secondaryGfx&&f(d.secondaryGfx,e,""),delete b[c])},d.prototype.updateId=function(a,b){this._validateId(b),"string"==typeof a&&(a=this.get(a));var c=this.getGraphics(a),d=this.getGraphics(a,!0);this.remove(a),a.id=b,this.add(a,c,d)},d.prototype.get=function(a){var b;b="string"==typeof a?a:a&&f(a,e);var c=this._elements[b];return c&&c.element},d.prototype.filter=function(a){var b=[];return this.forEach(function(c,d){a(c,d)&&b.push(c)}),b},d.prototype.getAll=function(){return this.filter(function(a){return a})},d.prototype.forEach=function(a){var b=this._elements;Object.keys(b).forEach(function(c){var d=b[c],e=d.element,f=d.gfx;return a(e,f)})},d.prototype.getGraphics=function(a,b){var c=a.id||a,d=this._elements[c];return d&&(b?d.secondaryGfx:d.gfx)},d.prototype._validateId=function(a){if(!a)throw new Error("element must have an id");if(this._elements[a])throw new Error("element with id "+a+" already added")}},{"tiny-svg/lib/attr":668}],407:[function(a,b,c){arguments[4][146][0].apply(c,arguments)},{dup:146,"lodash/function/bind":489,"lodash/lang/isArray":588,"lodash/lang/isFunction":589,"lodash/lang/isNumber":591,"lodash/object/assign":597}],408:[function(a,b,c){"use strict";function d(a,b){this._eventBus=a,this._elementRegistry=b}function e(a,b){b.insertBefore(a,b.firstChild)}var f=a("lodash/collection/forEach"),g=a("lodash/collection/reduce"),h=a("../util/GraphicsUtil"),i=a("../util/SvgTransformUtil").translate,j=a("min-dom/lib/clear"),k=a("tiny-svg/lib/append"),l=a("tiny-svg/lib/attr"),m=a("tiny-svg/lib/classes"),n=a("tiny-svg/lib/create"),o=a("tiny-svg/lib/remove");d.$inject=["eventBus","elementRegistry"],b.exports=d,d.prototype._getChildren=function(a){var b,c=this._elementRegistry.getGraphics(a);return a.parent?(b=h.getChildren(c),b||(b=n("g"),m(b).add("djs-children"),k(c.parentNode,b))):b=c,b},d.prototype._clear=function(a){var b=h.getVisual(a);return j(b),b},d.prototype._createContainer=function(a,b){var c=n("g");m(c).add("djs-group"),k(b,c);var d=n("g");m(d).add("djs-element"),m(d).add("djs-"+a),k(c,d);var e=n("g");return m(e).add("djs-visual"),k(d,e),d},d.prototype.create=function(a,b){var c=this._getChildren(b.parent);return this._createContainer(a,c)},d.prototype.updateContainments=function(a){var b,c=this,d=this._elementRegistry;b=g(a,function(a,b){return b.parent&&(a[b.parent.id]=b.parent),a},{}),f(b,function(a){var b=c._getChildren(a),g=a.children;g&&f(g.slice().reverse(),function(a){var c=d.getGraphics(a);e(c.parentNode,b)})})},d.prototype.drawShape=function(a,b){var c=this._eventBus;return c.fire("render.shape",{gfx:a,element:b})},d.prototype.getShapePath=function(a){var b=this._eventBus;return b.fire("render.getShapePath",a)},d.prototype.drawConnection=function(a,b){var c=this._eventBus;return c.fire("render.connection",{gfx:a,element:b})},d.prototype.getConnectionPath=function(a){var b=this._eventBus;return b.fire("render.getConnectionPath",a)},d.prototype.update=function(a,b,c){if(b.parent){var d=this._clear(c);if("shape"===a)this.drawShape(d,b),i(c,b.x,b.y);else{if("connection"!==a)throw new Error("unknown type: "+a);this.drawConnection(d,b)}b.hidden?l(c,"display","none"):l(c,"display","block")}},d.prototype.remove=function(a){var b=this._elementRegistry.getGraphics(a);o(b.parentNode)}},{"../util/GraphicsUtil":440,"../util/SvgTransformUtil":446,"lodash/collection/forEach":483,"lodash/collection/reduce":486,"min-dom/lib/clear":609,"tiny-svg/lib/append":666,"tiny-svg/lib/attr":668,"tiny-svg/lib/classes":669,"tiny-svg/lib/create":671,"tiny-svg/lib/remove":674}],409:[function(a,b,c){arguments[4][148][0].apply(c,arguments)},{"../draw":413,"./Canvas":404,"./ElementFactory":405,"./ElementRegistry":406,"./EventBus":407,"./GraphicsFactory":408,dup:148}],410:[function(a,b,c){arguments[4][149][0].apply(c,arguments)},{dup:149}],411:[function(a,b,c){"use strict";function d(a,b){f.call(this,a,m),this.CONNECTION_STYLE=b.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=b.style({fill:"white",stroke:"fuchsia",strokeWidth:2})}var e=a("inherits"),f=a("./BaseRenderer"),g=a("../util/RenderUtil"),h=g.componentsToPath,i=g.createLine,j=a("tiny-svg/lib/append"),k=a("tiny-svg/lib/attr"),l=a("tiny-svg/lib/create"),m=1;e(d,f),d.prototype.canRender=function(){return!0},d.prototype.drawShape=function(a,b){var c=l("rect");return k(c,{x:0,y:0,width:b.width||0,height:b.height||0}),k(c,this.SHAPE_STYLE),j(a,c),c},d.prototype.drawConnection=function(a,b){var c=i(b.waypoints,this.CONNECTION_STYLE);return j(a,c),c},d.prototype.getShapePath=function(a){var b=a.x,c=a.y,d=a.width,e=a.height,f=[["M",b,c],["l",d,0],["l",0,e],["l",-d,0],["z"]];return h(f)},d.prototype.getConnectionPath=function(a){var b,c,d=a.waypoints,e=[];for(b=0;c=d[b];b++)c=c.original||c,e.push([0===b?"M":"L",c.x,c.y]);return h(e)},d.$inject=["eventBus","styles"],b.exports=d},{"../util/RenderUtil":445,"./BaseRenderer":410,inherits:473,"tiny-svg/lib/append":666,"tiny-svg/lib/attr":668,"tiny-svg/lib/create":671}],412:[function(a,b,c){arguments[4][151][0].apply(c,arguments)},{dup:151,"lodash/collection/reduce":486,"lodash/lang/isArray":588,"lodash/object/assign":597}],413:[function(a,b,c){arguments[4][152][0].apply(c,arguments)},{"./DefaultRenderer":411,"./Styles":412,dup:152}],414:[function(a,b,c){"use strict";function d(a,b){this._providers=[],this._eventBus=a,this._overlays=b,this._current=null,this._init()}function e(a,b){var c=m(a),d=g(b)?b:b.split(/\s+/g);d.forEach(function(a){c.add(a)})}var f=a("lodash/lang/isFunction"),g=a("lodash/lang/isArray"),h=a("lodash/collection/forEach"),i=a("min-dom/lib/delegate"),j=a("min-dom/lib/event"),k=a("min-dom/lib/attr"),l=a("min-dom/lib/query"),m=a("min-dom/lib/classes"),n=a("min-dom/lib/domify"),o=".entry";d.$inject=["eventBus","overlays"],b.exports=d,d.prototype._init=function(){var a=this._eventBus,b=this;a.on("selection.changed",function(a){var c=a.newSelection;1===c.length?b.open(c[0]):b.close()}),a.on("elements.delete",function(a){var c=a.elements;h(c,function(a){b.isOpen(a)&&b.close()})}),a.on("element.changed",function(a){var c=a.element,d=b._current;d&&d.element===c&&b.open(c,!0)})},d.prototype.registerProvider=function(a){this._providers.push(a)},d.prototype.getEntries=function(a){var b={};return h(this._providers,function(c){var d=c.getContextPadEntries(a);h(d,function(a,c){b[c]=a})}),b},d.prototype.trigger=function(a,b,c){var d,e,g,h=this._current.element,i=this._current.entries,j=b.delegateTarget||b.target;if(!j)return b.preventDefault();if(d=i[k(j,"data-action")],e=d.action,g=b.originalEvent||b,f(e)){if("click"===a)return e(g,h,c)}else if(e[a])return e[a](g,h,c);b.preventDefault()},d.prototype.open=function(a,b){!b&&this.isOpen(a)||(this.close(),this._updateAndOpen(a))},d.prototype._updateAndOpen=function(a){var b=this.getEntries(a),c=this.getPad(a),d=c.html;h(b,function(a,b){var c,f=a.group||"default",g=n(a.html||'<div class="entry" draggable="true"></div>');k(g,"data-action",b),c=l("[data-group="+f+"]",d),c||(c=n('<div class="group" data-group="'+f+'"></div>'),d.appendChild(c)),c.appendChild(g),a.className&&e(g,a.className),a.title&&k(g,"title",a.title),a.imageUrl&&g.appendChild(n('<img src="'+a.imageUrl+'">'))}),m(d).add("open"),this._current={element:a,pad:c,entries:b},this._eventBus.fire("contextPad.open",{current:this._current})},d.prototype.getPad=function(a){if(this.isOpen())return this._current.pad;var b=this,c=this._overlays,d=n('<div class="djs-context-pad"></div>');i.bind(d,o,"click",function(a){b.trigger("click",a)}),i.bind(d,o,"dragstart",function(a){b.trigger("dragstart",a)}),j.bind(d,"mousedown",function(a){a.stopPropagation()}),this._overlayId=c.add(a,"context-pad",{position:{right:-9,top:-6},html:d});var e=c.get(this._overlayId);return this._eventBus.fire("contextPad.create",{element:a,pad:e}),e},d.prototype.close=function(){this.isOpen()&&(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},d.prototype.isOpen=function(a){return!(!this._current||a&&this._current.element!==a)}},{"lodash/collection/forEach":483,"lodash/lang/isArray":588,"lodash/lang/isFunction":589,"min-dom/lib/attr":607,"min-dom/lib/classes":608,"min-dom/lib/delegate":611,"min-dom/lib/domify":612,"min-dom/lib/event":613,"min-dom/lib/query":614}],415:[function(a,b,c){b.exports={__depends__:[a("../interaction-events"),a("../overlays")],contextPad:["type",a("./ContextPad")]}},{"../interaction-events":417,"../overlays":421,"./ContextPad":414}],416:[function(a,b,c){"use strict";function d(a,b,c){function d(c,d,e){if(g(d)){var f,h,i;e?h=b.getGraphics(e):(f=d.delegateTarget||d.target,f&&(h=f,e=b.get(h))),h&&e&&(i=a.fire(c,{element:e,gfx:h,originalEvent:d}),i===!1&&(d.stopPropagation(),d.preventDefault()))}}function l(a){var b=v[a];return b||(b=v[a]=function(b){d(a,b)}),b}function p(a,b,c){var e=w[a];if(!e)throw new Error("unmapped DOM event name <"+a+">");return d(e,b,c)}function q(a,b,c){var d=l(c);d.$delegate=f.bind(a,x,b,d)}function r(a,b,c){f.unbind(a,b,l(c).$delegate)}function s(a){e(w,function(b,c){q(a,c,b)})}function t(a){e(w,function(b,c){r(a,c,b)})}var u=c.cls("djs-hit",["no-fill","no-border"],{stroke:"white",strokeWidth:15}),v={},w={mouseover:"element.hover",mouseout:"element.out",click:"element.click",dblclick:"element.dblclick",mousedown:"element.mousedown",mouseup:"element.mouseup"},x="svg, .djs-element";a.on("canvas.destroy",function(a){t(a.svg)}),a.on("canvas.init",function(a){s(a.svg)}),a.on(["shape.added","connection.added"],function(a){var b,c=a.element,d=a.gfx;c.waypoints?b=m(c.waypoints):(b=j("rect"),i(b,{x:0,y:0,width:c.width,height:c.height})),i(b,u),h(d,b)}),a.on("shape.changed",o,function(a){var b=a.element,c=a.gfx,d=k(".djs-hit",c);i(d,{width:b.width,height:b.height})}),a.on("connection.changed",function(a){var b=a.element,c=a.gfx,d=k(".djs-hit",c);n(d,b.waypoints)}),this.fire=d,this.triggerMouseEvent=p,this.mouseHandler=l,this.registerEvent=q,this.unregisterEvent=r}var e=a("lodash/collection/forEach"),f=a("min-dom/lib/delegate"),g=a("../../util/Mouse").isPrimaryButton,h=a("tiny-svg/lib/append"),i=a("tiny-svg/lib/attr"),j=a("tiny-svg/lib/create"),k=a("min-dom/lib/query"),l=a("../../util/RenderUtil"),m=l.createLine,n=l.updateLine,o=500;d.$inject=["eventBus","elementRegistry","styles"],b.exports=d},{"../../util/Mouse":443,"../../util/RenderUtil":445,"lodash/collection/forEach":483,"min-dom/lib/delegate":611,"min-dom/lib/query":614,"tiny-svg/lib/append":666,"tiny-svg/lib/attr":668,"tiny-svg/lib/create":671}],417:[function(a,b,c){arguments[4][154][0].apply(c,arguments)},{"./InteractionEvents":416,dup:154}],418:[function(a,b,c){"use strict";function d(a,b,c){function d(a,b){var c=i("rect");return h(c,k({x:10,y:10,width:100,height:100},e)),g(a,c),c}this.offset=6;var e=b.cls("djs-outline",["no-fill"]),l=this;a.on(["shape.added","shape.changed"],f,function(a){var b=a.element,c=a.gfx,e=j(".djs-outline",c);e||(e=d(c,b)),l.updateShapeOutline(e,b)}),a.on(["connection.added","connection.changed"],function(a){var b=a.element,c=a.gfx,e=j(".djs-outline",c);e||(e=d(c,b)),l.updateConnectionOutline(e,b)})}var e=a("../../util/Elements").getBBox,f=500,g=a("tiny-svg/lib/append"),h=a("tiny-svg/lib/attr"),i=a("tiny-svg/lib/create"),j=a("min-dom/lib/query"),k=a("lodash/object/assign");d.prototype.updateShapeOutline=function(a,b){h(a,{x:-this.offset,y:-this.offset,width:b.width+2*this.offset,height:b.height+2*this.offset})},d.prototype.updateConnectionOutline=function(a,b){var c=e(b);h(a,{x:c.x-this.offset,y:c.y-this.offset,width:c.width+2*this.offset,height:c.height+2*this.offset})},d.$inject=["eventBus","styles","elementRegistry"],b.exports=d},{"../../util/Elements":438,"lodash/object/assign":597,"min-dom/lib/query":614,"tiny-svg/lib/append":666,"tiny-svg/lib/attr":668,"tiny-svg/lib/create":671}],419:[function(a,b,c){arguments[4][156][0].apply(c,arguments)},{"./Outline":418,dup:156}],420:[function(a,b,c){"use strict";function d(a){var b=o('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />');return a.insertBefore(b,a.firstChild),b}function e(a,b,c){k(a.style,{left:b+"px",top:c+"px"})}function f(a,b){a.style.display=b===!1?"none":""}function g(a,b,c){this._eventBus=a,this._canvas=b,this._elementRegistry=c,this._ids=u,this._overlayDefaults={show:{minZoom:.7,maxZoom:5}},this._overlays={},this._overlayContainers=[],this._overlayRoot=d(b.getContainer()),this._init()}var h=a("lodash/lang/isArray"),i=a("lodash/lang/isString"),j=a("lodash/lang/isObject"),k=a("lodash/object/assign"),l=a("lodash/collection/forEach"),m=a("lodash/collection/find"),n=a("lodash/collection/filter"),o=a("min-dom/lib/domify"),p=a("min-dom/lib/classes"),q=a("min-dom/lib/attr"),r=a("min-dom/lib/remove"),s=a("min-dom/lib/clear"),t=a("../../util/Elements").getBBox,u=new(a("../../util/IdGenerator"))("ov"),v=500;g.$inject=["eventBus","canvas","elementRegistry"],b.exports=g,g.prototype.get=function(a){if(i(a)&&(a={id:a}),i(a.element)&&(a.element=this._elementRegistry.get(a.element)),a.element){var b=this._getOverlayContainer(a.element,!0);return b?a.type?n(b.overlays,{type:a.type}):b.overlays.slice():[]}return a.type?n(this._overlays,{type:a.type}):a.id?this._overlays[a.id]:null},g.prototype.add=function(a,b,c){if(j(b)&&(c=b,b=null),a.id||(a=this._elementRegistry.get(a)),!c.position)throw new Error("must specifiy overlay position");if(!c.html)throw new Error("must specifiy overlay html");if(!a)throw new Error("invalid element specified");var d=this._ids.next();return c=k({},this._overlayDefaults,c,{id:d,type:b,element:a,html:c.html}),this._addOverlay(c),d},g.prototype.remove=function(a){var b=this.get(a)||[];h(b)||(b=[b]);var c=this;l(b,function(a){var b=c._getOverlayContainer(a.element,!0);if(a&&(r(a.html),r(a.htmlContainer),delete a.htmlContainer,delete a.element,delete c._overlays[a.id]),b){var d=b.overlays.indexOf(a);d!==-1&&b.overlays.splice(d,1)}})},g.prototype.show=function(){f(this._overlayRoot)},g.prototype.hide=function(){f(this._overlayRoot,!1)},g.prototype.clear=function(){this._overlays={},this._overlayContainers=[],s(this._overlayRoot)},g.prototype._updateOverlayContainer=function(a){var b=a.element,c=a.html,d=b.x,f=b.y;if(b.waypoints){var g=t(b);d=g.x,f=g.y}e(c,d,f),q(a.html,"data-container-id",b.id)},g.prototype._updateOverlay=function(a){var b=a.position,c=a.htmlContainer,d=a.element,f=b.left,g=b.top;if(void 0!==b.right){var h;h=d.waypoints?t(d).width:d.width,f=b.right*-1+h}if(void 0!==b.bottom){var i;i=d.waypoints?t(d).height:d.height,g=b.bottom*-1+i}e(c,f||0,g||0)},g.prototype._createOverlayContainer=function(a){var b=o('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(b);var c={html:b,element:a,overlays:[]};return this._updateOverlayContainer(c),this._overlayContainers.push(c),c},g.prototype._updateRoot=function(a){var b=a.scale||1,c=a.scale||1,d="matrix("+b+",0,0,"+c+","+-1*a.x*b+","+-1*a.y*c+")";this._overlayRoot.style.transform=d,this._overlayRoot.style["-ms-transform"]=d,this._overlayRoot.style["-webkit-transform"]=d},g.prototype._getOverlayContainer=function(a,b){var c=m(this._overlayContainers,function(b){return b.element===a});return c||b?c:this._createOverlayContainer(a)},g.prototype._addOverlay=function(a){var b,c,d=a.id,e=a.element,f=a.html;f.get&&(f=f.get(0)),i(f)&&(f=o(f)),c=this._getOverlayContainer(e),b=o('<div class="djs-overlay" data-overlay-id="'+d+'" style="position: absolute">'),b.appendChild(f),a.type&&p(b).add("djs-overlay-"+a.type),a.htmlContainer=b,c.overlays.push(a),c.html.appendChild(b),this._overlays[d]=a,this._updateOverlay(a),this._updateOverlayVisibilty(a,this._canvas.viewbox())},g.prototype._updateOverlayVisibilty=function(a,b){var c=a.show,d=a.htmlContainer,e=!0;c&&((c.minZoom>b.scale||c.maxZoom<b.scale)&&(e=!1),f(d,e))},g.prototype._updateOverlaysVisibilty=function(a){var b=this;l(this._overlays,function(c){b._updateOverlayVisibilty(c,a)})},g.prototype._init=function(){function a(a){c._updateRoot(a),c._updateOverlaysVisibilty(a),c.show()}var b=this._eventBus,c=this;b.on("canvas.viewbox.changing",function(a){c.hide()}),b.on("canvas.viewbox.changed",function(b){a(b.viewbox)}),b.on(["shape.remove","connection.remove"],function(a){var b=a.element,d=c.get({element:b});l(d,function(a){c.remove(a.id)});var e=c._getOverlayContainer(b);if(e){r(e.html);var f=c._overlayContainers.indexOf(e);f!==-1&&c._overlayContainers.splice(f,1)}}),b.on("element.changed",v,function(a){var b=a.element,d=c._getOverlayContainer(b,!0);d&&(l(d.overlays,function(a){c._updateOverlay(a)}),c._updateOverlayContainer(d))}),b.on("element.marker.update",function(a){var b=c._getOverlayContainer(a.element,!0);b&&p(b.html)[a.add?"add":"remove"](a.marker)}),b.on("diagram.clear",this.clear,this)}},{"../../util/Elements":438,"../../util/IdGenerator":441,"lodash/collection/filter":481,"lodash/collection/find":482,"lodash/collection/forEach":483,"lodash/lang/isArray":588,"lodash/lang/isObject":592,"lodash/lang/isString":594,"lodash/object/assign":597,"min-dom/lib/attr":607,"min-dom/lib/classes":608,"min-dom/lib/clear":609,"min-dom/lib/domify":612,"min-dom/lib/remove":615}],421:[function(a,b,c){arguments[4][158][0].apply(c,arguments)},{"./Overlays":420,dup:158}],422:[function(a,b,c){"use strict";function d(a){f.call(this,a),this.init()}var e=a("inherits"),f=a("../../command/CommandInterceptor");d.$inject=["eventBus"],e(d,f),b.exports=d,d.prototype.addRule=function(a,b,c){var d=this;"string"==typeof a&&(a=[a]),a.forEach(function(a){d.canExecute(a,b,function(a,b,d){return c(a)},!0)})},d.prototype.init=function(){}},{"../../command/CommandInterceptor":403,inherits:473}],423:[function(a,b,c){"use strict";function d(a){this._commandStack=a.get("commandStack",!1)}d.$inject=["injector"],b.exports=d,d.prototype.allowed=function(a,b){var c=!0,d=this._commandStack;return d&&(c=d.canExecute(a,b)),void 0===c||c}},{}],424:[function(a,b,c){b.exports={__init__:["rules"],rules:["type",a("./Rules")]}},{"./Rules":423}],425:[function(a,b,c){arguments[4][159][0].apply(c,arguments)},{dup:159,"lodash/collection/forEach":483,"lodash/lang/isArray":588}],426:[function(a,b,c){arguments[4][160][0].apply(c,arguments)},{"../../util/Mouse":443,dup:160,"lodash/collection/find":482}],427:[function(a,b,c){"use strict";function d(a,b,c,d){function h(a,c){b.addMarker(a,c)}function i(a,c){b.removeMarker(a,c)}this._multiSelectionBox=null,a.on("element.hover",function(a){h(a.element,f)}),a.on("element.out",function(a){i(a.element,f)}),a.on("selection.changed",function(a){function b(a){i(a,g)}function c(a){h(a,g)}var d=a.oldSelection,f=a.newSelection;e(d,function(a){f.indexOf(a)===-1&&b(a)}),e(f,function(a){d.indexOf(a)===-1&&c(a)})})}var e=a("lodash/collection/forEach"),f="hover",g="selected";d.$inject=["eventBus","canvas","selection","styles"],b.exports=d},{"lodash/collection/forEach":483}],428:[function(a,b,c){arguments[4][162][0].apply(c,arguments)},{"../interaction-events":417,"../outline":419,"./Selection":425,"./SelectionBehavior":426,"./SelectionVisuals":427,dup:162}],429:[function(a,b,c){arguments[4][163][0].apply(c,arguments)},{dup:163,inherits:473,"lodash/object/assign":597,"object-refs":624}],430:[function(a,b,c){"use strict";function d(a){return Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2))}function e(a,b){function c(a){var c=n.start,e=k.toPoint(a),i=h(e,c);if(!n.dragging&&d(i)>l&&(n.dragging=!0,g.install(),f.set("grab")),n.dragging){var j=n.last||n.start;i=h(e,j),b.scroll({dx:i.x,dy:i.y}),n.last=e}a.preventDefault()}function e(a){i.unbind(document,"mousemove",c),i.unbind(document,"mouseup",e),n=null,f.unset()}function m(a){j(a.target,".djs-draggable")||a.button||a.ctrlKey||a.shiftKey||a.altKey||(n={start:k.toPoint(a)},i.bind(document,"mousemove",c),i.bind(document,"mouseup",e))}var n,o=b._container;i.bind(o,"mousedown",m)}var f=a("../../util/Cursor"),g=a("../../util/ClickTrap"),h=a("../../util/Math").substract,i=a("min-dom/lib/event"),j=a("min-dom/lib/closest"),k=a("../../util/Event"),l=15;e.$inject=["eventBus","canvas"],b.exports=e},{"../../util/ClickTrap":435,"../../util/Cursor":437,"../../util/Event":439,"../../util/Math":442,"min-dom/lib/closest":610,"min-dom/lib/event":613}],431:[function(a,b,c){arguments[4][165][0].apply(c,arguments)},{"./MoveCanvas":430,dup:165}],432:[function(a,b,c){arguments[4][166][0].apply(c,arguments)},{"../../util/Math":442,"../../util/Mouse":443,"../../util/Platform":444,"./ZoomUtil":433,dup:166,"lodash/function/bind":489,"min-dom/lib/closest":610,"min-dom/lib/event":613}],433:[function(a,b,c){arguments[4][167][0].apply(c,arguments)},{"../../util/Math":442,dup:167}],434:[function(a,b,c){arguments[4][168][0].apply(c,arguments)},{"./ZoomScroll":432,dup:168}],435:[function(a,b,c){arguments[4][169][0].apply(c,arguments)},{"./Event":439,dup:169,"min-dom/lib/event":613}],436:[function(a,b,c){arguments[4][170][0].apply(c,arguments)},{dup:170}],437:[function(a,b,c){arguments[4][171][0].apply(c,arguments)},{dup:171,"min-dom/lib/classes":608}],438:[function(a,b,c){arguments[4][172][0].apply(c,arguments)},{dup:172,"lodash/collection/forEach":483,"lodash/collection/groupBy":484,"lodash/lang/isArray":588,"lodash/lang/isNumber":591}],439:[function(a,b,c){arguments[4][173][0].apply(c,arguments)},{dup:173}],440:[function(a,b,c){"use strict";function d(a){return f(".djs-visual",a)}function e(a){return a.parentNode.childNodes[1]}var f=a("min-dom/lib/query");b.exports.getVisual=d,b.exports.getChildren=e},{"min-dom/lib/query":614}],441:[function(a,b,c){arguments[4][175][0].apply(c,arguments)},{dup:175}],442:[function(a,b,c){arguments[4][176][0].apply(c,arguments)},{dup:176}],443:[function(a,b,c){arguments[4][177][0].apply(c,arguments)},{"./Event":439,"./Platform":444,dup:177}],444:[function(a,b,c){arguments[4][178][0].apply(c,arguments)},{dup:178}],445:[function(a,b,c){"use strict";function d(a){for(var b,c="",d=0;b=a[d];d++)c+=b.x+","+b.y+" ";return c}var e=a("tiny-svg/lib/attr"),f=a("tiny-svg/lib/create");b.exports.componentsToPath=function(a){return a.join(",").replace(/,?([A-z]),?/g,"$1")},b.exports.toSVGPoints=d,b.exports.createLine=function(a,b){var c=f("polyline");return e(c,{points:d(a)}),b&&e(c,b),c},b.exports.updateLine=function(a,b){return e(a,{points:d(b)}),a}},{"tiny-svg/lib/attr":668,"tiny-svg/lib/create":671}],446:[function(a,b,c){"use strict";var d=a("tiny-svg/lib/transform"),e=a("tiny-svg/lib/geometry").createTransform;
b.exports.transform=function(a,b,c,f,g){var h=e();h.setTranslate(b,c);var i=e();i.setRotate(f,0,0);var j=e();j.setScale(g||1,g||1),d(a,[h,i,j])},b.exports.translate=function(a,b,c){var f=e();f.setTranslate(b,c),d(a,f)},b.exports.rotate=function(a,b){var c=e();c.setRotate(b,0,0),d(a,c)},b.exports.scale=function(a,b){var c=e();c.setScale(b,b),d(a,c)}},{"tiny-svg/lib/geometry":672,"tiny-svg/lib/transform":675}],447:[function(a,b,c){"use strict";function d(a){var b=a.split("-");return{horizontal:b[0]||"center",vertical:b[1]||"top"}}function e(a){return l(a)?m({top:0,left:0,right:0,bottom:0},a):{top:a,left:a,right:a,bottom:a}}function f(a,b){b.textContent=a;try{var c,d=""===a;return b.textContent=d?"dummy":a,c=n(b.getBBox(),["width","height"]),d&&(c.width=0),c}catch(e){return{width:0,height:0}}}function g(a,b,c){for(var d,e=a.shift(),g=e;;){if(d=f(g,c),d.width=g?d.width:0," "===g||""===g||d.width<Math.round(b)||g.length<4)return h(a,g,e,d);g=j(g,d.width,b)}}function h(a,b,c,d){if(b.length<c.length){var e=a[0]||"",f=c.slice(b.length).trim();e=/-\s*$/.test(f)?f+e.replace(/^\s+/,""):f+" "+e,a[0]=e}return{width:d.width,height:d.height,text:b}}function i(a,b){var c,d=a.split(/(\s|-)/g),e=[],f=0;if(d.length>1)for(;c=d.shift();){if(!(c.length+f<b)){"-"===c&&e.pop();break}e.push(c),f+=c.length}return e.join("")}function j(a,b,c){var d=Math.max(a.length*(c/b),1),e=i(a,d);return e||(e=a.slice(0,Math.max(Math.round(d-1),1))),e}function k(a){this._config=m({},{size:w,padding:v,style:{},align:"center-top"},a||{})}var l=a("lodash/lang/isObject"),m=a("lodash/object/assign"),n=a("lodash/object/pick"),o=a("lodash/collection/forEach"),p=a("lodash/collection/reduce"),q=a("lodash/object/merge"),r=a("tiny-svg/lib/append"),s=a("tiny-svg/lib/attr"),t=a("tiny-svg/lib/create"),u=a("tiny-svg/lib/remove"),v=0,w={width:150,height:50};k.prototype.createText=function(a,b,c){var f=q({},this._config.size,c.box||{}),h=q({},this._config.style,c.style||{}),i=d(c.align||this._config.align),j=e(void 0!==c.padding?c.padding:this._config.padding),k=b.split(/\r?\n/g),l=[],m=f.width-j.left-j.right,n=t("text");for(s(n,{x:0,y:0}),s(n,h),r(a,n);k.length;)l.push(g(k,m,n));var v,w,x=p(l,function(a,b,c){return a+b.height},0);switch(i.vertical){case"middle":v=(f.height-x)/2-l[0].height/4;break;default:v=j.top}var y=t("text");return s(y,h),r(a,y),o(l,function(a){switch(v+=a.height,i.horizontal){case"left":w=j.left;break;case"right":w=m-j.right-a.width;break;default:w=Math.max((m-a.width)/2+j.left,0)}var b=t("tspan");s(b,{x:w,y:v}),b.textContent=a.text,r(y,b)}),u(n),y},b.exports=k},{"lodash/collection/forEach":483,"lodash/collection/reduce":486,"lodash/lang/isObject":592,"lodash/object/assign":597,"lodash/object/merge":600,"lodash/object/pick":603,"tiny-svg/lib/append":666,"tiny-svg/lib/attr":668,"tiny-svg/lib/create":671,"tiny-svg/lib/remove":674}],448:[function(a,b,c){arguments[4][181][0].apply(c,arguments)},{dup:181}],449:[function(a,b,c){arguments[4][182][0].apply(c,arguments)},{"./annotation":448,"./injector":450,"./module":451,dup:182}],450:[function(a,b,c){arguments[4][183][0].apply(c,arguments)},{"./annotation":448,"./module":451,dup:183}],451:[function(a,b,c){arguments[4][184][0].apply(c,arguments)},{dup:184}],452:[function(a,b,c){arguments[4][120][0].apply(c,arguments)},{"./lib/simple":454,dup:120}],453:[function(a,b,c){"use strict";function d(a,b){h.call(this,a,b)}var e=a("lodash/lang/isString"),f=a("lodash/lang/isFunction"),g=a("lodash/object/assign"),h=a("moddle"),i=a("moddle-xml/lib/reader"),j=a("moddle-xml/lib/writer");d.prototype=Object.create(h.prototype),b.exports=d,d.prototype.fromXML=function(a,b,c,d){e(b)||(d=c,c=b,b="dmn:Definitions"),f(c)&&(d=c,c={});var h=new i(g({model:this,lax:!0},c)),j=h.handler(b);h.fromXML(a,j,d)},d.prototype.toXML=function(a,b,c){f(b)&&(c=b,b={});var d=new j(b);try{var e=d.toXML(a);c(null,e)}catch(g){c(g)}}},{"lodash/lang/isFunction":589,"lodash/lang/isString":594,"lodash/object/assign":597,moddle:460,"moddle-xml/lib/reader":456,"moddle-xml/lib/writer":457}],454:[function(a,b,c){"use strict";var d=a("lodash/object/assign"),e=a("./dmn-moddle"),f={dmn:a("../resources/dmn/json/dmn.json"),camunda:a("../resources/dmn/camunda/camunda.json"),dc:a("../resources/dmn/bpmn-io/dc.json"),biodi:a("../resources/dmn/bpmn-io/biodi.json")};b.exports=function(a,b){return new e(d({},f,a),b)}},{"../resources/dmn/bpmn-io/biodi.json":469,"../resources/dmn/bpmn-io/dc.json":470,"../resources/dmn/camunda/camunda.json":471,"../resources/dmn/json/dmn.json":472,"./dmn-moddle":453,"lodash/object/assign":597}],455:[function(a,b,c){arguments[4][123][0].apply(c,arguments)},{dup:123}],456:[function(a,b,c){arguments[4][124][0].apply(c,arguments)},{"./common":455,dup:124,"lodash/collection/find":482,"lodash/collection/forEach":483,"lodash/collection/reduce":486,"lodash/function/defer":491,"lodash/object/assign":597,moddle:460,"moddle/lib/ns":465,"moddle/lib/types":468,sax:458,"tiny-stack":459}],457:[function(a,b,c){arguments[4][125][0].apply(c,arguments)},{"./common":455,dup:125,"lodash/collection/filter":481,"lodash/collection/forEach":483,"lodash/collection/map":485,"lodash/lang/isString":594,"lodash/object/assign":597,"moddle/lib/ns":465,"moddle/lib/types":468}],458:[function(a,b,c){(function(b){!function(c){function d(a,b){if(!(this instanceof d))return new d(a,b);var e=this;f(e),e.q=e.c="",e.bufferCheckPosition=c.MAX_BUFFER_LENGTH,e.opt=b||{},e.opt.lowercase=e.opt.lowercase||e.opt.lowercasetags,e.looseCase=e.opt.lowercase?"toLowerCase":"toUpperCase",e.tags=[],e.closed=e.closedRoot=e.sawRoot=!1,e.tag=e.error=null,e.strict=!!a,e.noscript=!(!a&&!e.opt.noscript),e.state=S.BEGIN,e.ENTITIES=Object.create(c.ENTITIES),e.attribList=[],e.opt.xmlns&&(e.ns=Object.create(P)),e.trackPosition=e.opt.position!==!1,e.trackPosition&&(e.position=e.line=e.column=0),n(e,"onready")}function e(a){for(var b=Math.max(c.MAX_BUFFER_LENGTH,10),d=0,e=0,f=B.length;e<f;e++){var g=a[B[e]].length;if(g>b)switch(B[e]){case"textNode":p(a);break;case"cdata":o(a,"oncdata",a.cdata),a.cdata="";break;case"script":o(a,"onscript",a.script),a.script="";break;default:r(a,"Max buffer length exceeded: "+B[e])}d=Math.max(d,g)}a.bufferCheckPosition=c.MAX_BUFFER_LENGTH-d+a.position}function f(a){for(var b=0,c=B.length;b<c;b++)a[B[b]]=""}function g(a){p(a),""!==a.cdata&&(o(a,"oncdata",a.cdata),a.cdata=""),""!==a.script&&(o(a,"onscript",a.script),a.script="")}function h(a,b){return new i(a,b)}function i(a,b){if(!(this instanceof i))return new i(a,b);C.apply(this),this._parser=new d(a,b),this.writable=!0,this.readable=!0;var c=this;this._parser.onend=function(){c.emit("end")},this._parser.onerror=function(a){c.emit("error",a),c._parser.error=null},this._decoder=null,E.forEach(function(a){Object.defineProperty(c,"on"+a,{get:function(){return c._parser["on"+a]},set:function(b){return b?void c.on(a,b):(c.removeAllListeners(a),c._parser["on"+a]=b)},enumerable:!0,configurable:!1})})}function j(a){return a.split("").reduce(function(a,b){return a[b]=!0,a},{})}function k(a){return"[object RegExp]"===Object.prototype.toString.call(a)}function l(a,b){return k(a)?!!b.match(a):a[b]}function m(a,b){return!l(a,b)}function n(a,b,c){a[b]&&a[b](c)}function o(a,b,c){a.textNode&&p(a),n(a,b,c)}function p(a){a.textNode=q(a.opt,a.textNode),a.textNode&&n(a,"ontext",a.textNode),a.textNode=""}function q(a,b){return a.trim&&(b=b.trim()),a.normalize&&(b=b.replace(/\s+/g," ")),b}function r(a,b){return p(a),a.trackPosition&&(b+="\nLine: "+a.line+"\nColumn: "+a.column+"\nChar: "+a.c),b=new Error(b),a.error=b,n(a,"onerror",b),a}function s(a){return a.closedRoot||t(a,"Unclosed root tag"),a.state!==S.BEGIN&&a.state!==S.TEXT&&r(a,"Unexpected end"),p(a),a.c="",a.closed=!0,n(a,"onend"),d.call(a,a.strict,a.opt),a}function t(a,b){if("object"!=typeof a||!(a instanceof d))throw new Error("bad call to strictFail");a.strict&&r(a,b)}function u(a){a.strict||(a.tagName=a.tagName[a.looseCase]());var b=a.tags[a.tags.length-1]||a,c=a.tag={name:a.tagName,attributes:{}};a.opt.xmlns&&(c.ns=b.ns),a.attribList.length=0}function v(a,b){var c=a.indexOf(":"),d=c<0?["",a]:a.split(":"),e=d[0],f=d[1];return b&&"xmlns"===a&&(e="xmlns",f=""),{prefix:e,local:f}}function w(a){if(a.strict||(a.attribName=a.attribName[a.looseCase]()),a.attribList.indexOf(a.attribName)!==-1||a.tag.attributes.hasOwnProperty(a.attribName))return a.attribName=a.attribValue="";if(a.opt.xmlns){var b=v(a.attribName,!0),c=b.prefix,d=b.local;if("xmlns"===c)if("xml"===d&&a.attribValue!==N)t(a,"xml: prefix must be bound to "+N+"\nActual: "+a.attribValue);else if("xmlns"===d&&a.attribValue!==O)t(a,"xmlns: prefix must be bound to "+O+"\nActual: "+a.attribValue);else{var e=a.tag,f=a.tags[a.tags.length-1]||a;e.ns===f.ns&&(e.ns=Object.create(f.ns)),e.ns[d]=a.attribValue}a.attribList.push([a.attribName,a.attribValue])}else a.tag.attributes[a.attribName]=a.attribValue,o(a,"onattribute",{name:a.attribName,value:a.attribValue});a.attribName=a.attribValue=""}function x(a,b){if(a.opt.xmlns){var c=a.tag,d=v(a.tagName);c.prefix=d.prefix,c.local=d.local,c.uri=c.ns[d.prefix]||"",c.prefix&&!c.uri&&(t(a,"Unbound namespace prefix: "+JSON.stringify(a.tagName)),c.uri=d.prefix);var e=a.tags[a.tags.length-1]||a;c.ns&&e.ns!==c.ns&&Object.keys(c.ns).forEach(function(b){o(a,"onopennamespace",{prefix:b,uri:c.ns[b]})});for(var f=0,g=a.attribList.length;f<g;f++){var h=a.attribList[f],i=h[0],j=h[1],k=v(i,!0),l=k.prefix,m=k.local,n=""==l?"":c.ns[l]||"",p={name:i,value:j,prefix:l,local:m,uri:n};l&&"xmlns"!=l&&!n&&(t(a,"Unbound namespace prefix: "+JSON.stringify(l)),p.uri=l),a.tag.attributes[i]=p,o(a,"onattribute",p)}a.attribList.length=0}a.tag.isSelfClosing=!!b,a.sawRoot=!0,a.tags.push(a.tag),o(a,"onopentag",a.tag),b||(a.noscript||"script"!==a.tagName.toLowerCase()?a.state=S.TEXT:a.state=S.SCRIPT,a.tag=null,a.tagName=""),a.attribName=a.attribValue="",a.attribList.length=0}function y(a){if(!a.tagName)return t(a,"Weird empty close tag."),a.textNode+="</>",void(a.state=S.TEXT);if(a.script){if("script"!==a.tagName)return a.script+="</"+a.tagName+">",a.tagName="",void(a.state=S.SCRIPT);o(a,"onscript",a.script),a.script=""}var b=a.tags.length,c=a.tagName;a.strict||(c=c[a.looseCase]());for(var d=c;b--;){var e=a.tags[b];if(e.name===d)break;t(a,"Unexpected close tag")}if(b<0)return t(a,"Unmatched closing tag: "+a.tagName),a.textNode+="</"+a.tagName+">",void(a.state=S.TEXT);a.tagName=c;for(var f=a.tags.length;f-- >b;){var g=a.tag=a.tags.pop();a.tagName=a.tag.name,o(a,"onclosetag",a.tagName);var h={};for(var i in g.ns)h[i]=g.ns[i];var j=a.tags[a.tags.length-1]||a;a.opt.xmlns&&g.ns!==j.ns&&Object.keys(g.ns).forEach(function(b){var c=g.ns[b];o(a,"onclosenamespace",{prefix:b,uri:c})})}0===b&&(a.closedRoot=!0),a.tagName=a.attribValue=a.attribName="",a.attribList.length=0,a.state=S.TEXT}function z(a){var b,c=a.entity,d=c.toLowerCase(),e="";return a.ENTITIES[c]?a.ENTITIES[c]:a.ENTITIES[d]?a.ENTITIES[d]:(c=d,"#"===c.charAt(0)&&("x"===c.charAt(1)?(c=c.slice(2),b=parseInt(c,16),e=b.toString(16)):(c=c.slice(1),b=parseInt(c,10),e=b.toString(10))),c=c.replace(/^0+/,""),e.toLowerCase()!==c?(t(a,"Invalid character entity"),"&"+a.entity+";"):String.fromCodePoint(b))}function A(a){var b=this;if(this.error)throw this.error;if(b.closed)return r(b,"Cannot write after close. Assign an onready handler.");if(null===a)return s(b);for(var c=0,d="";b.c=d=a.charAt(c++);)switch(b.trackPosition&&(b.position++,"\n"===d?(b.line++,b.column=0):b.column++),b.state){case S.BEGIN:"<"===d?(b.state=S.OPEN_WAKA,b.startTagPosition=b.position):m(F,d)&&(t(b,"Non-whitespace before first tag."),b.textNode=d,b.state=S.TEXT);continue;case S.TEXT:if(b.sawRoot&&!b.closedRoot){for(var f=c-1;d&&"<"!==d&&"&"!==d;)d=a.charAt(c++),d&&b.trackPosition&&(b.position++,"\n"===d?(b.line++,b.column=0):b.column++);b.textNode+=a.substring(f,c-1)}"<"===d?(b.state=S.OPEN_WAKA,b.startTagPosition=b.position):(!m(F,d)||b.sawRoot&&!b.closedRoot||t(b,"Text data outside of root node."),"&"===d?b.state=S.TEXT_ENTITY:b.textNode+=d);continue;case S.SCRIPT:"<"===d?b.state=S.SCRIPT_ENDING:b.script+=d;continue;case S.SCRIPT_ENDING:"/"===d?b.state=S.CLOSE_TAG:(b.script+="<"+d,b.state=S.SCRIPT);continue;case S.OPEN_WAKA:if("!"===d)b.state=S.SGML_DECL,b.sgmlDecl="";else if(l(F,d));else if(l(Q,d))b.state=S.OPEN_TAG,b.tagName=d;else if("/"===d)b.state=S.CLOSE_TAG,b.tagName="";else if("?"===d)b.state=S.PROC_INST,b.procInstName=b.procInstBody="";else{if(t(b,"Unencoded <"),b.startTagPosition+1<b.position){var g=b.position-b.startTagPosition;d=new Array(g).join(" ")+d}b.textNode+="<"+d,b.state=S.TEXT}continue;case S.SGML_DECL:(b.sgmlDecl+d).toUpperCase()===L?(o(b,"onopencdata"),b.state=S.CDATA,b.sgmlDecl="",b.cdata=""):b.sgmlDecl+d==="--"?(b.state=S.COMMENT,b.comment="",b.sgmlDecl=""):(b.sgmlDecl+d).toUpperCase()===M?(b.state=S.DOCTYPE,(b.doctype||b.sawRoot)&&t(b,"Inappropriately located doctype declaration"),b.doctype="",b.sgmlDecl=""):">"===d?(o(b,"onsgmldeclaration",b.sgmlDecl),b.sgmlDecl="",b.state=S.TEXT):l(I,d)?(b.state=S.SGML_DECL_QUOTED,b.sgmlDecl+=d):b.sgmlDecl+=d;continue;case S.SGML_DECL_QUOTED:d===b.q&&(b.state=S.SGML_DECL,b.q=""),b.sgmlDecl+=d;continue;case S.DOCTYPE:">"===d?(b.state=S.TEXT,o(b,"ondoctype",b.doctype),b.doctype=!0):(b.doctype+=d,"["===d?b.state=S.DOCTYPE_DTD:l(I,d)&&(b.state=S.DOCTYPE_QUOTED,b.q=d));continue;case S.DOCTYPE_QUOTED:b.doctype+=d,d===b.q&&(b.q="",b.state=S.DOCTYPE);continue;case S.DOCTYPE_DTD:b.doctype+=d,"]"===d?b.state=S.DOCTYPE:l(I,d)&&(b.state=S.DOCTYPE_DTD_QUOTED,b.q=d);continue;case S.DOCTYPE_DTD_QUOTED:b.doctype+=d,d===b.q&&(b.state=S.DOCTYPE_DTD,b.q="");continue;case S.COMMENT:"-"===d?b.state=S.COMMENT_ENDING:b.comment+=d;continue;case S.COMMENT_ENDING:"-"===d?(b.state=S.COMMENT_ENDED,b.comment=q(b.opt,b.comment),b.comment&&o(b,"oncomment",b.comment),b.comment=""):(b.comment+="-"+d,b.state=S.COMMENT);continue;case S.COMMENT_ENDED:">"!==d?(t(b,"Malformed comment"),b.comment+="--"+d,b.state=S.COMMENT):b.state=S.TEXT;continue;case S.CDATA:"]"===d?b.state=S.CDATA_ENDING:b.cdata+=d;continue;case S.CDATA_ENDING:"]"===d?b.state=S.CDATA_ENDING_2:(b.cdata+="]"+d,b.state=S.CDATA);continue;case S.CDATA_ENDING_2:">"===d?(b.cdata&&o(b,"oncdata",b.cdata),o(b,"onclosecdata"),b.cdata="",b.state=S.TEXT):"]"===d?b.cdata+="]":(b.cdata+="]]"+d,b.state=S.CDATA);continue;case S.PROC_INST:"?"===d?b.state=S.PROC_INST_ENDING:l(F,d)?b.state=S.PROC_INST_BODY:b.procInstName+=d;continue;case S.PROC_INST_BODY:if(!b.procInstBody&&l(F,d))continue;"?"===d?b.state=S.PROC_INST_ENDING:b.procInstBody+=d;continue;case S.PROC_INST_ENDING:">"===d?(o(b,"onprocessinginstruction",{name:b.procInstName,body:b.procInstBody}),b.procInstName=b.procInstBody="",b.state=S.TEXT):(b.procInstBody+="?"+d,b.state=S.PROC_INST_BODY);continue;case S.OPEN_TAG:l(R,d)?b.tagName+=d:(u(b),">"===d?x(b):"/"===d?b.state=S.OPEN_TAG_SLASH:(m(F,d)&&t(b,"Invalid character in tag name"),b.state=S.ATTRIB));continue;case S.OPEN_TAG_SLASH:">"===d?(x(b,!0),y(b)):(t(b,"Forward-slash in opening tag not followed by >"),b.state=S.ATTRIB);continue;case S.ATTRIB:if(l(F,d))continue;">"===d?x(b):"/"===d?b.state=S.OPEN_TAG_SLASH:l(Q,d)?(b.attribName=d,b.attribValue="",b.state=S.ATTRIB_NAME):t(b,"Invalid attribute name");continue;case S.ATTRIB_NAME:"="===d?b.state=S.ATTRIB_VALUE:">"===d?(t(b,"Attribute without value"),b.attribValue=b.attribName,w(b),x(b)):l(F,d)?b.state=S.ATTRIB_NAME_SAW_WHITE:l(R,d)?b.attribName+=d:t(b,"Invalid attribute name");continue;case S.ATTRIB_NAME_SAW_WHITE:if("="===d)b.state=S.ATTRIB_VALUE;else{if(l(F,d))continue;t(b,"Attribute without value"),b.tag.attributes[b.attribName]="",b.attribValue="",o(b,"onattribute",{name:b.attribName,value:""}),b.attribName="",">"===d?x(b):l(Q,d)?(b.attribName=d,b.state=S.ATTRIB_NAME):(t(b,"Invalid attribute name"),b.state=S.ATTRIB)}continue;case S.ATTRIB_VALUE:if(l(F,d))continue;l(I,d)?(b.q=d,b.state=S.ATTRIB_VALUE_QUOTED):(t(b,"Unquoted attribute value"),b.state=S.ATTRIB_VALUE_UNQUOTED,b.attribValue=d);continue;case S.ATTRIB_VALUE_QUOTED:if(d!==b.q){"&"===d?b.state=S.ATTRIB_VALUE_ENTITY_Q:b.attribValue+=d;continue}w(b),b.q="",b.state=S.ATTRIB_VALUE_CLOSED;continue;case S.ATTRIB_VALUE_CLOSED:l(F,d)?b.state=S.ATTRIB:">"===d?x(b):"/"===d?b.state=S.OPEN_TAG_SLASH:l(Q,d)?(t(b,"No whitespace between attributes"),b.attribName=d,b.attribValue="",b.state=S.ATTRIB_NAME):t(b,"Invalid attribute name");continue;case S.ATTRIB_VALUE_UNQUOTED:if(m(K,d)){"&"===d?b.state=S.ATTRIB_VALUE_ENTITY_U:b.attribValue+=d;continue}w(b),">"===d?x(b):b.state=S.ATTRIB;continue;case S.CLOSE_TAG:if(b.tagName)">"===d?y(b):l(R,d)?b.tagName+=d:b.script?(b.script+="</"+b.tagName,b.tagName="",b.state=S.SCRIPT):(m(F,d)&&t(b,"Invalid tagname in closing tag"),b.state=S.CLOSE_TAG_SAW_WHITE);else{if(l(F,d))continue;m(Q,d)?b.script?(b.script+="</"+d,b.state=S.SCRIPT):t(b,"Invalid tagname in closing tag."):b.tagName=d}continue;case S.CLOSE_TAG_SAW_WHITE:if(l(F,d))continue;">"===d?y(b):t(b,"Invalid characters in closing tag");continue;case S.TEXT_ENTITY:case S.ATTRIB_VALUE_ENTITY_Q:case S.ATTRIB_VALUE_ENTITY_U:switch(b.state){case S.TEXT_ENTITY:var h=S.TEXT,i="textNode";break;case S.ATTRIB_VALUE_ENTITY_Q:var h=S.ATTRIB_VALUE_QUOTED,i="attribValue";break;case S.ATTRIB_VALUE_ENTITY_U:var h=S.ATTRIB_VALUE_UNQUOTED,i="attribValue"}";"===d?(b[i]+=z(b),b.entity="",b.state=h):l(J,d)?b.entity+=d:(t(b,"Invalid character entity"),b[i]+="&"+b.entity+d,b.entity="",b.state=h);continue;default:throw new Error(b,"Unknown state: "+b.state)}return b.position>=b.bufferCheckPosition&&e(b),b}c.parser=function(a,b){return new d(a,b)},c.SAXParser=d,c.SAXStream=i,c.createStream=h,c.MAX_BUFFER_LENGTH=65536;var B=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];c.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(a){function b(){this.__proto__=a}return b.prototype=a,new b}),Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.__proto__}),Object.keys||(Object.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}),d.prototype={end:function(){s(this)},write:A,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){g(this)}};try{var C=a("stream").Stream}catch(D){var C=function(){}}var E=c.EVENTS.filter(function(a){return"error"!==a&&"end"!==a});i.prototype=Object.create(C.prototype,{constructor:{value:i}}),i.prototype.write=function(c){if("function"==typeof b&&"function"==typeof b.isBuffer&&b.isBuffer(c)){if(!this._decoder){var d=a("string_decoder").StringDecoder;this._decoder=new d("utf8")}c=this._decoder.write(c)}return this._parser.write(c.toString()),this.emit("data",c),!0},i.prototype.end=function(a){return a&&a.length&&this.write(a),this._parser.end(),!0},i.prototype.on=function(a,b){var c=this;return c._parser["on"+a]||E.indexOf(a)===-1||(c._parser["on"+a]=function(){var b=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);b.splice(0,0,a),c.emit.apply(c,b)}),C.prototype.on.call(c,a,b)};var F="\r\n\t ",G="0124356789",H="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",I="'\"",J=G+H+"#",K=F+">",L="[CDATA[",M="DOCTYPE",N="http://www.w3.org/XML/1998/namespace",O="http://www.w3.org/2000/xmlns/",P={xml:N,xmlns:O};F=j(F),G=j(G),H=j(H);var Q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,R=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;I=j(I),J=j(J),K=j(K);var S=0;c.STATE={BEGIN:S++,TEXT:S++,TEXT_ENTITY:S++,OPEN_WAKA:S++,SGML_DECL:S++,SGML_DECL_QUOTED:S++,DOCTYPE:S++,DOCTYPE_QUOTED:S++,DOCTYPE_DTD:S++,DOCTYPE_DTD_QUOTED:S++,COMMENT_STARTING:S++,COMMENT:S++,COMMENT_ENDING:S++,COMMENT_ENDED:S++,CDATA:S++,CDATA_ENDING:S++,CDATA_ENDING_2:S++,PROC_INST:S++,PROC_INST_BODY:S++,PROC_INST_ENDING:S++,OPEN_TAG:S++,OPEN_TAG_SLASH:S++,ATTRIB:S++,ATTRIB_NAME:S++,ATTRIB_NAME_SAW_WHITE:S++,ATTRIB_VALUE:S++,ATTRIB_VALUE_QUOTED:S++,ATTRIB_VALUE_CLOSED:S++,ATTRIB_VALUE_UNQUOTED:S++,ATTRIB_VALUE_ENTITY_Q:S++,ATTRIB_VALUE_ENTITY_U:S++,CLOSE_TAG:S++,CLOSE_TAG_SAW_WHITE:S++,SCRIPT:S++,SCRIPT_ENDING:S++},c.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(c.ENTITIES).forEach(function(a){var b=c.ENTITIES[a],d="number"==typeof b?String.fromCharCode(b):b;c.ENTITIES[a]=d});for(var S in c.STATE)c.STATE[c.STATE[S]]=S;S=c.STATE,String.fromCodePoint||!function(){var a=String.fromCharCode,b=Math.floor,c=function(){var c,d,e=16384,f=[],g=-1,h=arguments.length;if(!h)return"";for(var i="";++g<h;){var j=Number(arguments[g]);if(!isFinite(j)||j<0||j>1114111||b(j)!=j)throw RangeError("Invalid code point: "+j);j<=65535?f.push(j):(j-=65536,c=(j>>10)+55296,d=j%1024+56320,f.push(c,d)),(g+1==h||f.length>e)&&(i+=a.apply(null,f),f.length=0)}return i};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:c,configurable:!0,writable:!0}):String.fromCodePoint=c}()}("undefined"==typeof c?sax={}:c)}).call(this,a("buffer").Buffer)},{buffer:681,stream:704,string_decoder:705}],459:[function(a,b,c){arguments[4][127][0].apply(c,arguments)},{dup:127}],460:[function(a,b,c){arguments[4][128][0].apply(c,arguments)},{"./lib/moddle":464,dup:128}],461:[function(a,b,c){arguments[4][129][0].apply(c,arguments)},{dup:129}],462:[function(a,b,c){arguments[4][130][0].apply(c,arguments)},{"./ns":465,dup:130,"lodash/collection/forEach":483,"lodash/object/assign":597,"lodash/object/pick":603}],463:[function(a,b,c){arguments[4][131][0].apply(c,arguments)},{"./base":461,dup:131,"lodash/collection/forEach":483}],464:[function(a,b,c){arguments[4][132][0].apply(c,arguments)},{"./factory":463,"./ns":465,"./properties":466,"./registry":467,dup:132,"lodash/collection/find":482,"lodash/collection/forEach":483,"lodash/lang/isObject":592,"lodash/lang/isString":594}],465:[function(a,b,c){arguments[4][133][0].apply(c,arguments)},{dup:133}],466:[function(a,b,c){arguments[4][134][0].apply(c,arguments)},{dup:134}],467:[function(a,b,c){arguments[4][135][0].apply(c,arguments)},{"./descriptor-builder":462,"./ns":465,"./types":468,dup:135,"lodash/collection/forEach":483,"lodash/object/assign":597}],468:[function(a,b,c){arguments[4][136][0].apply(c,arguments)},{dup:136}],469:[function(a,b,c){b.exports={name:"bpmn.io DI for DMN",uri:"http://bpmn.io/schema/dmn/biodi/1.0",prefix:"biodi",xml:{tagAlias:"lowerCase"},types:[{name:"Edge",superClass:["Element"],properties:[{name:"source",type:"String",isAttr:!0},{name:"waypoints",type:"Waypoint",isMany:!0,xml:{serialize:"property"}}]},{name:"Bounds",superClass:["dc:Bounds","Element"]},{name:"Waypoint",superClass:["dc:Point"]}]}},{}],470:[function(a,b,c){b.exports={name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real","default":"0",isAttr:!0},{name:"y",type:"Real","default":"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real","default":"0",isAttr:!0},{name:"y",type:"Real","default":"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],prefix:"dc",associations:[]}},{}],471:[function(a,b,c){b.exports={name:"Camunda",uri:"http://camunda.org/schema/1.0/dmn",prefix:"camunda",xml:{tagAlias:"lowerCase"},types:[{name:"InputVariable","extends":["dmn:InputClause"],properties:[{name:"inputVariable",isAttr:!0,type:"String"}]}]}},{}],472:[function(a,b,c){b.exports={name:"DMN",uri:"http://www.omg.org/spec/DMN/20151101/dmn.xsd",xml:{tagAlias:"lowerCase"},prefix:"dmn",types:[{name:"DMNElement",isAbstract:!0,properties:[{name:"description",type:"String"},{name:"id",type:"String",isAttr:!0,isId:!0},{name:"label",type:"String",isAttr:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"NamedElement",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"name",type:"String",isAttr:!0}]},{name:"DMNElementReference",properties:[{name:"href",type:"String",isAttr:!0}]},{name:"ExtensionElements",properties:[{name:"values",type:"Element",isMany:!0}]},{name:"Definitions",superClass:["NamedElement"],properties:[{name:"namespace",type:"String",isAttr:!0},{name:"typeLanguage",type:"String",isAttr:!0,"default":"http://www.omg.org/spec/FEEL/20140401"},{name:"expressionLanguage",type:"String",isAttr:!0,"default":"http://www.omg.org/spec/FEEL/20140401"},{name:"exporter",type:"String",isAttr:!0},{name:"exporterVersion",type:"String",isAttr:!0},{name:"itemDefinition",type:"ItemDefinition",isMany:!0,xml:{serialize:"property"}},{name:"drgElements",type:"DRGElement",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"Import",properties:[{name:"namespace",type:"String",isAttr:!0},{name:"locationURI",type:"String",isAttr:!0},{name:"importType",type:"String",isAttr:!0}]},{name:"DRGElement",isAbstract:!0,superClass:["NamedElement"]},{name:"Decision",superClass:["DRGElement"],properties:[{name:"question",type:"String"},{name:"allowedAnswers",type:"String"},{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"informationRequirement",type:"InformationRequirement",isMany:!0,xml:{serialize:"property"}},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0,xml:{serialize:"property"}},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0,xml:{serialize:"property"}},{name:"decisionTable",type:"DecisionTable",xml:{serialize:"property"}},{name:"literalExpression",type:"LiteralExpression",xml:{serialize:"property"}}]},{name:"BusinessKnowledgeModel",superClass:["DRGElement"],properties:[{name:"encapsulatedLogic",type:"FunctionDefinition"},{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0,xml:{serialize:"property"}},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0,xml:{serialize:"property"}}]},{name:"InputData",superClass:["DRGElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}}]},{name:"KnowledgeSource",superClass:["DRGElement"],properties:[{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0,xml:{serialize:"property"}},{name:"type",type:"String",isAttr:!0},{name:"owner",type:"DMNElementReference",isAttr:!0},{name:"locationURI",type:"String",isAttr:!0}]},{name:"InformationRequirement",properties:[{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"KnowledgeRequirement",properties:[{name:"requiredKnowledge",type:"DMNElementReference",isUnique:!0,xml:{serialize:"property"}}]},{name:"AuthorityRequirement",properties:[{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredAuthority",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"Expression",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"typeRef",type:"String",isAttr:!0}]},{name:"ItemDefinition",superClass:["NamedElement"],properties:[{name:"typeLanguage",type:"String",isAttr:!0},{name:"isCollection",type:"Boolean",isAttr:!0,"default":!1},{name:"typeRef",type:"String"},{name:"allowedValues",type:"UnaryTests",isMany:!0,xml:{serialize:"property"}}]},{name:"LiteralExpression",superClass:["Expression"],properties:[{name:"expressionLanguage",type:"String",isAttr:!0},{name:"importedValues",type:"ImportedValues"},{name:"text",type:"String"}]},{name:"InformationItem",superClass:["NamedElement"],properties:[{name:"typeRef",type:"String",isAttr:!0}]},{name:"DecisionTable",superClass:["Expression"],properties:[{name:"input",type:"InputClause",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"OutputClause",isMany:!0,xml:{serialize:"property"}},{name:"rule",type:"DecisionRule",isMany:!0,xml:{serialize:"property"}},{name:"hitPolicy",type:"HitPolicy",isAttr:!0,"default":"UNIQUE"},{name:"aggregation",type:"BuiltinAggregator",isAttr:!0},{name:"preferredOrientation",type:"DecisionTableOrientation",isAttr:!0,"default":"Rule-as-Row"},{name:"outputLabel",type:"String",isAttr:!0}]},{name:"DecisionRule",superClass:["DMNElement"],properties:[{name:"inputEntry",type:"UnaryTests",isMany:!0,xml:{serialize:"property"}},{name:"outputEntry",type:"LiteralExpression",isMany:!0,xml:{serialize:"property"}}]},{name:"ImportedValues",superClass:["Import"],properties:[{name:"importedElement",type:"String",isMany:!0,xml:{serialize:"property"}},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"Artifact",isAbstract:!0,superClass:["DMNElement"]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String",xml:{serialize:"property"}},{name:"textFormat",type:"String",isAttr:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"sourceRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"targetRef",type:"DMNElementReference",xml:{serialize:"property"
}},{name:"associationDirection",type:"AssociationDirection",isAttr:!0,"default":"None"}]},{name:"InputClause",superClass:["DMNElement"],properties:[{name:"inputExpression",type:"LiteralExpression",xml:{serialize:"property"}},{name:"inputValues",type:"UnaryTests",xml:{serialize:"property"}}]},{name:"OutputClause",superClass:["DMNElement"],properties:[{name:"outputValues",type:"UnaryTests",xml:{serialize:"property"}},{name:"defaultOutputEntry",type:"LiteralExpression",xml:{serialize:"property"}},{name:"name",type:"String",isAttr:!0},{name:"typeRef",type:"String",isAttr:!0}]},{name:"UnaryTests",superClass:["DMNElement"],properties:[{name:"text",type:"String"},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"FunctionDefinition",superClass:["Expression"],properties:[{name:"formalParameter",type:"InformationItem",isMany:!0,xml:{serialize:"property"}},{name:"expression",type:"String",isReference:!0,xml:{serialize:"property"}}]}],emumerations:[{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"HitPolicy",literalValues:[{name:"UNIQUE"},{name:"FIRST"},{name:"PRIORITY"},{name:"ANY"},{name:"COLLECT"},{name:"RULE ORDER"},{name:"OUTPUT ORDER"}]},{name:"BuiltinAggregator",literalValues:[{name:"SUM"},{name:"COUNT"},{name:"MIN"},{name:"MAX"}]},{name:"DecisionTableOrientation",literalValues:[{name:"Rule-as-Row"},{name:"Rule-as-Column"},{name:"CrossTable"}]}]}},{}],473:[function(a,b,c){arguments[4][188][0].apply(c,arguments)},{dup:188}],474:[function(a,b,c){arguments[4][189][0].apply(c,arguments)},{dup:189}],475:[function(a,b,c){var d=a("../internal/baseFlatten"),e=a("../internal/baseUniq"),f=a("../function/restParam"),g=f(function(a){return e(d(a,!1,!0))});b.exports=g},{"../function/restParam":492,"../internal/baseFlatten":516,"../internal/baseUniq":538}],476:[function(a,b,c){function d(a,b,c,d){var i=a?a.length:0;return i?(null!=b&&"boolean"!=typeof b&&(d=c,c=g(a,b,d)?void 0:b,b=!1),c=null==c?c:e(c,d,3),b?h(a,c):f(a,c)):[]}var e=a("../internal/baseCallback"),f=a("../internal/baseUniq"),g=a("../internal/isIterateeCall"),h=a("../internal/sortedUniq");b.exports=d},{"../internal/baseCallback":506,"../internal/baseUniq":538,"../internal/isIterateeCall":568,"../internal/sortedUniq":583}],477:[function(a,b,c){b.exports=a("./uniq")},{"./uniq":476}],478:[function(a,b,c){arguments[4][190][0].apply(c,arguments)},{"../internal/LazyWrapper":493,"../internal/LodashWrapper":494,"../internal/baseLodash":525,"../internal/isObjectLike":572,"../internal/wrapperClone":586,"../lang/isArray":588,dup:190}],479:[function(a,b,c){arguments[4][191][0].apply(c,arguments)},{"./some":487,dup:191}],480:[function(a,b,c){arguments[4][192][0].apply(c,arguments)},{"../internal/arrayEvery":498,"../internal/baseCallback":506,"../internal/baseEvery":512,"../internal/isIterateeCall":568,"../lang/isArray":588,dup:192}],481:[function(a,b,c){arguments[4][193][0].apply(c,arguments)},{"../internal/arrayFilter":499,"../internal/baseCallback":506,"../internal/baseFilter":513,"../lang/isArray":588,dup:193}],482:[function(a,b,c){arguments[4][194][0].apply(c,arguments)},{"../internal/baseEach":511,"../internal/createFind":551,dup:194}],483:[function(a,b,c){arguments[4][195][0].apply(c,arguments)},{"../internal/arrayEach":497,"../internal/baseEach":511,"../internal/createForEach":552,dup:195}],484:[function(a,b,c){arguments[4][196][0].apply(c,arguments)},{"../internal/createAggregator":544,dup:196}],485:[function(a,b,c){arguments[4][197][0].apply(c,arguments)},{"../internal/arrayMap":500,"../internal/baseCallback":506,"../internal/baseMap":526,"../lang/isArray":588,dup:197}],486:[function(a,b,c){arguments[4][198][0].apply(c,arguments)},{"../internal/arrayReduce":502,"../internal/baseEach":511,"../internal/createReduce":555,dup:198}],487:[function(a,b,c){arguments[4][199][0].apply(c,arguments)},{"../internal/arraySome":503,"../internal/baseCallback":506,"../internal/baseSome":536,"../internal/isIterateeCall":568,"../lang/isArray":588,dup:199}],488:[function(a,b,c){arguments[4][200][0].apply(c,arguments)},{"../internal/getNative":564,dup:200}],489:[function(a,b,c){arguments[4][201][0].apply(c,arguments)},{"../internal/createWrapper":556,"../internal/replaceHolders":580,"./restParam":492,dup:201}],490:[function(a,b,c){arguments[4][202][0].apply(c,arguments)},{"../date/now":488,"../lang/isObject":592,dup:202}],491:[function(a,b,c){arguments[4][203][0].apply(c,arguments)},{"../internal/baseDelay":509,"./restParam":492,dup:203}],492:[function(a,b,c){arguments[4][204][0].apply(c,arguments)},{dup:204}],493:[function(a,b,c){arguments[4][205][0].apply(c,arguments)},{"./baseCreate":508,"./baseLodash":525,dup:205}],494:[function(a,b,c){arguments[4][206][0].apply(c,arguments)},{"./baseCreate":508,"./baseLodash":525,dup:206}],495:[function(a,b,c){(function(c){function d(a){var b=a?a.length:0;for(this.data={hash:h(null),set:new g};b--;)this.push(a[b])}var e=a("./cachePush"),f=a("./getNative"),g=f(c,"Set"),h=f(Object,"create");d.prototype.push=e,b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cachePush":541,"./getNative":564}],496:[function(a,b,c){arguments[4][208][0].apply(c,arguments)},{dup:208}],497:[function(a,b,c){arguments[4][209][0].apply(c,arguments)},{dup:209}],498:[function(a,b,c){arguments[4][210][0].apply(c,arguments)},{dup:210}],499:[function(a,b,c){arguments[4][211][0].apply(c,arguments)},{dup:211}],500:[function(a,b,c){arguments[4][212][0].apply(c,arguments)},{dup:212}],501:[function(a,b,c){arguments[4][213][0].apply(c,arguments)},{dup:213}],502:[function(a,b,c){arguments[4][214][0].apply(c,arguments)},{dup:214}],503:[function(a,b,c){arguments[4][215][0].apply(c,arguments)},{dup:215}],504:[function(a,b,c){arguments[4][216][0].apply(c,arguments)},{"../object/keys":598,dup:216}],505:[function(a,b,c){arguments[4][217][0].apply(c,arguments)},{"../object/keys":598,"./baseCopy":507,dup:217}],506:[function(a,b,c){arguments[4][218][0].apply(c,arguments)},{"../utility/identity":604,"../utility/property":606,"./baseMatches":527,"./baseMatchesProperty":528,"./bindCallback":539,dup:218}],507:[function(a,b,c){arguments[4][219][0].apply(c,arguments)},{dup:219}],508:[function(a,b,c){arguments[4][220][0].apply(c,arguments)},{"../lang/isObject":592,dup:220}],509:[function(a,b,c){arguments[4][221][0].apply(c,arguments)},{dup:221}],510:[function(a,b,c){arguments[4][222][0].apply(c,arguments)},{"./baseIndexOf":521,"./cacheIndexOf":540,"./createCache":549,dup:222}],511:[function(a,b,c){arguments[4][223][0].apply(c,arguments)},{"./baseForOwn":519,"./createBaseEach":546,dup:223}],512:[function(a,b,c){arguments[4][224][0].apply(c,arguments)},{"./baseEach":511,dup:224}],513:[function(a,b,c){arguments[4][225][0].apply(c,arguments)},{"./baseEach":511,dup:225}],514:[function(a,b,c){arguments[4][226][0].apply(c,arguments)},{dup:226}],515:[function(a,b,c){arguments[4][227][0].apply(c,arguments)},{dup:227}],516:[function(a,b,c){arguments[4][228][0].apply(c,arguments)},{"../lang/isArguments":587,"../lang/isArray":588,"./arrayPush":501,"./isArrayLike":566,"./isObjectLike":572,dup:228}],517:[function(a,b,c){arguments[4][229][0].apply(c,arguments)},{"./createBaseFor":547,dup:229}],518:[function(a,b,c){arguments[4][230][0].apply(c,arguments)},{"../object/keysIn":599,"./baseFor":517,dup:230}],519:[function(a,b,c){arguments[4][231][0].apply(c,arguments)},{"../object/keys":598,"./baseFor":517,dup:231}],520:[function(a,b,c){arguments[4][232][0].apply(c,arguments)},{"./toObject":584,dup:232}],521:[function(a,b,c){arguments[4][233][0].apply(c,arguments)},{"./indexOfNaN":565,dup:233}],522:[function(a,b,c){arguments[4][234][0].apply(c,arguments)},{"../lang/isObject":592,"./baseIsEqualDeep":523,"./isObjectLike":572,dup:234}],523:[function(a,b,c){arguments[4][235][0].apply(c,arguments)},{"../lang/isArray":588,"../lang/isTypedArray":595,"./equalArrays":557,"./equalByTag":558,"./equalObjects":559,dup:235}],524:[function(a,b,c){arguments[4][236][0].apply(c,arguments)},{"./baseIsEqual":522,"./toObject":584,dup:236}],525:[function(a,b,c){arguments[4][237][0].apply(c,arguments)},{dup:237}],526:[function(a,b,c){arguments[4][238][0].apply(c,arguments)},{"./baseEach":511,"./isArrayLike":566,dup:238}],527:[function(a,b,c){arguments[4][239][0].apply(c,arguments)},{"./baseIsMatch":524,"./getMatchData":563,"./toObject":584,dup:239}],528:[function(a,b,c){arguments[4][240][0].apply(c,arguments)},{"../array/last":474,"../lang/isArray":588,"./baseGet":520,"./baseIsEqual":522,"./baseSlice":535,"./isKey":569,"./isStrictComparable":573,"./toObject":584,"./toPath":585,dup:240}],529:[function(a,b,c){arguments[4][241][0].apply(c,arguments)},{"../lang/isArray":588,"../lang/isObject":592,"../lang/isTypedArray":595,"../object/keys":598,"./arrayEach":497,"./baseMergeDeep":530,"./isArrayLike":566,"./isObjectLike":572,dup:241}],530:[function(a,b,c){arguments[4][242][0].apply(c,arguments)},{"../lang/isArguments":587,"../lang/isArray":588,"../lang/isPlainObject":593,"../lang/isTypedArray":595,"../lang/toPlainObject":596,"./arrayCopy":496,"./isArrayLike":566,dup:242}],531:[function(a,b,c){arguments[4][243][0].apply(c,arguments)},{dup:243}],532:[function(a,b,c){arguments[4][244][0].apply(c,arguments)},{"./baseGet":520,"./toPath":585,dup:244}],533:[function(a,b,c){arguments[4][245][0].apply(c,arguments)},{dup:245}],534:[function(a,b,c){arguments[4][246][0].apply(c,arguments)},{"../utility/identity":604,"./metaMap":575,dup:246}],535:[function(a,b,c){arguments[4][247][0].apply(c,arguments)},{dup:247}],536:[function(a,b,c){arguments[4][248][0].apply(c,arguments)},{"./baseEach":511,dup:248}],537:[function(a,b,c){arguments[4][249][0].apply(c,arguments)},{dup:249}],538:[function(a,b,c){function d(a,b){var c=-1,d=e,i=a.length,j=!0,k=j&&i>=h,l=k?g():null,m=[];l?(d=f,j=!1):(k=!1,l=b?[]:m);a:for(;++c<i;){var n=a[c],o=b?b(n,c,a):n;if(j&&n===n){for(var p=l.length;p--;)if(l[p]===o)continue a;b&&l.push(o),m.push(n)}else d(l,o,0)<0&&((b||k)&&l.push(o),m.push(n))}return m}var e=a("./baseIndexOf"),f=a("./cacheIndexOf"),g=a("./createCache"),h=200;b.exports=d},{"./baseIndexOf":521,"./cacheIndexOf":540,"./createCache":549}],539:[function(a,b,c){arguments[4][250][0].apply(c,arguments)},{"../utility/identity":604,dup:250}],540:[function(a,b,c){arguments[4][251][0].apply(c,arguments)},{"../lang/isObject":592,dup:251}],541:[function(a,b,c){arguments[4][252][0].apply(c,arguments)},{"../lang/isObject":592,dup:252}],542:[function(a,b,c){arguments[4][253][0].apply(c,arguments)},{dup:253}],543:[function(a,b,c){arguments[4][254][0].apply(c,arguments)},{dup:254}],544:[function(a,b,c){arguments[4][255][0].apply(c,arguments)},{"../lang/isArray":588,"./baseCallback":506,"./baseEach":511,dup:255}],545:[function(a,b,c){arguments[4][256][0].apply(c,arguments)},{"../function/restParam":492,"./bindCallback":539,"./isIterateeCall":568,dup:256}],546:[function(a,b,c){arguments[4][257][0].apply(c,arguments)},{"./getLength":562,"./isLength":571,"./toObject":584,dup:257}],547:[function(a,b,c){arguments[4][258][0].apply(c,arguments)},{"./toObject":584,dup:258}],548:[function(a,b,c){(function(c){function d(a,b){function d(){var e=this&&this!==c&&this instanceof d?f:a;return e.apply(b,arguments)}var f=e(a);return d}var e=a("./createCtorWrapper");b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./createCtorWrapper":550}],549:[function(a,b,c){(function(c){function d(a){return h&&g?new e(a):null}var e=a("./SetCache"),f=a("./getNative"),g=f(c,"Set"),h=f(Object,"create");b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./SetCache":495,"./getNative":564}],550:[function(a,b,c){arguments[4][261][0].apply(c,arguments)},{"../lang/isObject":592,"./baseCreate":508,dup:261}],551:[function(a,b,c){arguments[4][262][0].apply(c,arguments)},{"../lang/isArray":588,"./baseCallback":506,"./baseFind":514,"./baseFindIndex":515,dup:262}],552:[function(a,b,c){arguments[4][263][0].apply(c,arguments)},{"../lang/isArray":588,"./bindCallback":539,dup:263}],553:[function(a,b,c){(function(c){function d(a,b,v,w,x,y,z,A,B,C){function D(){for(var o=arguments.length,p=o,q=Array(o);p--;)q[p]=arguments[p];if(w&&(q=f(q,w,x)),y&&(q=g(q,y,z)),H||J){var t=D.placeholder,L=k(q,t);if(o-=L.length,o<C){var M=A?e(A):void 0,N=u(C-o,0),O=H?L:void 0,P=H?void 0:L,Q=H?q:void 0,R=H?void 0:q;b|=H?r:s,b&=~(H?s:r),I||(b&=~(m|n));var S=[a,b,v,Q,O,R,P,M,B,N],T=d.apply(void 0,S);return i(a)&&l(T,S),T.placeholder=t,T}}var U=F?v:this,V=G?U[a]:a;return A&&(q=j(q,A)),E&&B<q.length&&(q.length=B),this&&this!==c&&this instanceof D&&(V=K||h(a)),V.apply(U,q)}var E=b&t,F=b&m,G=b&n,H=b&p,I=b&o,J=b&q,K=G?void 0:h(a);return D}var e=a("./arrayCopy"),f=a("./composeArgs"),g=a("./composeArgsRight"),h=a("./createCtorWrapper"),i=a("./isLaziable"),j=a("./reorder"),k=a("./replaceHolders"),l=a("./setData"),m=1,n=2,o=4,p=8,q=16,r=32,s=64,t=128,u=Math.max;b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./arrayCopy":496,"./composeArgs":542,"./composeArgsRight":543,"./createCtorWrapper":550,"./isLaziable":570,"./reorder":579,"./replaceHolders":580,"./setData":581}],554:[function(a,b,c){(function(c){function d(a,b,d,g){function h(){for(var b=-1,e=arguments.length,f=-1,k=g.length,l=Array(k+e);++f<k;)l[f]=g[f];for(;e--;)l[f++]=arguments[++b];var m=this&&this!==c&&this instanceof h?j:a;return m.apply(i?d:this,l)}var i=b&f,j=e(a);return h}var e=a("./createCtorWrapper"),f=1;b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./createCtorWrapper":550}],555:[function(a,b,c){arguments[4][266][0].apply(c,arguments)},{"../lang/isArray":588,"./baseCallback":506,"./baseReduce":533,dup:266}],556:[function(a,b,c){arguments[4][267][0].apply(c,arguments)},{"./baseSetData":534,"./createBindWrapper":548,"./createHybridWrapper":553,"./createPartialWrapper":554,"./getData":560,"./mergeData":574,"./setData":581,dup:267}],557:[function(a,b,c){arguments[4][268][0].apply(c,arguments)},{"./arraySome":503,dup:268}],558:[function(a,b,c){arguments[4][269][0].apply(c,arguments)},{dup:269}],559:[function(a,b,c){arguments[4][270][0].apply(c,arguments)},{"../object/keys":598,dup:270}],560:[function(a,b,c){arguments[4][271][0].apply(c,arguments)},{"../utility/noop":605,"./metaMap":575,dup:271}],561:[function(a,b,c){arguments[4][272][0].apply(c,arguments)},{"./realNames":578,dup:272}],562:[function(a,b,c){arguments[4][273][0].apply(c,arguments)},{"./baseProperty":531,dup:273}],563:[function(a,b,c){arguments[4][274][0].apply(c,arguments)},{"../object/pairs":602,"./isStrictComparable":573,dup:274}],564:[function(a,b,c){arguments[4][275][0].apply(c,arguments)},{"../lang/isNative":590,dup:275}],565:[function(a,b,c){arguments[4][276][0].apply(c,arguments)},{dup:276}],566:[function(a,b,c){arguments[4][277][0].apply(c,arguments)},{"./getLength":562,"./isLength":571,dup:277}],567:[function(a,b,c){arguments[4][278][0].apply(c,arguments)},{dup:278}],568:[function(a,b,c){arguments[4][279][0].apply(c,arguments)},{"../lang/isObject":592,"./isArrayLike":566,"./isIndex":567,dup:279}],569:[function(a,b,c){arguments[4][280][0].apply(c,arguments)},{"../lang/isArray":588,"./toObject":584,dup:280}],570:[function(a,b,c){arguments[4][281][0].apply(c,arguments)},{"../chain/lodash":478,"./LazyWrapper":493,"./getData":560,"./getFuncName":561,dup:281}],571:[function(a,b,c){arguments[4][282][0].apply(c,arguments)},{dup:282}],572:[function(a,b,c){arguments[4][283][0].apply(c,arguments)},{dup:283}],573:[function(a,b,c){arguments[4][284][0].apply(c,arguments)},{"../lang/isObject":592,dup:284}],574:[function(a,b,c){arguments[4][285][0].apply(c,arguments)},{"./arrayCopy":496,"./composeArgs":542,"./composeArgsRight":543,"./replaceHolders":580,dup:285}],575:[function(a,b,c){(function(c){var d=a("./getNative"),e=d(c,"WeakMap"),f=e&&new e;b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./getNative":564}],576:[function(a,b,c){arguments[4][287][0].apply(c,arguments)},{"./toObject":584,dup:287}],577:[function(a,b,c){arguments[4][288][0].apply(c,arguments)},{"./baseForIn":518,dup:288}],578:[function(a,b,c){arguments[4][289][0].apply(c,arguments)},{dup:289}],579:[function(a,b,c){arguments[4][290][0].apply(c,arguments)},{"./arrayCopy":496,"./isIndex":567,dup:290}],580:[function(a,b,c){arguments[4][291][0].apply(c,arguments)},{dup:291}],581:[function(a,b,c){arguments[4][292][0].apply(c,arguments)},{"../date/now":488,"./baseSetData":534,dup:292}],582:[function(a,b,c){arguments[4][293][0].apply(c,arguments)},{"../lang/isArguments":587,"../lang/isArray":588,"../object/keysIn":599,"./isIndex":567,"./isLength":571,dup:293}],583:[function(a,b,c){function d(a,b){for(var c,d=-1,e=a.length,f=-1,g=[];++d<e;){var h=a[d],i=b?b(h,d,a):h;d&&c===i||(c=i,g[++f]=h)}return g}b.exports=d},{}],584:[function(a,b,c){arguments[4][294][0].apply(c,arguments)},{"../lang/isObject":592,dup:294}],585:[function(a,b,c){arguments[4][295][0].apply(c,arguments)},{"../lang/isArray":588,"./baseToString":537,dup:295}],586:[function(a,b,c){arguments[4][296][0].apply(c,arguments)},{"./LazyWrapper":493,"./LodashWrapper":494,"./arrayCopy":496,dup:296}],587:[function(a,b,c){arguments[4][297][0].apply(c,arguments)},{"../internal/isArrayLike":566,"../internal/isObjectLike":572,dup:297}],588:[function(a,b,c){arguments[4][298][0].apply(c,arguments)},{"../internal/getNative":564,"../internal/isLength":571,"../internal/isObjectLike":572,dup:298}],589:[function(a,b,c){arguments[4][299][0].apply(c,arguments)},{"./isObject":592,dup:299}],590:[function(a,b,c){arguments[4][300][0].apply(c,arguments)},{"../internal/isObjectLike":572,"./isFunction":589,dup:300}],591:[function(a,b,c){arguments[4][301][0].apply(c,arguments)},{"../internal/isObjectLike":572,dup:301}],592:[function(a,b,c){arguments[4][302][0].apply(c,arguments)},{dup:302}],593:[function(a,b,c){arguments[4][303][0].apply(c,arguments)},{"../internal/baseForIn":518,"../internal/isObjectLike":572,"./isArguments":587,dup:303}],594:[function(a,b,c){arguments[4][304][0].apply(c,arguments)},{"../internal/isObjectLike":572,dup:304}],595:[function(a,b,c){arguments[4][305][0].apply(c,arguments)},{"../internal/isLength":571,"../internal/isObjectLike":572,dup:305}],596:[function(a,b,c){arguments[4][306][0].apply(c,arguments)},{"../internal/baseCopy":507,"../object/keysIn":599,dup:306}],597:[function(a,b,c){arguments[4][307][0].apply(c,arguments)},{"../internal/assignWith":504,"../internal/baseAssign":505,"../internal/createAssigner":545,dup:307}],598:[function(a,b,c){arguments[4][308][0].apply(c,arguments)},{"../internal/getNative":564,"../internal/isArrayLike":566,"../internal/shimKeys":582,"../lang/isObject":592,dup:308}],599:[function(a,b,c){arguments[4][309][0].apply(c,arguments)},{"../internal/isIndex":567,"../internal/isLength":571,"../lang/isArguments":587,"../lang/isArray":588,"../lang/isObject":592,dup:309}],600:[function(a,b,c){arguments[4][310][0].apply(c,arguments)},{"../internal/baseMerge":529,"../internal/createAssigner":545,dup:310}],601:[function(a,b,c){arguments[4][311][0].apply(c,arguments)},{"../function/restParam":492,"../internal/arrayMap":500,"../internal/baseDifference":510,"../internal/baseFlatten":516,"../internal/bindCallback":539,"../internal/pickByArray":576,"../internal/pickByCallback":577,"./keysIn":599,dup:311}],602:[function(a,b,c){arguments[4][312][0].apply(c,arguments)},{"../internal/toObject":584,"./keys":598,dup:312}],603:[function(a,b,c){arguments[4][313][0].apply(c,arguments)},{"../function/restParam":492,"../internal/baseFlatten":516,"../internal/bindCallback":539,"../internal/pickByArray":576,"../internal/pickByCallback":577,dup:313}],604:[function(a,b,c){arguments[4][314][0].apply(c,arguments)},{dup:314}],605:[function(a,b,c){arguments[4][315][0].apply(c,arguments)},{dup:315}],606:[function(a,b,c){arguments[4][316][0].apply(c,arguments)},{"../internal/baseProperty":531,"../internal/basePropertyDeep":532,"../internal/isKey":569,dup:316}],607:[function(a,b,c){arguments[4][317][0].apply(c,arguments)},{dup:317}],608:[function(a,b,c){arguments[4][318][0].apply(c,arguments)},{"component-classes":616,dup:318}],609:[function(a,b,c){arguments[4][319][0].apply(c,arguments)},{dup:319}],610:[function(a,b,c){arguments[4][320][0].apply(c,arguments)},{"component-closest":618,dup:320}],611:[function(a,b,c){arguments[4][321][0].apply(c,arguments)},{"component-delegate":619,dup:321}],612:[function(a,b,c){arguments[4][322][0].apply(c,arguments)},{domify:623,dup:322}],613:[function(a,b,c){arguments[4][323][0].apply(c,arguments)},{"component-event":620,dup:323}],614:[function(a,b,c){arguments[4][324][0].apply(c,arguments)},{"component-query":622,dup:324}],615:[function(a,b,c){arguments[4][325][0].apply(c,arguments)},{dup:325}],616:[function(a,b,c){arguments[4][326][0].apply(c,arguments)},{"component-indexof":617,dup:326,indexof:617}],617:[function(a,b,c){arguments[4][327][0].apply(c,arguments)},{dup:327}],618:[function(a,b,c){arguments[4][328][0].apply(c,arguments)},{dup:328,"matches-selector":621}],619:[function(a,b,c){arguments[4][329][0].apply(c,arguments)},{closest:618,"component-closest":618,"component-event":620,dup:329,event:620}],620:[function(a,b,c){arguments[4][330][0].apply(c,arguments)},{dup:330}],621:[function(a,b,c){arguments[4][331][0].apply(c,arguments)},{"component-query":622,dup:331,query:622}],622:[function(a,b,c){arguments[4][332][0].apply(c,arguments)},{dup:332}],623:[function(a,b,c){arguments[4][333][0].apply(c,arguments)},{dup:333}],624:[function(a,b,c){arguments[4][334][0].apply(c,arguments)},{"./lib/collection":625,"./lib/refs":626,dup:334}],625:[function(a,b,c){arguments[4][335][0].apply(c,arguments)},{dup:335}],626:[function(a,b,c){arguments[4][336][0].apply(c,arguments)},{"./collection":625,dup:336}],627:[function(a,b,c){b.exports=a("./lib/Table")},{"./lib/Table":628}],628:[function(a,b,c){"use strict";function d(a){function b(a){return e.indexOf(a)>=0}function c(a){e.push(a)}function d(a){b(a)||((a.__depends__||[]).forEach(d),b(a)||(c(a),(a.__init__||[]).forEach(function(a){f.push(a)})))}var e=[],f=[];a.forEach(d);var h=new g.Injector(e);return f.forEach(function(a){try{h["string"==typeof a?"get":"invoke"](a)}catch(b){throw console.error("Failed to instantiate component"),console.error(b.stack),b}}),h}function e(b){b=b||{};var c={config:["value",b]},e=a("./core"),f=[c,e].concat(b.modules||[]);return d(f)}function f(a,b){this.injector=b=b||e(a),this.get=b.get,this.invoke=b.invoke,this.get("eventBus").fire("table.init")}var g=a("didi");b.exports=f,f.prototype.destroy=function(){this.get("eventBus").fire("table.destroy"),this.get("eventBus").fire("diagram.destroy")},f.prototype.clear=function(){this.get("eventBus").fire("table.clear"),this.get("eventBus").fire("diagram.clear")}},{"./core":633,didi:663}],629:[function(a,b,c){"use strict";function d(){this._uid=12}var e=a("../model");b.exports=d,d.prototype.createTable=function(a){return document.createElement("table")},d.prototype.createRow=function(a){return this.create("row",a)},d.prototype.createColumn=function(a){return this.create("column",a)},d.prototype.create=function(a,b){return b=b||{},b.id||(b.id=a+"_"+this._uid++),e.create(a,b)}},{"../model":651}],630:[function(a,b,c){"use strict";function d(){this._elements={}}var e="data-element-id";b.exports=d,d.prototype.add=function(a,b,c){var d=a.id;this._validateId(d),b.setAttribute(e,d),c&&c.setAttribute(e,d),this._elements[d]={element:a,gfx:b,secondaryGfx:c}},d.prototype.remove=function(a){var b=this._elements,c=a.id||a,d=c&&b[c];d&&(d.gfx.setAttribute(e,null),d.secondaryGfx&&d.secondaryGfx.setAttribute(e,null),delete b[c])},d.prototype.updateId=function(a,b){this._validateId(b),"string"==typeof a&&(a=this.get(a));var c=this.getGraphics(a),d=this.getGraphics(a,!0);this.remove(a),a.id=b,this.add(a,c,d)},d.prototype.get=function(a){var b;b="string"==typeof a?a:a&&a.getAttribute(e);var c=this._elements[b];return c&&c.element},d.prototype.filter=function(a){var b=[];return this.forEach(function(c,d){a(c,d)&&b.push(c)}),b},d.prototype.forEach=function(a){var b=this._elements;Object.keys(b).forEach(function(c){var d=b[c],e=d.element,f=d.gfx;return a(e,f)})},d.prototype.getGraphics=function(a,b){var c=a.id||a,d=this._elements[c];return d&&(b?d.secondaryGfx:d.gfx)},d.prototype.getAll=function(){return this.filter(function(a){return a})},d.prototype._validateId=function(a){if(!a)throw new Error("element must have an id");if(this._elements[a])throw new Error("element with id "+a+" already added")}},{}],631:[function(a,b,c){"use strict";function d(a,b){this._renderer=b,this._elementRegistry=a}var e=a("lodash/collection/forEach");d.$inject=["elementRegistry","renderer"],b.exports=d,d.prototype.create=function(a,b,c){var d;switch(a){case"row":d=document.createElement("tr");break;case"cell":d=document.createElement(b.row.useTH?"th":"td");var e=document.createElement("span");d.appendChild(e)}if(d&&"row"===a)b.next?c.insertBefore(d,this._elementRegistry.getGraphics(b.next)):c.appendChild(d);else if("cell"===a){var f=this._elementRegistry.filter(function(a){return a.row===b.row&&a.column===b.column.next})[0];f?c.insertBefore(d,this._elementRegistry.getGraphics(f)):c.appendChild(d)}return d||document.createElement("div")},d.prototype.moveRow=function(a,b,c){var d,e=this._elementRegistry.getGraphics(a);c?(d=this._elementRegistry.getGraphics(b),d.parentNode.insertBefore(e,d)):a.next?(d=this._elementRegistry.getGraphics(a.next),d.parentNode.insertBefore(e,d)):e.parentNode.appendChild(e)},d.prototype.moveColumn=function(a,b,c){var d=this;this._elementRegistry.forEach(function(e,f){"cell"===e._type&&e.column===a&&d._elementRegistry.forEach(function(d,g){"cell"===d._type&&d.row===e.row&&(c&&d.column===b?g.parentNode.insertBefore(f,g):c||d.column!==a.next||g.parentNode.insertBefore(f,g))})})},d.prototype.redraw=function(){var a=this;this._elementRegistry.forEach(function(b){"row"===b._type&&a.update("row",b,a._elementRegistry.getGraphics(b))})},d.prototype.update=function(a,b,c){if(b.parent){var d=this;if("row"===a)this._renderer.drawRow(c,b),e(this._elementRegistry.filter(function(a){return a.row===b}),function(a){d.update("cell",a,d._elementRegistry.getGraphics(a))});else if("column"===a)this._renderer.drawColumn(c,b),e(this._elementRegistry.filter(function(a){return a.column===b}),function(a){d.update("cell",a,d._elementRegistry.getGraphics(a))});else{if("cell"!==a)throw new Error("unknown type: "+a);this._renderer.drawCell(c,b)}}},d.prototype.remove=function(a){var b=this._elementRegistry.getGraphics(a);b.parentNode&&b.parentNode.removeChild(b)}},{"lodash/collection/forEach":483}],632:[function(a,b,c){"use strict";function d(a){return g(a)?a+"px":a}function e(a){a=h({},{width:"100%",height:"100%"},a);var b=a.container||document.body,c=document.createElement("div");return c.setAttribute("class","tjs-container"),b.appendChild(c),c}function f(a,b,c,d){this._eventBus=b,this._elementRegistry=c,this._graphicsFactory=d,this._config=a,this._init(a||{})}var g=a("lodash/lang/isNumber"),h=a("lodash/object/assign"),i=a("lodash/collection/forEach"),j=a("lodash/collection/every"),k={row:["next","previous"],column:["next","previous"],cell:["row","column"]},l=250;f.$inject=["config.sheet","eventBus","elementRegistry","graphicsFactory"],b.exports=f,f.prototype._init=function(a){var b=this._eventBus,c=e(a),f=this;this._container=c,this._rootNode=document.createElement("table"),h(this._rootNode.style,{width:d(a.width),height:d(a.height)}),c.appendChild(this._rootNode),this._head=document.createElement("thead"),this._body=document.createElement("tbody"),this._foot=document.createElement("tfoot"),this._rootNode.appendChild(this._head),this._rootNode.appendChild(this._body),this._rootNode.appendChild(this._foot),this._lastColumn=null,this._lastRow={head:null,body:null,foot:null},b.on("table.init",function(a){b.fire("sheet.init",{sheet:f._rootNode}),b.fire("sheet.resized")}),b.on("sheet.resized",l,function(a){var b=a.context;b&&f.setWidth(b.newWidth)}),b.on("table.destroy",l,this._destroy,this),b.on("table.clear",l,function(){b.fire("sheet.clear"),this._clear(),b.fire("sheet.cleared",{sheet:f._rootNode}),b.fire("sheet.resized")},this)},f.prototype._destroy=function(){var a,b=this._eventBus,c=this._container,d=this._rootNode;b.fire("sheet.destroy",{sheet:d}),a=c.parentNode,a&&a.removeChild(c),delete this._container,delete this._rootNode},f.prototype._clear=function(){var a=this._elementRegistry,b=this,c=a.getAll();c.forEach(function(a){a.element&&"decisionTable"===a.element.id?b.setRootElement(null,!0):b._removeElement(a,a.type)}),this._lastColumn=null,this._lastRow={head:null,body:null,foot:null}},f.prototype.getLastColumn=function(){return this._lastColumn},f.prototype.setLastColumn=function(a){this._lastColumn=a},f.prototype.getLastRow=function(a){return this._lastRow[a]},f.prototype.setLastRow=function(a,b){this._lastRow[b]=a},f.prototype.setSibling=function(a,b){a&&(a.next=b),b&&(b.previous=a)},f.prototype.addSiblings=function(a,b){var c,d;if("row"===a&&(d=b.isHead?"head":b.isFoot?"foot":"body"),b.previous||b.next){if(b.previous&&!b.next)c=b.previous.next,this.setSibling(b.previous,b),this.setSibling(b,c),c||("row"===a?this.setLastRow(b,d):"column"===a&&this.setLastColumn(b,d));else if(!b.previous&&b.next)c=b.next.previous,this.setSibling(c,b),this.setSibling(b,b.next);else if(b.previous&&b.next){if(b.previous.next!==b.next)throw new Error("cannot set both previous and next when adding new element <"+a+">");this.setSibling(b.previous,b),this.setSibling(b,b.next)}}else"column"===a?(b.next=null,this.setSibling(this.getLastColumn(),b),this.setLastColumn(b)):"row"===a&&(b.next=null,this.setSibling(this.getLastRow(d),b),this.setLastRow(b,d))},f.prototype.removeSiblings=function(a,b){var c;"row"===a&&(c=b.isHead?"head":b.isFoot?"foot":"body"),"column"===a?this.getLastColumn()===b&&this.setLastColumn(b.previous):"row"===a&&this.getLastRow(c)===b&&this.setLastRow(b.previous,c),b.previous&&(b.previous.next=b.next),b.next&&(b.next.previous=b.previous),delete b.previous,delete b.next},f.prototype.getContainer=function(){return this._container},f.prototype.getBody=function(){return this._body},f.prototype.moveRow=function(a,b,c){var d=this._eventBus,e=this._graphicsFactory;a!==b&&(d.fire("row.move",{source:a,target:b,above:c}),this.getLastRow("body")===a&&this.setLastRow(a.previous,"body"),a.previous&&(a.previous.next=a.next),a.next&&(a.next.previous=a.previous),c?b.previous?(b.previous.next=a,a.previous=b.previous,a.next=b,b.previous=a):(a.previous=null,a.next=b,b.previous=a):b.next?(b.next.previous=a,a.next=b.next,a.previous=b,b.next=a):(a.next=null,a.previous=b,b.next=a,this.setLastRow(a,"body")),e.moveRow(a,b,c),d.fire("row.moved",{source:a,target:b,above:c}))},f.prototype.moveColumn=function(a,b,c){var d=this._eventBus,e=this._graphicsFactory;a!==b&&(d.fire("column.move",{source:a,target:b,left:c}),this.getLastColumn()===a&&this.setLastColumn(a.previous),a.previous&&(a.previous.next=a.next),a.next&&(a.next.previous=a.previous),c?b.previous?(b.previous.next=a,a.previous=b.previous,a.next=b,b.previous=a):(a.previous=null,a.next=b,b.previous=a):b.next?(b.next.previous=a,a.next=b.next,a.previous=b,b.next=a):(a.next=null,a.previous=b,b.next=a,this.setLastColumn(a)),e.moveColumn(a,b,c),d.fire("column.moved",{source:a,target:b,left:c}))},f.prototype._ensureValid=function(a,b){var c=this._elementRegistry;if(!b.id)throw new Error("element must have an id");if(c.get(b.id))throw new Error("element with id "+b.id+" already exists");var d=k[a],e=j(d,function(a){return"undefined"!=typeof b[a]});if(!e)throw new Error("must supply { "+d.join(", ")+" } with "+a)},f.prototype._addElement=function(a,b,c){var d=this._eventBus,e=this._graphicsFactory;
b._type=a,this._ensureValid(a,b),d.fire(a+".add",b),b.parent=c||this._rootNode;var f=e.create(a,b,b.parent);return this._elementRegistry.add(b,f),e.update(a,b,f),d.fire(a+".added",{element:b,gfx:f}),b},f.prototype.addRow=function(a){var b,c=this._eventBus,d=this._elementRegistry,e=this;this.addSiblings("row",a);var f=this._addElement("row",a,a.isHead?this._head:a.isFoot?this._foot:this._body);return c.fire("cells.add",f),b=d.filter(function(a){return"column"===a._type}),i(b.sort(function(a,b){for(var c=a;c=c.next;)if(c===b)return-1;return 1}),function(a){e._addCell({row:f,column:a,id:"cell_"+a.id+"_"+f.id})}),c.fire("cells.added",f),f},f.prototype.addColumn=function(a){var b,c=this._eventBus,d=this._elementRegistry,e=this;this.addSiblings("column",a);var f=this._addElement("column",a);return c.fire("cells.add",f),b=d.filter(function(a){return"row"===a._type}),i(b,function(a){e._addCell({row:a,column:f,id:"cell_"+f.id+"_"+a.id})}),c.fire("cells.added",f),f},f.prototype._addCell=function(a){var b=this._elementRegistry,c=b.getGraphics(a.row.id);return this._addElement("cell",a,c)},f.prototype.setCellContent=function(a){var b=this._elementRegistry,c=this._graphicsFactory;"object"==typeof a.column&&(a.column=a.column.id),"object"==typeof a.row&&(a.row=a.row.id),b.get("cell_"+a.column+"_"+a.row).content=a.content,c.update("cell",b.get("cell_"+a.column+"_"+a.row),b.getGraphics("cell_"+a.column+"_"+a.row))},f.prototype.getCellContent=function(a){var b=this._elementRegistry;return b.get("cell_"+a.column+"_"+a.row).content},f.prototype._removeElement=function(a,b){var c=this._elementRegistry,d=this._graphicsFactory,e=this._eventBus;if(a=c.get(a.id||a))return e.fire(b+".remove",{element:a}),d.remove(a),a.parent=null,c.remove(a),e.fire(b+".removed",{element:a}),a},f.prototype.removeRow=function(a){var b=this._eventBus;this.removeSiblings("row",a);var c=this._removeElement(a,"row");b.fire("cells.remove",c);var d=this;return i(this._elementRegistry.filter(function(b){return b.row===a}),function(a){d._removeElement(a.id,"cell")}),b.fire("cells.removed",c),c},f.prototype.removeColumn=function(a){var b=this._eventBus;this.removeSiblings("column",a);var c=this._removeElement(a,"column");b.fire("cells.remove",c);var d=this;return i(this._elementRegistry.filter(function(b){return b.column===a}),function(a){d._removeElement(a.id,"cell")}),b.fire("cells.removed",c),c},f.prototype.getRootElement=function(){return this._rootNode},f.prototype.setRootElement=function(a,b){a&&this._ensureValid("root",a);var c=this._rootNode,d=this._elementRegistry,e=this._eventBus;if(c){if(!b)throw new Error("rootNode already set, need to specify override");e.fire("root.remove",{element:c}),e.fire("root.removed",{element:c}),d.remove(c)}if(a){var f=this.getDefaultLayer();e.fire("root.add",{element:a}),d.add(a,f,this._svg),e.fire("root.added",{element:a,gfx:f})}return this._rootNode=a,a},f.prototype.setWidth=function(a){var b=this.getContainer();a&&("number"==typeof a&&(a+="px"),b.style.width=a)},f.prototype.resized=function(){var a=this._eventBus;a.fire("sheet.resized")}},{"lodash/collection/every":480,"lodash/collection/forEach":483,"lodash/lang/isNumber":591,"lodash/object/assign":597}],633:[function(a,b,c){b.exports={__depends__:[a("../draw")],__init__:["sheet"],sheet:["type",a("./Sheet")],elementRegistry:["type",a("./ElementRegistry")],elementFactory:["type",a("./ElementFactory")],graphicsFactory:["type",a("./GraphicsFactory")],eventBus:["type",a("diagram-js/lib/core/EventBus")]}},{"../draw":635,"./ElementFactory":629,"./ElementRegistry":630,"./GraphicsFactory":631,"./Sheet":632,"diagram-js/lib/core/EventBus":655}],634:[function(a,b,c){"use strict";function d(a,b){this._elementRegistry=a,this._eventBus=b}var e=a("lodash/collection/forEach"),f=function(a,b){for(var c=0,d=a.column;d&&d!==b.column;)d=d.next,c++;return d?c:-1},g=function(a,b){for(var c=0,d=a.row;d&&d!==b.row;)d=d.next,c++;return d?c:-1};d.$inject=["elementRegistry","eventBus"],b.exports=d,d.prototype.drawRow=function(a,b){return this._eventBus.fire("row.render",{gfx:a,data:b}),a},d.prototype.drawColumn=function(a,b){return this._eventBus.fire("column.render",{gfx:a,data:b}),a},d.prototype.drawCell=function(a,b){b.colspan&&a.setAttribute("colspan",b.colspan),b.rowspan&&a.setAttribute("rowspan",b.rowspan),a.setAttribute("style","");var c=this._elementRegistry.filter(function(a){return"cell"===a._type&&a.row===b.row});return e(c,function(c){var d=f(c,b);c.colspan&&d>0&&d<c.colspan&&a.setAttribute("style","display: none;")}),c=this._elementRegistry.filter(function(a){return"cell"===a._type&&a.column===b.column}),e(c,function(c){var d=g(c,b);c.rowspan&&d>0&&d<c.rowspan&&a.setAttribute("style","display: none;")}),b.content?"string"!=typeof b.content||b.content.tagName?b.content.tagName&&a.childNodes[0].appendChild(b.content):a.childNodes[0].textContent=b.content:a.childNodes[0].textContent="",this._eventBus.fire("cell.render",{gfx:a,data:b}),a}},{"lodash/collection/forEach":483}],635:[function(a,b,c){b.exports={renderer:["type",a("./Renderer")]}},{"./Renderer":634}],636:[function(a,b,c){b.exports='<div>\n  <label></label>\n  <input tabindex="0" />\n  <span class="cb-caret"></span>\n</div>\n'},{}],637:[function(a,b,c){"use strict";function d(a){var b=this,c=e(i),d=a.label,g=a.classNames,j=a.options,k=a.dropdownClassNames;this._dropdown=document.createElement("ul"),this._template=c,this._dropdownOpen=!1,this._disabled=!1,this._listeners={},h(g,function(a){f(c).add(a)}),h(k,function(a){f(b._dropdown).add(a)}),h(j,function(a){var c=document.createElement("li");c.setAttribute("tabindex","1"),c.textContent=a,b._dropdown.appendChild(c)}),d&&(c.querySelector("label").textContent=d+":"),c.querySelector("span").addEventListener("click",function(a){b._toggleDropdown(j),a.stopPropagation()}),document.body.addEventListener("click",function(a){b._closeDropdown()});var l=function(a){b.setValue(a.target.textContent)};if(this._dropdown.addEventListener("click",function(a){l(a),a.stopPropagation(),b._closeDropdown()}),this._dropdown.addEventListener("focus",l,!0),!a.disableKeyboard){var m=function(a){var c=a.which||a.keyCode;27===c?b._closeDropdown():13===c?b._toggleDropdown(j):9===c||40===c?(a.preventDefault(),b._focusNext(9===c&&a.shiftKey)):38===c&&(a.preventDefault(),b._focusNext(!0))};this._dropdown.addEventListener("keydown",m),this._template.querySelector("input").addEventListener("keydown",m)}return this._template.querySelector("input").addEventListener("input",function(a){var c=j.filter(function(a){return a.toLowerCase().indexOf(b._template.querySelector("input").value.toLowerCase())!==-1});b._openDropdown(c),b._fireEvent("valueChanged",{newValue:b._template.querySelector("input").value})}),this}var e=a("min-dom/lib/domify"),f=a("min-dom/lib/classes"),g=a("lodash/object/assign"),h=a("lodash/collection/forEach"),i=a("./ComboBoxTemplate.html");d.prototype._focusNext=function(a){if(!this._isDropdownOpen())return void this._openDropdown();var b,c=document.activeElement;for(c===this._template.querySelector("input")?b=this._dropdown[a?"lastChild":"firstChild"]:c.parentNode===this._dropdown&&(b=c[a?"previousSibling":"nextSibling"]);b&&"none"===b.style.display;)b=b[a?"previousSibling":"nextSibling"];b||(b=this._template.querySelector("input")),b.focus()},d.prototype._toggleDropdown=function(a){this._isDropdownOpen()?this._closeDropdown():this._openDropdown(a)},d.prototype._openedDropdown=null,d.prototype._isDropdownOpen=function(){return this._dropdownOpen},d.prototype._closeDropdown=function(){this._isDropdownOpen()&&(this._dropdownOpen=!1,d.prototype._openedDropdown=null,f(this._template).remove("expanded"),this._dropdown.parentNode.removeChild(this._dropdown))},d.prototype._openDropdown=function(a){if(d.prototype._openedDropdown&&d.prototype._openedDropdown._closeDropdown(),a&&0===a.length||this._disabled)return void this._closeDropdown();h(this._dropdown.childNodes,function(b){a&&a.indexOf(b.textContent)===-1?b.style.display="none":b.style.display="block"});for(var b=this._template.querySelector("input"),c=b,e={x:0,y:0};c;)e.x+=c.offsetLeft,e.y+=c.offsetTop,c=c.offsetParent;g(this._dropdown.style,{display:"block",position:"fixed",top:e.y+b.clientHeight+"px",left:e.x+"px",width:b.clientWidth+"px","z-index":9001}),document.body.appendChild(this._dropdown),d.prototype._openedDropdown=this,this._dropdownOpen=!0,f(this._template).add("expanded")},d.prototype._fireEvent=function(a,b){h(this._listeners[a],function(a){a(b)})},d.prototype.setValue=function(a){this._fireEvent("valueChanged",{oldValue:this._template.querySelector("input").value,newValue:a}),this._template.querySelector("input").value=a},d.prototype.getValue=function(){return this._template.querySelector("input").value},d.prototype.getNode=function(){return this._template},d.prototype.addEventListener=function(a,b){this._listeners[a]=this._listeners[a]||[],this._listeners[a].push(b)},d.prototype.disable=function(){this._disabled=!0,this._template.querySelector("input").setAttribute("disabled","true")},d.prototype.enable=function(){this._disabled=!1,this._template.querySelector("input").setAttribute("disabled","false")},b.exports=d},{"./ComboBoxTemplate.html":636,"lodash/collection/forEach":483,"lodash/object/assign":597,"min-dom/lib/classes":608,"min-dom/lib/domify":612}],638:[function(a,b,c){"use strict";function d(a,b,c){this._eventBus=a,this._elementRegistry=b,this._sheet=c,this.setupListeners()}var e=a("lodash/object/assign"),f=a("min-dom/lib/classes"),g=a("min-dom/lib/remove");d.prototype.setupListeners=function(){var a=this._eventBus,b=this._elementRegistry,c=this;document.body.addEventListener("click",function(a){a.preventDialogClose||c.close()}),document.body.addEventListener("keydown",function(a){a.preventDialogClose||27!==a.keyCode||c.close()}),window.addEventListener("hashchange",function(a){c.close()}),a.on(["table.scroll","table.destroy","popupmenu.open"],this.close,this),a.on("element.click",function(a){var c,d,e;this.close(),a.originalEvent&&(a.originalEvent.preventDialogClose=!0),a.element&&a.element.complex&&(e=a.element,c=b.getGraphics(e),d=c.getBoundingClientRect(),e.complex.position={x:d.left,y:d.top},this.open(e.complex))},this)},d.prototype.close=function(){this._current&&(this._eventBus.fire("complexCell.close",this._current),g(this._current.container),this._current=null)},d.prototype.isOpen=function(){return!!this._current},d.prototype._createContainer=function(a,b){var c=document.createElement("div");if(e(c.style,{position:"fixed",left:b.x+"px",top:b.y+"px",width:"auto",height:"auto","z-index":9e3}),c.addEventListener("click",function(a){a.stopPropagation()}),"string"==typeof a)f(c).add(a);else for(var d=0;d<a.length;d++)f(c).add(a[d]);return c},d.prototype.open=function(a){var b=this._eventBus,c=this._sheet,d=a.className||"complex-cell",e=a.template;this.isOpen()&&this.close();var f={x:a.position.x+(a.offset&&a.offset.x||0),y:a.position.y+(a.offset&&a.offset.y||0)},g=c.getContainer(),h=this._createContainer(d,f);return this._attachContainer(h,g),this._attachContent(e,h),this._current={container:h,config:a},b.fire("complexCell.open",this._current),this},d.prototype._attachContainer=function(a,b){b.appendChild(a)},d.prototype._attachContent=function(a,b){b.appendChild(a)},d.$inject=["eventBus","elementRegistry","sheet"],b.exports=d},{"lodash/object/assign":597,"min-dom/lib/classes":608,"min-dom/lib/remove":615}],639:[function(a,b,c){"use strict";b.exports={__init__:["complexCell"],complexCell:["type",a("./ComplexCell")]}},{"./ComplexCell":638}],640:[function(a,b,c){"use strict";function d(a){this._eventBus=a,this.controlsContainer;var b=this;a.on(["sheet.init","sheet.cleared"],function(c){var d=c.sheet.parentNode,f=d.querySelector(".tjs-controls");f&&d.removeChild(f);var g=document.createElement("div");e(g).add("tjs-controls"),b.controlsContainer=g,d.appendChild(g),a.fire("controls.init",{node:g,controls:b})})}var e=a("min-dom/lib/classes");d.prototype.addControl=function(a,b){this._eventBus.fire("controls.add",{label:a});var c=document.createElement("button");return c.textContent=a,c.addEventListener("click",b),this.controlsContainer.appendChild(c),this._eventBus.fire("controls.added",{label:a,node:c}),c},d.$inject=["eventBus"],b.exports=d},{"min-dom/lib/classes":608}],641:[function(a,b,c){"use strict";b.exports={__init__:["controls"],controls:["type",a("./Controls")]}},{"./Controls":640}],642:[function(a,b,c){"use strict";function d(a,b){function c(c,d){var e,f=d.delegateTarget||d.target,g=f,h=b.get(g);g&&h&&(e=a.fire(c,{element:h,gfx:g,originalEvent:d}),e===!1&&(d.stopPropagation(),d.preventDefault()))}function d(a){var b=p[a];return b||(b=p[a]=function(b){(g(b)||"element.contextmenu"===a)&&c(a,b)}),b}function h(a){return"focus"===a||"blur"===a}function i(a,b,c){var e=d(c);e.$delegate=f.bind(a,r,b,e,h(b))}function j(a,b,c){f.unbind(a,b,d(c).$delegate,h(b))}function k(a){e(q,function(b,c){i(a,c,b)})}function l(a){e(q,function(b,c){j(a,c,b)})}function m(b){var c=p.scroll;return c||(c=p.scroll=function(c){c.target.contains(b)&&a.fire("table.scroll",{gfx:c.target,originalEvent:c})}),c}function n(a){document.addEventListener("scroll",m(a),!0)}function o(a){document.removeEventListener("scroll",m(a),!0)}var p={},q={mouseover:"element.hover",mouseout:"element.out",click:"element.click",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseup:"element.mouseup",focus:"element.focus",blur:"element.blur",input:"element.input",contextmenu:"element.contextmenu"},r="td,th";a.on("sheet.destroy",function(a){l(a.sheet),o(a.sheet)}),a.on("sheet.init",function(a){k(a.sheet),n(a.sheet)}),this.fire=c,this.mouseHandler=d,this.registerEvent=i,this.unregisterEvent=j}var e=a("lodash/collection/forEach"),f=a("min-dom/lib/delegate"),g=a("diagram-js/lib/util/Mouse").isPrimaryButton;d.$inject=["eventBus","elementRegistry"],b.exports=d},{"diagram-js/lib/util/Mouse":660,"lodash/collection/forEach":483,"min-dom/lib/delegate":611}],643:[function(a,b,c){b.exports={__init__:["interactionEvents"],interactionEvents:["type",a("./InteractionEvents")]}},{"./InteractionEvents":642}],644:[function(a,b,c){"use strict";function d(a,b){this._sheet=b,this._utilityColumn=null;var c=this;a.on("utilityColumn.added",function(a){var b=a.column;this._utilityColumn=b,this.updateLineNumbers()},this),a.on(["cells.added","row.removed","row.moved"],e(c.updateLineNumbers.bind(c),100,{leading:!0,trailing:!0})),a.on(["sheet.clear","sheet.destroy"],f,function(){this._utilityColumn=null},this)}var e=a("lodash/function/debounce"),f=150;d.$inject=["eventBus","sheet"],b.exports=d,d.prototype.updateLineNumbers=function(){if(this._utilityColumn&&this._sheet.getLastRow("body")){for(var a=this._sheet.getLastRow("body");a.previous;)a=a.previous;for(var b=1;a;)this._sheet.setCellContent({row:a,column:this._utilityColumn,content:b}),b++,a=a.next}}},{"lodash/function/debounce":490}],645:[function(a,b,c){b.exports={__init__:["lineNumbers"],__depends__:[a("../utility-column")],lineNumbers:["type",a("./LineNumbers")]}},{"../utility-column":650,"./LineNumbers":644}],646:[function(a,b,c){"use strict";function d(a,b,c){this.tableName=c,this.node=e('<header><h3 class="tjs-table-name">'+this.tableName+"</h3></header>");var d=this;a.on(["sheet.init","sheet.cleared"],function(c){b.getContainer().insertBefore(d.node,b.getRootElement()),a.fire("tableName.init",{node:d.node.querySelector("h3")})}),a.on("sheet.destroy",function(c){b.getContainer().removeChild(d.node),a.fire("tableName.destroy",{node:d.node.querySelector("h3")})})}var e=a("min-dom/lib/domify");d.$inject=["eventBus","sheet","config.tableName"],b.exports=d,d.prototype.setName=function(a){this.tableName=a,this.node.querySelector("h3").textContent=a},d.prototype.getName=function(){return this.tableName},d.prototype.getNode=function(){return this.node.querySelector("h3")}},{"min-dom/lib/domify":612}],647:[function(a,b,c){"use strict";function d(a,b){this.column=null,a.on(["sheet.init","sheet.cleared"],function(c){a.fire("utilityColumn.add",c),this.column=b.addColumn({id:"utilityColumn"}),a.fire("utilityColumn.added",{column:this.column})},this),a.on(["sheet.clear","sheet.destroy"],function(c){a.fire("utilityColumn.destroy",{column:this.column}),b.removeColumn({id:"utilityColumn"}),a.fire("utilityColumn.destroyed",{column:this.column}),this.column=null},this)}d.$inject=["eventBus","sheet"],b.exports=d,d.prototype.getColumn=function(){return this.column}},{}],648:[function(a,b,c){"use strict";function d(a,b){a.on("cell.render",function(a){a.data.column!==b.getColumn()||a.data.row.isFoot||(a.gfx.childNodes[0].textContent=a.data.content,e(a.gfx).add(a.data.row.isHead?"hit":"number"),a.gfx.style.width="45px")})}var e=a("min-dom/lib/classes");d.$inject=["eventBus","utilityColumn"],b.exports=d},{"min-dom/lib/classes":608}],649:[function(a,b,c){"use strict";function d(a,b){f.call(this,a),this._utilityColumn=b}var e=a("inherits"),f=a("diagram-js/lib/features/rules/RuleProvider");e(d,f),d.$inject=["eventBus","utilityColumn"],b.exports=d,d.prototype.init=function(){var a=this;this.addRule("cell.edit",function(b){if(b.column===a._utilityColumn.getColumn())return!1})}},{"diagram-js/lib/features/rules/RuleProvider":656,inherits:473}],650:[function(a,b,c){b.exports={__init__:["utilityColumn","utilityColumnRules","utilityColumnRenderer"],__depends__:[a("diagram-js/lib/command"),a("diagram-js/lib/features/rules")],utilityColumn:["type",a("./UtilityColumn")],utilityColumnRules:["type",a("./UtilityColumnRules")],utilityColumnRenderer:["type",a("./UtilityColumnRenderer")]}},{"./UtilityColumn":647,"./UtilityColumnRenderer":648,"./UtilityColumnRules":649,"diagram-js/lib/command":654,"diagram-js/lib/features/rules":658}],651:[function(a,b,c){"use strict";function d(){Object.defineProperty(this,"businessObject",{writable:!0})}function e(){d.call(this)}function f(){d.call(this)}function g(){d.call(this)}var h=a("lodash/object/assign"),i=a("inherits");i(e,d),i(f,d),i(g,d);var j={table:e,row:f,column:g};b.exports.create=function(a,b){var c=j[a];if(!c)throw new Error("unknown type: <"+a+">");return h(new c,b)},b.exports.Table=e,b.exports.Row=f,b.exports.Column=g},{inherits:473,"lodash/object/assign":597}],652:[function(a,b,c){arguments[4][403][0].apply(c,arguments)},{dup:403,"lodash/collection/forEach":483,"lodash/lang/isArray":588,"lodash/lang/isFunction":589,"lodash/lang/isNumber":591}],653:[function(a,b,c){"use strict";function d(a,b){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[]},this._injector=b,this._eventBus=a,this._uid=1,a.on(["diagram.destroy","diagram.clear"],this.clear,this)}var e=a("lodash/array/unique"),f=a("lodash/lang/isArray"),g=a("lodash/object/assign"),h=a("../core/EventBus").Event;d.$inject=["eventBus","injector"],b.exports=d,d.prototype.execute=function(a,b){if(!a)throw new Error("command required");var c={command:a,context:b};this._pushAction(c),this._internalExecute(c),this._popAction(c)},d.prototype.canExecute=function(a,b){var c={command:a,context:b},d=this._getHandler(a),e=this._fire(a,"canExecute",c);if(void 0===e){if(!d)return!1;d.canExecute&&(e=d.canExecute(b))}return e},d.prototype.clear=function(){this._stack.length=0,this._stackIdx=-1,this._fire("changed")},d.prototype.undo=function(){var a,b=this._getUndoAction();if(b){for(this._pushAction(b);b&&(this._internalUndo(b),a=this._getUndoAction(),a&&a.id===b.id);)b=a;this._popAction()}},d.prototype.redo=function(){var a,b=this._getRedoAction();if(b){for(this._pushAction(b);b&&(this._internalExecute(b,!0),a=this._getRedoAction(),a&&a.id===b.id);)b=a;this._popAction()}},d.prototype.register=function(a,b){this._setHandler(a,b)},d.prototype.registerHandler=function(a,b){if(!a||!b)throw new Error("command and handlerCls must be defined");var c=this._injector.instantiate(b);this.register(a,c)},d.prototype.canUndo=function(){return!!this._getUndoAction()},d.prototype.canRedo=function(){return!!this._getRedoAction()},d.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},d.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},d.prototype._internalUndo=function(a){var b=this,c=a.command,d=a.context,e=this._getHandler(c);this._atomicDo(function(){b._fire(c,"revert",a),e.revert&&b._markDirty(e.revert(d)),b._revertedAction(a),b._fire(c,"reverted",a)})},d.prototype._fire=function(a,b,c){arguments.length<3&&(c=b,b=null);var d,e,f,i=b?[a+"."+b,b]:[a];for(c=g(new h,c),d=0;(e=i[d])&&(f=this._eventBus.fire("commandStack."+e,c),!c.cancelBubble);d++);return f},d.prototype._createId=function(){return this._uid++},d.prototype._atomicDo=function(a){var b=this._currentExecution;b.atomic=!0;try{a()}finally{b.atomic=!1}},d.prototype._internalExecute=function(a,b){var c=this,d=a.command,e=a.context,f=this._getHandler(d);if(!f)throw new Error("no command handler registered for <"+d+">");this._pushAction(a),b||(this._fire(d,"preExecute",a),f.preExecute&&f.preExecute(e),this._fire(d,"preExecuted",a)),this._atomicDo(function(){c._fire(d,"execute",a),f.execute&&c._markDirty(f.execute(e)),c._executedAction(a,b),c._fire(d,"executed",a)}),b||(this._fire(d,"postExecute",a),f.postExecute&&f.postExecute(e),this._fire(d,"postExecuted",a)),this._popAction(a)},d.prototype._pushAction=function(a){var b=this._currentExecution,c=b.actions,d=c[0];if(b.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+a.command+")");a.id||(a.id=d&&d.id||this._createId()),c.push(a)},d.prototype._popAction=function(){var a=this._currentExecution,b=a.actions,c=a.dirty;b.pop(),b.length||(this._eventBus.fire("elements.changed",{elements:e(c)}),c.length=0,this._fire("changed"))},d.prototype._markDirty=function(a){var b=this._currentExecution;a&&(a=f(a)?a:[a],b.dirty=b.dirty.concat(a))},d.prototype._executedAction=function(a,b){var c=++this._stackIdx;b||this._stack.splice(c,this._stack.length,a)},d.prototype._revertedAction=function(a){this._stackIdx--},d.prototype._getHandler=function(a){return this._handlerMap[a]},d.prototype._setHandler=function(a,b){if(!a||!b)throw new Error("command and handler required");if(this._handlerMap[a])throw new Error("overriding handler for command <"+a+">");this._handlerMap[a]=b}},{"../core/EventBus":655,"lodash/array/unique":477,"lodash/lang/isArray":588,"lodash/object/assign":597}],654:[function(a,b,c){b.exports={commandStack:["type",a("./CommandStack")]}},{"./CommandStack":653}],655:[function(a,b,c){arguments[4][146][0].apply(c,arguments)},{dup:146,"lodash/function/bind":489,"lodash/lang/isArray":588,"lodash/lang/isFunction":589,"lodash/lang/isNumber":591,"lodash/object/assign":597}],656:[function(a,b,c){arguments[4][422][0].apply(c,arguments)},{"../../command/CommandInterceptor":652,dup:422,inherits:473}],657:[function(a,b,c){arguments[4][423][0].apply(c,arguments)},{dup:423}],658:[function(a,b,c){arguments[4][424][0].apply(c,arguments)},{"./Rules":657,dup:424}],659:[function(a,b,c){arguments[4][173][0].apply(c,arguments)},{dup:173}],660:[function(a,b,c){arguments[4][177][0].apply(c,arguments)},{"./Event":659,"./Platform":661,dup:177}],661:[function(a,b,c){arguments[4][178][0].apply(c,arguments)},{dup:178}],662:[function(a,b,c){arguments[4][181][0].apply(c,arguments)},{dup:181}],663:[function(a,b,c){arguments[4][182][0].apply(c,arguments)},{"./annotation":662,"./injector":664,"./module":665,dup:182}],664:[function(a,b,c){arguments[4][183][0].apply(c,arguments)},{"./annotation":662,"./module":665,dup:183}],665:[function(a,b,c){arguments[4][184][0].apply(c,arguments)},{dup:184}],666:[function(a,b,c){function d(a,b){return e(b,a),a}b.exports=d;var e=a("./appendTo")},{"./appendTo":667}],667:[function(a,b,c){function d(a,b){return b.appendChild(e(a,b)),a}b.exports=d;var e=a("./util/ensureImported")},{"./util/ensureImported":676}],668:[function(a,b,c){function d(a,b){return i[b]?a.style[b]:a.getAttributeNS(null,b)}function e(a,b,c){var d=b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e=i[d];e?(e===h&&"number"==typeof c&&(c=String(c)+"px"),a.style[d]=c):a.setAttributeNS(null,b,c)}function f(a,b){var c,d,f=Object.keys(b);for(c=0,d;d=f[c];c++)e(a,d,b[d])}function g(a,b,c){if("string"==typeof b){if(void 0===c)return d(a,b);e(a,b,c)}else f(a,b);return a}b.exports=g;var h=2,i={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":h,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":h,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1}},{}],669:[function(a,b,c){function d(a){return"undefined"!=typeof a}function e(a){return new f(a)}function f(a){if(!a||!a.nodeType)throw new Error("A DOM element reference is required");this.el=a,this.list=a.classList}b.exports=e;var g=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1},h=/\s+/,i=Object.prototype.toString;f.prototype.add=function(a){if(this.list)return this.list.add(a),this;var b=this.array(),c=g(b,a);return~c||b.push(a),d(this.el.className.baseVal)?this.el.className.baseVal=b.join(" "):this.el.className=b.join(" "),this},f.prototype.remove=function(a){if("[object RegExp]"===i.call(a))return this.removeMatching(a);if(this.list)return this.list.remove(a),this;var b=this.array(),c=g(b,a);return~c&&b.splice(c,1),this.el.className.baseVal=b.join(" "),this},f.prototype.removeMatching=function(a){for(var b=this.array(),c=0;c<b.length;c++)a.test(b[c])&&this.remove(b[c]);return this},f.prototype.toggle=function(a,b){return this.list?(d(b)?b!==this.list.toggle(a,b)&&this.list.toggle(a):this.list.toggle(a),this):(d(b)?b?this.add(a):this.remove(a):this.has(a)?this.remove(a):this.add(a),this)},f.prototype.array=function(){var a=this.el.getAttribute("class")||"",b=a.replace(/^\s+|\s+$/g,""),c=b.split(h);return""===c[0]&&c.shift(),c},f.prototype.has=f.prototype.contains=function(a){return this.list?this.list.contains(a):!!~g(this.array(),a)}},{}],670:[function(a,b,c){function d(a){for(var b;b=a.firstChild;)e(b);return a}b.exports=d;var e=a("./remove")},{"./remove":674}],671:[function(a,b,c){function d(a,b){var c;return"<"===a.charAt(0)?(c=f(a).firstChild,c=document.importNode(c,!0)):c=document.createElementNS(g.svg,a),b&&e(c,b),c}b.exports=d;var e=a("./attr"),f=a("./util/parse"),g=a("./util/ns")},{"./attr":668,"./util/ns":677,"./util/parse":678}],672:[function(a,b,c){function d(a,b){var c,d,e=Object.keys(b);for(c=0;d=e[c];c++)a[d]=b[d];return a}function e(a,b){var c=i.createSVGPoint();switch(arguments.length){case 0:return c;case 2:a={x:a,y:b}}return d(c,a)}function f(a,b,c,e,f,g){var h=i.createSVGMatrix();switch(arguments.length){case 0:return h;case 6:a={a:a,b:b,c:c,d:e,e:f,f:g}}return d(h,a)}function g(a){return a?i.createSVGTransformFromMatrix(a):i.createSVGTransform()}b.exports={createPoint:e,createMatrix:f,createTransform:g};var h=a("./create"),i=h("svg")},{"./create":671}],673:[function(a,b,c){function d(a,b){var c,d=i(b).documentElement;if(g(a),b)for(c=d.firstChild;c;)h(c,a),c=c.nextSibling}function e(a){for(var b=a.firstChild,c=[];b;)j(b,c),b=b.nextSibling;return c.join("")}function f(a,b){if(void 0!==b){try{d(a,b)}catch(c){throw new Error("error parsing SVG: "+c.message)}return a}return e(a)}b.exports=f;var g=a("./clear"),h=a("./appendTo"),i=a("./util/parse"),j=a("./util/serialize")},{"./appendTo":667,"./clear":670,"./util/parse":678,"./util/serialize":679}],674:[function(a,b,c){function d(a){return a.parentNode.removeChild(a),a}b.exports=d},{}],675:[function(a,b,c){function d(a,b){return b instanceof SVGMatrix?a.createSVGTransformFromMatrix(b):b}function e(a,b){var c,e;for(a.clear(),c=0;e=b[c];c++)a.appendItem(d(a,e));a.consolidate()}function f(a,b){var c=a.transform.baseVal;return 1===arguments.length?c.consolidate():void(b.length?e(c,b):c.initialize(d(c,b)))}b.exports=f},{}],676:[function(a,b,c){function d(a,b){if(a.ownerDocument!==b.ownerDocument)try{return b.ownerDocument.importNode(a,!0)}catch(c){}return a}b.exports=d},{}],677:[function(a,b,c){var d={svg:"http://www.w3.org/2000/svg"};b.exports=d},{}],678:[function(a,b,c){function d(a){return"<svg"===a.substring(0,4)?a.indexOf(f.svg)===-1&&(a=g+a.substring(4)):a=g+">"+a+"</svg>",e(a)}function e(a){var b;return b=new DOMParser,b.async=!1,b.parseFromString(a,"text/xml")}b.exports=d;var f=a("./ns"),g='<svg xmlns="'+f.svg+'"'},{"./ns":677}],679:[function(a,b,c){function d(a,b){function c(a,b){return h[b]||b}return a.replace(b,c)}function e(a,b){var c,h,i,j,k;switch(a.nodeType){case 3:b.push(d(a.textContent,f));break;case 1:if(b.push("<",a.tagName),a.hasAttributes())for(i=a.attributes,c=0,h=i.length;c<h;++c)j=i.item(c),b.push(" ",j.name,'="',d(j.value,g),'"');if(a.hasChildNodes()){for(b.push(">"),k=a.childNodes,c=0,h=k.length;c<h;++c)e(k.item(c),b);b.push("</",a.tagName,">")}else b.push("/>");break;case 8:b.push("<!--",d(a.nodeValue,f),"-->");break;case 4:b.push("<![CDATA[",a.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+a.nodeType)}return b}b.exports=e;var f=/([&<>]{1})/g,g=/([\n\r"]{1})/g,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"}},{}],680:[function(a,b,c){},{}],681:[function(a,b,c){(function(b){"use strict";function d(){function a(){}try{var b=new Uint8Array(1);return b.foo=function(){return 42},b.constructor=a,42===b.foo()&&b.constructor===a&&"function"==typeof b.subarray&&0===b.subarray(1,1).byteLength}catch(c){return!1}}function e(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(a){return this instanceof f?(f.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof a?g(this,a):"string"==typeof a?h(this,a,arguments.length>1?arguments[1]:"utf8"):i(this,a)):arguments.length>1?new f(a,arguments[1]):new f(a)}function g(a,b){if(a=p(a,b<0?0:0|q(b)),!f.TYPED_ARRAY_SUPPORT)for(var c=0;c<b;c++)a[c]=0;return a}function h(a,b,c){"string"==typeof c&&""!==c||(c="utf8");var d=0|s(b,c);return a=p(a,d),a.write(b,c),a}function i(a,b){if(f.isBuffer(b))return j(a,b);if(Y(b))return k(a,b);if(null==b)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(b.buffer instanceof ArrayBuffer)return l(a,b);if(b instanceof ArrayBuffer)return m(a,b)}return b.length?n(a,b):o(a,b)}function j(a,b){var c=0|q(b.length);return a=p(a,c),b.copy(a,0,0,c),a}function k(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function l(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function m(a,b){return f.TYPED_ARRAY_SUPPORT?(b.byteLength,a=f._augment(new Uint8Array(b))):a=l(a,new Uint8Array(b)),a}function n(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function o(a,b){var c,d=0;"Buffer"===b.type&&Y(b.data)&&(c=b.data,d=0|q(c.length)),a=p(a,d);for(var e=0;e<d;e+=1)a[e]=255&c[e];return a}function p(a,b){f.TYPED_ARRAY_SUPPORT?(a=f._augment(new Uint8Array(b)),a.__proto__=f.prototype):(a.length=b,a._isBuffer=!0);var c=0!==b&&b<=f.poolSize>>>1;return c&&(a.parent=Z),a}function q(a){if(a>=e())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e().toString(16)+" bytes");return 0|a}function r(a,b){if(!(this instanceof r))return new r(a,b);var c=new f(a,b);return delete c.parent,c}function s(a,b){
"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"binary":case"raw":case"raws":return c;case"utf8":case"utf-8":return R(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return U(a).length;default:if(d)return R(a).length;b=(""+b).toLowerCase(),d=!0}}function t(a,b,c){var d=!1;if(b=0|b,c=void 0===c||c===1/0?this.length:0|c,a||(a="utf8"),b<0&&(b=0),c>this.length&&(c=this.length),c<=b)return"";for(;;)switch(a){case"hex":return F(this,b,c);case"utf8":case"utf-8":return B(this,b,c);case"ascii":return D(this,b,c);case"binary":return E(this,b,c);case"base64":return A(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function u(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d),d>e&&(d=e)):d=e;var f=b.length;if(f%2!==0)throw new Error("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;g<d;g++){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))throw new Error("Invalid hex string");a[c+g]=h}return g}function v(a,b,c,d){return V(R(b,a.length-c),a,c,d)}function w(a,b,c,d){return V(S(b),a,c,d)}function x(a,b,c,d){return w(a,b,c,d)}function y(a,b,c,d){return V(U(b),a,c,d)}function z(a,b,c,d){return V(T(b,a.length-c),a,c,d)}function A(a,b,c){return 0===b&&c===a.length?W.fromByteArray(a):W.fromByteArray(a.slice(b,c))}function B(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;e<c;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h<=c){var i,j,k,l;switch(h){case 1:f<128&&(g=f);break;case 2:i=a[e+1],128===(192&i)&&(l=(31&f)<<6|63&i,l>127&&(g=l));break;case 3:i=a[e+1],j=a[e+2],128===(192&i)&&128===(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j,l>2047&&(l<55296||l>57343)&&(g=l));break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128===(192&i)&&128===(192&j)&&128===(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k,l>65535&&l<1114112&&(g=l))}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return C(d)}function C(a){var b=a.length;if(b<=$)return String.fromCharCode.apply(String,a);for(var c="",d=0;d<b;)c+=String.fromCharCode.apply(String,a.slice(d,d+=$));return c}function D(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;e++)d+=String.fromCharCode(127&a[e]);return d}function E(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;e++)d+=String.fromCharCode(a[e]);return d}function F(a,b,c){var d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);for(var e="",f=b;f<c;f++)e+=Q(a[f]);return e}function G(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function H(a,b,c){if(a%1!==0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function I(a,b,c,d,e,g){if(!f.isBuffer(a))throw new TypeError("buffer must be a Buffer instance");if(b>e||b<g)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range")}function J(a,b,c,d){b<0&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);e<f;e++)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function K(a,b,c,d){b<0&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);e<f;e++)a[c+e]=b>>>8*(d?e:3-e)&255}function L(a,b,c,d,e,f){if(b>e||b<f)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range");if(c<0)throw new RangeError("index out of range")}function M(a,b,c,d,e){return e||L(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(a,b,c,d,23,4),c+4}function N(a,b,c,d,e){return e||L(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(a,b,c,d,52,8),c+8}function O(a){if(a=P(a).replace(aa,""),a.length<2)return"";for(;a.length%4!==0;)a+="=";return a}function P(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function Q(a){return a<16?"0"+a.toString(16):a.toString(16)}function R(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;g<d;g++){if(c=a.charCodeAt(g),c>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function S(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function T(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);g++)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function U(a){return W.toByteArray(O(a))}function V(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);e++)b[e+c]=a[e];return e}var W=a("base64-js"),X=a("ieee754"),Y=a("isarray");c.Buffer=f,c.SlowBuffer=r,c.INSPECT_MAX_BYTES=50,f.poolSize=8192;var Z={};f.TYPED_ARRAY_SUPPORT=void 0!==b.TYPED_ARRAY_SUPPORT?b.TYPED_ARRAY_SUPPORT:d(),f.TYPED_ARRAY_SUPPORT?(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array):(f.prototype.length=void 0,f.prototype.parent=void 0),f.isBuffer=function(a){return!(null==a||!a._isBuffer)},f.compare=function(a,b){if(!f.isBuffer(a)||!f.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,e=0,g=Math.min(c,d);e<g&&a[e]===b[e];)++e;return e!==g&&(c=a[e],d=b[e]),c<d?-1:d<c?1:0},f.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(a,b){if(!Y(a))throw new TypeError("list argument must be an Array of Buffers.");if(0===a.length)return new f(0);var c;if(void 0===b)for(b=0,c=0;c<a.length;c++)b+=a[c].length;var d=new f(b),e=0;for(c=0;c<a.length;c++){var g=a[c];g.copy(d,e),e+=g.length}return d},f.byteLength=s,f.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?B(this,0,a):t.apply(this,arguments)},f.prototype.equals=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===f.compare(this,a)},f.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... ")),"<Buffer "+a+">"},f.prototype.compare=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?0:f.compare(this,a)},f.prototype.indexOf=function(a,b){function c(a,b,c){for(var d=-1,e=0;c+e<a.length;e++)if(a[c+e]===b[d===-1?0:e-d]){if(d===-1&&(d=e),e-d+1===b.length)return c+d}else d=-1;return-1}if(b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b>>=0,0===this.length)return-1;if(b>=this.length)return-1;if(b<0&&(b=Math.max(this.length+b,0)),"string"==typeof a)return 0===a.length?-1:String.prototype.indexOf.call(this,a,b);if(f.isBuffer(a))return c(this,a,b);if("number"==typeof a)return f.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,a,b):c(this,[a],b);throw new TypeError("val must be string, number or Buffer")},f.prototype.get=function(a){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(a)},f.prototype.set=function(a,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(a,b)},f.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else if(isFinite(b))b=0|b,isFinite(c)?(c=0|c,void 0===d&&(d="utf8")):(d=c,c=void 0);else{var e=d;d=b,b=0|c,c=e}var f=this.length-b;if((void 0===c||c>f)&&(c=f),a.length>0&&(c<0||b<0)||b>this.length)throw new RangeError("attempt to write outside buffer bounds");d||(d="utf8");for(var g=!1;;)switch(d){case"hex":return u(this,a,b,c);case"utf8":case"utf-8":return v(this,a,b,c);case"ascii":return w(this,a,b,c);case"binary":return x(this,a,b,c);case"base64":return y(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,a,b,c);default:if(g)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),g=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;f.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,a<0?(a+=c,a<0&&(a=0)):a>c&&(a=c),b<0?(b+=c,b<0&&(b=0)):b>c&&(b=c),b<a&&(b=a);var d;if(f.TYPED_ARRAY_SUPPORT)d=f._augment(this.subarray(a,b));else{var e=b-a;d=new f(e,(void 0));for(var g=0;g<e;g++)d[g]=this[g+a]}return d.length&&(d.parent=this.parent||this),d},f.prototype.readUIntLE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},f.prototype.readUIntBE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},f.prototype.readUInt8=function(a,b){return b||H(a,1,this.length),this[a]},f.prototype.readUInt16LE=function(a,b){return b||H(a,2,this.length),this[a]|this[a+1]<<8},f.prototype.readUInt16BE=function(a,b){return b||H(a,2,this.length),this[a]<<8|this[a+1]},f.prototype.readUInt32LE=function(a,b){return b||H(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},f.prototype.readUInt32BE=function(a,b){return b||H(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},f.prototype.readIntLE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},f.prototype.readIntBE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},f.prototype.readInt8=function(a,b){return b||H(a,1,this.length),128&this[a]?(255-this[a]+1)*-1:this[a]},f.prototype.readInt16LE=function(a,b){b||H(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt16BE=function(a,b){b||H(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt32LE=function(a,b){return b||H(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},f.prototype.readInt32BE=function(a,b){return b||H(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},f.prototype.readFloatLE=function(a,b){return b||H(a,4,this.length),X.read(this,a,!0,23,4)},f.prototype.readFloatBE=function(a,b){return b||H(a,4,this.length),X.read(this,a,!1,23,4)},f.prototype.readDoubleLE=function(a,b){return b||H(a,8,this.length),X.read(this,a,!0,52,8)},f.prototype.readDoubleBE=function(a,b){return b||H(a,8,this.length),X.read(this,a,!1,52,8)},f.prototype.writeUIntLE=function(a,b,c,d){a=+a,b=0|b,c=0|c,d||I(this,a,b,c,Math.pow(2,8*c),0);var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},f.prototype.writeUIntBE=function(a,b,c,d){a=+a,b=0|b,c=0|c,d||I(this,a,b,c,Math.pow(2,8*c),0);var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},f.prototype.writeUInt8=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,1,255,0),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1},f.prototype.writeUInt16LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):J(this,a,b,!0),b+2},f.prototype.writeUInt16BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):J(this,a,b,!1),b+2},f.prototype.writeUInt32LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):K(this,a,b,!0),b+4},f.prototype.writeUInt32BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):K(this,a,b,!1),b+4},f.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=0,g=1,h=a<0?1:0;for(this[b]=255&a;++f<c&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=a<0?1:0;for(this[b+f]=255&a;--f>=0&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeInt8=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,1,127,-128),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),a<0&&(a=255+a+1),this[b]=255&a,b+1},f.prototype.writeInt16LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):J(this,a,b,!0),b+2},f.prototype.writeInt16BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):J(this,a,b,!1),b+2},f.prototype.writeInt32LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):K(this,a,b,!0),b+4},f.prototype.writeInt32BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):K(this,a,b,!1),b+4},f.prototype.writeFloatLE=function(a,b,c){return M(this,a,b,!0,c)},f.prototype.writeFloatBE=function(a,b,c){return M(this,a,b,!1,c)},f.prototype.writeDoubleLE=function(a,b,c){return N(this,a,b,!0,c)},f.prototype.writeDoubleBE=function(a,b,c){return N(this,a,b,!1,c)},f.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("sourceStart out of bounds");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var e,g=d-c;if(this===a&&c<b&&b<d)for(e=g-1;e>=0;e--)a[e+b]=this[e+c];else if(g<1e3||!f.TYPED_ARRAY_SUPPORT)for(e=0;e<g;e++)a[e+b]=this[e+c];else a._set(this.subarray(c,c+g),b);return g},f.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),c<b)throw new RangeError("end < start");if(c!==b&&0!==this.length){if(b<0||b>=this.length)throw new RangeError("start out of bounds");if(c<0||c>this.length)throw new RangeError("end out of bounds");var d;if("number"==typeof a)for(d=b;d<c;d++)this[d]=a;else{var e=R(a.toString()),f=e.length;for(d=b;d<c;d++)this[d]=e[d%f]}return this}},f.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(f.TYPED_ARRAY_SUPPORT)return new f(this).buffer;for(var a=new Uint8Array(this.length),b=0,c=a.length;b<c;b+=1)a[b]=this[b];return a.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var _=f.prototype;f._augment=function(a){return a.constructor=f,a._isBuffer=!0,a._set=a.set,a.get=_.get,a.set=_.set,a.write=_.write,a.toString=_.toString,a.toLocaleString=_.toString,a.toJSON=_.toJSON,a.equals=_.equals,a.compare=_.compare,a.indexOf=_.indexOf,a.copy=_.copy,a.slice=_.slice,a.readUIntLE=_.readUIntLE,a.readUIntBE=_.readUIntBE,a.readUInt8=_.readUInt8,a.readUInt16LE=_.readUInt16LE,a.readUInt16BE=_.readUInt16BE,a.readUInt32LE=_.readUInt32LE,a.readUInt32BE=_.readUInt32BE,a.readIntLE=_.readIntLE,a.readIntBE=_.readIntBE,a.readInt8=_.readInt8,a.readInt16LE=_.readInt16LE,a.readInt16BE=_.readInt16BE,a.readInt32LE=_.readInt32LE,a.readInt32BE=_.readInt32BE,a.readFloatLE=_.readFloatLE,a.readFloatBE=_.readFloatBE,a.readDoubleLE=_.readDoubleLE,a.readDoubleBE=_.readDoubleBE,a.writeUInt8=_.writeUInt8,a.writeUIntLE=_.writeUIntLE,a.writeUIntBE=_.writeUIntBE,a.writeUInt16LE=_.writeUInt16LE,a.writeUInt16BE=_.writeUInt16BE,a.writeUInt32LE=_.writeUInt32LE,a.writeUInt32BE=_.writeUInt32BE,a.writeIntLE=_.writeIntLE,a.writeIntBE=_.writeIntBE,a.writeInt8=_.writeInt8,a.writeInt16LE=_.writeInt16LE,a.writeInt16BE=_.writeInt16BE,a.writeInt32LE=_.writeInt32LE,a.writeInt32BE=_.writeInt32BE,a.writeFloatLE=_.writeFloatLE,a.writeFloatBE=_.writeFloatBE,a.writeDoubleLE=_.writeDoubleLE,a.writeDoubleBE=_.writeDoubleBE,a.fill=_.fill,a.inspect=_.inspect,a.toArrayBuffer=_.toArrayBuffer,a};var aa=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":682,ieee754:683,isarray:684}],682:[function(a,b,c){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(a){"use strict";function b(a){var b=a.charCodeAt(0);return b===g||b===l?62:b===h||b===m?63:b<i?-1:b<i+10?b-i+26+26:b<k+26?b-k:b<j+26?b-j+26:void 0}function c(a){function c(a){j[l++]=a}var d,e,g,h,i,j;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=a.length;i="="===a.charAt(k-2)?2:"="===a.charAt(k-1)?1:0,j=new f(3*a.length/4-i),g=i>0?a.length-4:a.length;var l=0;for(d=0,e=0;d<g;d+=4,e+=3)h=b(a.charAt(d))<<18|b(a.charAt(d+1))<<12|b(a.charAt(d+2))<<6|b(a.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),c(255&h);return 2===i?(h=b(a.charAt(d))<<2|b(a.charAt(d+1))>>4,c(255&h)):1===i&&(h=b(a.charAt(d))<<10|b(a.charAt(d+1))<<4|b(a.charAt(d+2))>>2,c(h>>8&255),c(255&h)),j}function e(a){function b(a){return d.charAt(a)}function c(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}var e,f,g,h=a.length%3,i="";for(e=0,g=a.length-h;e<g;e+=3)f=(a[e]<<16)+(a[e+1]<<8)+a[e+2],i+=c(f);switch(h){case 1:f=a[a.length-1],i+=b(f>>2),i+=b(f<<4&63),i+="==";break;case 2:f=(a[a.length-2]<<8)+a[a.length-1],i+=b(f>>10),i+=b(f>>4&63),i+=b(f<<2&63),i+="="}return i}var f="undefined"!=typeof Uint8Array?Uint8Array:Array,g="+".charCodeAt(0),h="/".charCodeAt(0),i="0".charCodeAt(0),j="a".charCodeAt(0),k="A".charCodeAt(0),l="-".charCodeAt(0),m="_".charCodeAt(0);a.toByteArray=c,a.fromByteArray=e}("undefined"==typeof c?this.base64js={}:c)},{}],683:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:(n?-1:1)*(1/0);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],684:[function(a,b,c){var d={}.toString;b.exports=Array.isArray||function(a){return"[object Array]"==d.call(a)}},{}],685:[function(a,b,c){arguments[4][188][0].apply(c,arguments)},{dup:188}],686:[function(a,b,c){function d(a){return!!a.constructor&&"function"==typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)}function e(a){return"function"==typeof a.readFloatLE&&"function"==typeof a.slice&&d(a.slice(0,0))}b.exports=function(a){return null!=a&&(d(a)||e(a)||!!a._isBuffer)}},{}],687:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],688:[function(a,b,c){b.exports=a("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":689}],689:[function(a,b,c){"use strict";function d(a){return this instanceof d?(j.call(this,a),k.call(this,a),a&&a.readable===!1&&(this.readable=!1),a&&a.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,a&&a.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",e)):new d(a)}function e(){this.allowHalfOpen||this._writableState.ended||h(f,this)}function f(a){a.end()}var g=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b};b.exports=d;var h=a("process-nextick-args"),i=a("core-util-is");i.inherits=a("inherits");var j=a("./_stream_readable"),k=a("./_stream_writable");i.inherits(d,j);for(var l=g(k.prototype),m=0;m<l.length;m++){var n=l[m];d.prototype[n]||(d.prototype[n]=k.prototype[n])}},{"./_stream_readable":691,"./_stream_writable":693,"core-util-is":696,inherits:685,"process-nextick-args":698}],690:[function(a,b,c){"use strict";function d(a){return this instanceof d?void e.call(this,a):new d(a)}b.exports=d;var e=a("./_stream_transform"),f=a("core-util-is");f.inherits=a("inherits"),f.inherits(d,e),d.prototype._transform=function(a,b,c){c(null,a)}},{"./_stream_transform":692,"core-util-is":696,inherits:685}],691:[function(a,b,c){(function(c){"use strict";function d(a,b,c){return"function"==typeof a.prependListener?a.prependListener(b,c):void(a._events&&a._events[b]?F(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]]:a.on(b,c))}function e(b,c){D=D||a("./_stream_duplex"),b=b||{},this.objectMode=!!b.objectMode,c instanceof D&&(this.objectMode=this.objectMode||!!b.readableObjectMode);var d=b.highWaterMark,e=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:e,this.highWaterMark=~~this.highWaterMark,this.buffer=new O,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=b.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,b.encoding&&(N||(N=a("string_decoder/").StringDecoder),this.decoder=new N(b.encoding),this.encoding=b.encoding)}function f(b){return D=D||a("./_stream_duplex"),this instanceof f?(this._readableState=new e(b,this),this.readable=!0,b&&"function"==typeof b.read&&(this._read=b.read),void G.call(this)):new f(b)}function g(a,b,c,d,e){var f=k(b,c);if(f)a.emit("error",f);else if(null===c)b.reading=!1,l(a,b);else if(b.objectMode||c&&c.length>0)if(b.ended&&!e){var g=new Error("stream.push() after EOF");a.emit("error",g)}else if(b.endEmitted&&e){var i=new Error("stream.unshift() after end event");a.emit("error",i)}else{var j;!b.decoder||e||d||(c=b.decoder.write(c),j=!b.objectMode&&0===c.length),e||(b.reading=!1),j||(b.flowing&&0===b.length&&!b.sync?(a.emit("data",c),a.read(0)):(b.length+=b.objectMode?1:c.length,e?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&m(a))),o(a,b)}else e||(b.reading=!1);return h(b)}function h(a){return!a.ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function i(a){return a>=P?a=P:(a--,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a++),a}function j(a,b){return a<=0||0===b.length&&b.ended?0:b.objectMode?1:a!==a?b.flowing&&b.length?b.buffer.head.data.length:b.length:(a>b.highWaterMark&&(b.highWaterMark=i(a)),a<=b.length?a:b.ended?b.length:(b.needReadable=!0,0))}function k(a,b){var c=null;return I.isBuffer(b)||"string"==typeof b||null===b||void 0===b||a.objectMode||(c=new TypeError("Invalid non-string/buffer chunk")),c}function l(a,b){if(!b.ended){if(b.decoder){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,m(a)}}function m(a){var b=a._readableState;b.needReadable=!1,b.emittedReadable||(M("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?E(n,a):n(a))}function n(a){M("emit readable"),a.emit("readable"),u(a)}function o(a,b){b.readingMore||(b.readingMore=!0,E(p,a,b))}function p(a,b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(M("maybeReadMore read 0"),a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}function q(a){return function(){var b=a._readableState;M("pipeOnDrain",b.awaitDrain),b.awaitDrain&&b.awaitDrain--,0===b.awaitDrain&&H(a,"data")&&(b.flowing=!0,u(a))}}function r(a){M("readable nexttick read 0"),a.read(0)}function s(a,b){b.resumeScheduled||(b.resumeScheduled=!0,E(t,a,b))}function t(a,b){b.reading||(M("resume read 0"),a.read(0)),b.resumeScheduled=!1,b.awaitDrain=0,a.emit("resume"),u(a),b.flowing&&!b.reading&&a.read(0)}function u(a){var b=a._readableState;for(M("flow",b.flowing);b.flowing&&null!==a.read(););}function v(a,b){if(0===b.length)return null;var c;return b.objectMode?c=b.buffer.shift():!a||a>=b.length?(c=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.head.data:b.buffer.concat(b.length),b.buffer.clear()):c=w(a,b.buffer,b.decoder),c}function w(a,b,c){var d;return a<b.head.data.length?(d=b.head.data.slice(0,a),b.head.data=b.head.data.slice(a)):d=a===b.head.data.length?b.shift():c?x(a,b):y(a,b),d}function x(a,b){var c=b.head,d=1,e=c.data;for(a-=e.length;c=c.next;){var f=c.data,g=a>f.length?f.length:a;if(e+=g===f.length?f:f.slice(0,a),a-=g,0===a){g===f.length?(++d,c.next?b.head=c.next:b.head=b.tail=null):(b.head=c,c.data=f.slice(g));break}++d}return b.length-=d,e}function y(a,b){var c=J.allocUnsafe(a),d=b.head,e=1;for(d.data.copy(c),a-=d.data.length;d=d.next;){var f=d.data,g=a>f.length?f.length:a;if(f.copy(c,c.length-a,0,g),a-=g,0===a){g===f.length?(++e,d.next?b.head=d.next:b.head=b.tail=null):(b.head=d,d.data=f.slice(g));break}++e}return b.length-=e,c}function z(a){var b=a._readableState;if(b.length>0)throw new Error('"endReadable()" called on non-empty stream');b.endEmitted||(b.ended=!0,E(A,b,a))}function A(a,b){a.endEmitted||0!==a.length||(a.endEmitted=!0,b.readable=!1,b.emit("end"))}function B(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)}function C(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}b.exports=f;var D,E=a("process-nextick-args"),F=a("isarray");f.ReadableState=e;var G,H=(a("events").EventEmitter,function(a,b){return a.listeners(b).length});!function(){try{G=a("stream")}catch(b){}finally{G||(G=a("events").EventEmitter)}}();var I=a("buffer").Buffer,J=a("buffer-shims"),K=a("core-util-is");K.inherits=a("inherits");var L=a("util"),M=void 0;M=L&&L.debuglog?L.debuglog("stream"):function(){};var N,O=a("./internal/streams/BufferList");K.inherits(f,G),f.prototype.push=function(a,b){var c=this._readableState;return c.objectMode||"string"!=typeof a||(b=b||c.defaultEncoding,b!==c.encoding&&(a=J.from(a,b),b="")),g(this,c,a,b,!1)},f.prototype.unshift=function(a){var b=this._readableState;return g(this,b,a,"",!0)},f.prototype.isPaused=function(){return this._readableState.flowing===!1},f.prototype.setEncoding=function(b){return N||(N=a("string_decoder/").StringDecoder),this._readableState.decoder=new N(b),this._readableState.encoding=b,this};var P=8388608;f.prototype.read=function(a){M("read",a),a=parseInt(a,10);var b=this._readableState,c=a;if(0!==a&&(b.emittedReadable=!1),0===a&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return M("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?z(this):m(this),null;if(a=j(a,b),0===a&&b.ended)return 0===b.length&&z(this),null;var d=b.needReadable;M("need readable",d),(0===b.length||b.length-a<b.highWaterMark)&&(d=!0,M("length less than watermark",d)),b.ended||b.reading?(d=!1,M("reading or ended",d)):d&&(M("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(a=j(c,b)));var e;return e=a>0?v(a,b):null,null===e?(b.needReadable=!0,a=0):b.length-=a,0===b.length&&(b.ended||(b.needReadable=!0),c!==a&&b.ended&&z(this)),null!==e&&this.emit("data",e),e},f.prototype._read=function(a){this.emit("error",new Error("_read() is not implemented"))},f.prototype.pipe=function(a,b){function e(a){M("onunpipe"),a===m&&g()}function f(){M("onend"),a.end()}function g(){M("cleanup"),a.removeListener("close",j),a.removeListener("finish",k),a.removeListener("drain",r),a.removeListener("error",i),a.removeListener("unpipe",e),m.removeListener("end",f),m.removeListener("end",g),m.removeListener("data",h),s=!0,!n.awaitDrain||a._writableState&&!a._writableState.needDrain||r()}function h(b){M("ondata"),t=!1;var c=a.write(b);!1!==c||t||((1===n.pipesCount&&n.pipes===a||n.pipesCount>1&&C(n.pipes,a)!==-1)&&!s&&(M("false write response, pause",m._readableState.awaitDrain),m._readableState.awaitDrain++,t=!0),m.pause())}function i(b){M("onerror",b),l(),a.removeListener("error",i),0===H(a,"error")&&a.emit("error",b)}function j(){a.removeListener("finish",k),l()}function k(){M("onfinish"),a.removeListener("close",j),l()}function l(){M("unpipe"),m.unpipe(a)}var m=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=a;break;case 1:n.pipes=[n.pipes,a];break;default:n.pipes.push(a)}n.pipesCount+=1,M("pipe count=%d opts=%j",n.pipesCount,b);var o=(!b||b.end!==!1)&&a!==c.stdout&&a!==c.stderr,p=o?f:g;n.endEmitted?E(p):m.once("end",p),a.on("unpipe",e);var r=q(m);a.on("drain",r);var s=!1,t=!1;return m.on("data",h),d(a,"error",i),a.once("close",j),a.once("finish",k),a.emit("pipe",m),n.flowing||(M("pipe resume"),m.resume()),a},f.prototype.unpipe=function(a){var b=this._readableState;if(0===b.pipesCount)return this;if(1===b.pipesCount)return a&&a!==b.pipes?this:(a||(a=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,a&&a.emit("unpipe",this),this);if(!a){var c=b.pipes,d=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var e=0;e<d;e++)c[e].emit("unpipe",this);return this}var f=C(b.pipes,a);return f===-1?this:(b.pipes.splice(f,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),a.emit("unpipe",this),this)},f.prototype.on=function(a,b){var c=G.prototype.on.call(this,a,b);if("data"===a)this._readableState.flowing!==!1&&this.resume();else if("readable"===a){var d=this._readableState;d.endEmitted||d.readableListening||(d.readableListening=d.needReadable=!0,d.emittedReadable=!1,d.reading?d.length&&m(this,d):E(r,this))}return c},f.prototype.addListener=f.prototype.on,f.prototype.resume=function(){var a=this._readableState;return a.flowing||(M("resume"),a.flowing=!0,s(this,a)),this},f.prototype.pause=function(){return M("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(M("pause"),this._readableState.flowing=!1,this.emit("pause")),this},f.prototype.wrap=function(a){var b=this._readableState,c=!1,d=this;a.on("end",function(){if(M("wrapped end"),b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&d.push(a)}d.push(null)}),a.on("data",function(e){if(M("wrapped data"),b.decoder&&(e=b.decoder.write(e)),(!b.objectMode||null!==e&&void 0!==e)&&(b.objectMode||e&&e.length)){var f=d.push(e);f||(c=!0,a.pause())}});for(var e in a)void 0===this[e]&&"function"==typeof a[e]&&(this[e]=function(b){
return function(){return a[b].apply(a,arguments)}}(e));var f=["error","close","destroy","pause","resume"];return B(f,function(b){a.on(b,d.emit.bind(d,b))}),d._read=function(b){M("wrapped _read",b),c&&(c=!1,a.resume())},d},f._fromList=v}).call(this,a("_process"))},{"./_stream_duplex":689,"./internal/streams/BufferList":694,_process:687,buffer:681,"buffer-shims":695,"core-util-is":696,events:712,inherits:685,isarray:697,"process-nextick-args":698,"string_decoder/":705,util:680}],692:[function(a,b,c){"use strict";function d(a){this.afterTransform=function(b,c){return e(a,b,c)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function e(a,b,c){var d=a._transformState;d.transforming=!1;var e=d.writecb;if(!e)return a.emit("error",new Error("no writecb in Transform class"));d.writechunk=null,d.writecb=null,null!==c&&void 0!==c&&a.push(c),e(b);var f=a._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&a._read(f.highWaterMark)}function f(a){if(!(this instanceof f))return new f(a);h.call(this,a),this._transformState=new d(this);var b=this;this._readableState.needReadable=!0,this._readableState.sync=!1,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(a,c){g(b,a,c)}):g(b)})}function g(a,b,c){if(b)return a.emit("error",b);null!==c&&void 0!==c&&a.push(c);var d=a._writableState,e=a._transformState;if(d.length)throw new Error("Calling transform done when ws.length != 0");if(e.transforming)throw new Error("Calling transform done when still transforming");return a.push(null)}b.exports=f;var h=a("./_stream_duplex"),i=a("core-util-is");i.inherits=a("inherits"),i.inherits(f,h),f.prototype.push=function(a,b){return this._transformState.needTransform=!1,h.prototype.push.call(this,a,b)},f.prototype._transform=function(a,b,c){throw new Error("_transform() is not implemented")},f.prototype._write=function(a,b,c){var d=this._transformState;if(d.writecb=c,d.writechunk=a,d.writeencoding=b,!d.transforming){var e=this._readableState;(d.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}},f.prototype._read=function(a){var b=this._transformState;null!==b.writechunk&&b.writecb&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0}},{"./_stream_duplex":689,"core-util-is":696,inherits:685}],693:[function(a,b,c){(function(c){"use strict";function d(){}function e(a,b,c){this.chunk=a,this.encoding=b,this.callback=c,this.next=null}function f(b,c){x=x||a("./_stream_duplex"),b=b||{},this.objectMode=!!b.objectMode,c instanceof x&&(this.objectMode=this.objectMode||!!b.writableObjectMode);var d=b.highWaterMark,e=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:e,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var f=b.decodeStrings===!1;this.decodeStrings=!f,this.defaultEncoding=b.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){o(c,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new w(this)}function g(b){return x=x||a("./_stream_duplex"),F.call(g,this)||this instanceof x?(this._writableState=new f(b,this),this.writable=!0,b&&("function"==typeof b.write&&(this._write=b.write),"function"==typeof b.writev&&(this._writev=b.writev)),void B.call(this)):new g(b)}function h(a,b){var c=new Error("write after end");a.emit("error",c),y(b,c)}function i(a,b,c,d){var e=!0,f=!1;return null===c?f=new TypeError("May not write null values to stream"):D.isBuffer(c)||"string"==typeof c||void 0===c||b.objectMode||(f=new TypeError("Invalid non-string/buffer chunk")),f&&(a.emit("error",f),y(d,f),e=!1),e}function j(a,b,c){return a.objectMode||a.decodeStrings===!1||"string"!=typeof b||(b=E.from(b,c)),b}function k(a,b,c,d,f){c=j(b,c,d),D.isBuffer(c)&&(d="buffer");var g=b.objectMode?1:c.length;b.length+=g;var h=b.length<b.highWaterMark;if(h||(b.needDrain=!0),b.writing||b.corked){var i=b.lastBufferedRequest;b.lastBufferedRequest=new e(c,d,f),i?i.next=b.lastBufferedRequest:b.bufferedRequest=b.lastBufferedRequest,b.bufferedRequestCount+=1}else l(a,b,!1,g,c,d,f);return h}function l(a,b,c,d,e,f,g){b.writelen=d,b.writecb=g,b.writing=!0,b.sync=!0,c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite),b.sync=!1}function m(a,b,c,d,e){--b.pendingcb,c?y(e,d):e(d),a._writableState.errorEmitted=!0,a.emit("error",d)}function n(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function o(a,b){var c=a._writableState,d=c.sync,e=c.writecb;if(n(c),b)m(a,c,d,b,e);else{var f=s(c);f||c.corked||c.bufferProcessing||!c.bufferedRequest||r(a,c),d?z(p,a,c,f,e):p(a,c,f,e)}}function p(a,b,c,d){c||q(a,b),b.pendingcb--,d(),u(a,b)}function q(a,b){0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function r(a,b){b.bufferProcessing=!0;var c=b.bufferedRequest;if(a._writev&&c&&c.next){var d=b.bufferedRequestCount,e=new Array(d),f=b.corkedRequestsFree;f.entry=c;for(var g=0;c;)e[g]=c,c=c.next,g+=1;l(a,b,!0,b.length,e,"",f.finish),b.pendingcb++,b.lastBufferedRequest=null,f.next?(b.corkedRequestsFree=f.next,f.next=null):b.corkedRequestsFree=new w(b)}else{for(;c;){var h=c.chunk,i=c.encoding,j=c.callback,k=b.objectMode?1:h.length;if(l(a,b,!1,k,h,i,j),c=c.next,b.writing)break}null===c&&(b.lastBufferedRequest=null)}b.bufferedRequestCount=0,b.bufferedRequest=c,b.bufferProcessing=!1}function s(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function t(a,b){b.prefinished||(b.prefinished=!0,a.emit("prefinish"))}function u(a,b){var c=s(b);return c&&(0===b.pendingcb?(t(a,b),b.finished=!0,a.emit("finish")):t(a,b)),c}function v(a,b,c){b.ending=!0,u(a,b),c&&(b.finished?y(c):a.once("finish",c)),b.ended=!0,a.writable=!1}function w(a){var b=this;this.next=null,this.entry=null,this.finish=function(c){var d=b.entry;for(b.entry=null;d;){var e=d.callback;a.pendingcb--,e(c),d=d.next}a.corkedRequestsFree?a.corkedRequestsFree.next=b:a.corkedRequestsFree=b}}b.exports=g;var x,y=a("process-nextick-args"),z=!c.browser&&["v0.10","v0.9."].indexOf(c.version.slice(0,5))>-1?setImmediate:y;g.WritableState=f;var A=a("core-util-is");A.inherits=a("inherits");var B,C={deprecate:a("util-deprecate")};!function(){try{B=a("stream")}catch(b){}finally{B||(B=a("events").EventEmitter)}}();var D=a("buffer").Buffer,E=a("buffer-shims");A.inherits(g,B),f.prototype.getBuffer=function(){for(var a=this.bufferedRequest,b=[];a;)b.push(a),a=a.next;return b},function(){try{Object.defineProperty(f.prototype,"buffer",{get:C.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(a){}}();var F;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(F=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(a){return!!F.call(this,a)||a&&a._writableState instanceof f}})):F=function(a){return a instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(a,b,c){var e=this._writableState,f=!1;return"function"==typeof b&&(c=b,b=null),D.isBuffer(a)?b="buffer":b||(b=e.defaultEncoding),"function"!=typeof c&&(c=d),e.ended?h(this,c):i(this,e,a,c)&&(e.pendingcb++,f=k(this,e,a,b,c)),f},g.prototype.cork=function(){var a=this._writableState;a.corked++},g.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,a.writing||a.corked||a.finished||a.bufferProcessing||!a.bufferedRequest||r(this,a))},g.prototype.setDefaultEncoding=function(a){if("string"==typeof a&&(a=a.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+a);return this._writableState.defaultEncoding=a,this},g.prototype._write=function(a,b,c){c(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(a,b,c){var d=this._writableState;"function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null),null!==a&&void 0!==a&&this.write(a,b),d.corked&&(d.corked=1,this.uncork()),d.ending||d.finished||v(this,d,c)}}).call(this,a("_process"))},{"./_stream_duplex":689,_process:687,buffer:681,"buffer-shims":695,"core-util-is":696,events:712,inherits:685,"process-nextick-args":698,"util-deprecate":699}],694:[function(a,b,c){"use strict";function d(){this.head=null,this.tail=null,this.length=0}var e=(a("buffer").Buffer,a("buffer-shims"));b.exports=d,d.prototype.push=function(a){var b={data:a,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length},d.prototype.unshift=function(a){var b={data:a,next:this.head};0===this.length&&(this.tail=b),this.head=b,++this.length},d.prototype.shift=function(){if(0!==this.length){var a=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},d.prototype.clear=function(){this.head=this.tail=null,this.length=0},d.prototype.join=function(a){if(0===this.length)return"";for(var b=this.head,c=""+b.data;b=b.next;)c+=a+b.data;return c},d.prototype.concat=function(a){if(0===this.length)return e.alloc(0);if(1===this.length)return this.head.data;for(var b=e.allocUnsafe(a>>>0),c=this.head,d=0;c;)c.data.copy(b,d),d+=c.data.length,c=c.next;return b}},{buffer:681,"buffer-shims":695}],695:[function(a,b,c){(function(b){"use strict";var d=a("buffer"),e=d.Buffer,f=d.SlowBuffer,g=d.kMaxLength||2147483647;c.alloc=function(a,b,c){if("function"==typeof e.alloc)return e.alloc(a,b,c);if("number"==typeof c)throw new TypeError("encoding must not be number");if("number"!=typeof a)throw new TypeError("size must be a number");if(a>g)throw new RangeError("size is too large");var d=c,f=b;void 0===f&&(d=void 0,f=0);var h=new e(a);if("string"==typeof f)for(var i=new e(f,d),j=i.length,k=-1;++k<a;)h[k]=i[k%j];else h.fill(f);return h},c.allocUnsafe=function(a){if("function"==typeof e.allocUnsafe)return e.allocUnsafe(a);if("number"!=typeof a)throw new TypeError("size must be a number");if(a>g)throw new RangeError("size is too large");return new e(a)},c.from=function(a,c,d){if("function"==typeof e.from&&(!b.Uint8Array||Uint8Array.from!==e.from))return e.from(a,c,d);if("number"==typeof a)throw new TypeError('"value" argument must not be a number');if("string"==typeof a)return new e(a,c);if("undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer){var f=c;if(1===arguments.length)return new e(a);"undefined"==typeof f&&(f=0);var g=d;if("undefined"==typeof g&&(g=a.byteLength-f),f>=a.byteLength)throw new RangeError("'offset' is out of bounds");if(g>a.byteLength-f)throw new RangeError("'length' is out of bounds");return new e(a.slice(f,f+g))}if(e.isBuffer(a)){var h=new e(a.length);return a.copy(h,0,0,a.length),h}if(a){if(Array.isArray(a)||"undefined"!=typeof ArrayBuffer&&a.buffer instanceof ArrayBuffer||"length"in a)return new e(a);if("Buffer"===a.type&&Array.isArray(a.data))return new e(a.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},c.allocUnsafeSlow=function(a){if("function"==typeof e.allocUnsafeSlow)return e.allocUnsafeSlow(a);if("number"!=typeof a)throw new TypeError("size must be a number");if(a>=g)throw new RangeError("size is too large");return new f(a)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{buffer:681}],696:[function(a,b,c){(function(a){function b(a){return Array.isArray?Array.isArray(a):"[object Array]"===q(a)}function d(a){return"boolean"==typeof a}function e(a){return null===a}function f(a){return null==a}function g(a){return"number"==typeof a}function h(a){return"string"==typeof a}function i(a){return"symbol"==typeof a}function j(a){return void 0===a}function k(a){return"[object RegExp]"===q(a)}function l(a){return"object"==typeof a&&null!==a}function m(a){return"[object Date]"===q(a)}function n(a){return"[object Error]"===q(a)||a instanceof Error}function o(a){return"function"==typeof a}function p(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function q(a){return Object.prototype.toString.call(a)}c.isArray=b,c.isBoolean=d,c.isNull=e,c.isNullOrUndefined=f,c.isNumber=g,c.isString=h,c.isSymbol=i,c.isUndefined=j,c.isRegExp=k,c.isObject=l,c.isDate=m,c.isError=n,c.isFunction=o,c.isPrimitive=p,c.isBuffer=a.isBuffer}).call(this,{isBuffer:a("../../../../insert-module-globals/node_modules/is-buffer/index.js")})},{"../../../../insert-module-globals/node_modules/is-buffer/index.js":686}],697:[function(a,b,c){arguments[4][684][0].apply(c,arguments)},{dup:684}],698:[function(a,b,c){(function(a){"use strict";function c(b,c,d,e){if("function"!=typeof b)throw new TypeError('"callback" argument must be a function');var f,g,h=arguments.length;switch(h){case 0:case 1:return a.nextTick(b);case 2:return a.nextTick(function(){b.call(null,c)});case 3:return a.nextTick(function(){b.call(null,c,d)});case 4:return a.nextTick(function(){b.call(null,c,d,e)});default:for(f=new Array(h-1),g=0;g<f.length;)f[g++]=arguments[g];return a.nextTick(function(){b.apply(null,f)})}}!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?b.exports=c:b.exports=a.nextTick}).call(this,a("_process"))},{_process:687}],699:[function(a,b,c){(function(a){function c(a,b){function c(){if(!e){if(d("throwDeprecation"))throw new Error(b);d("traceDeprecation")?console.trace(b):console.warn(b),e=!0}return a.apply(this,arguments)}if(d("noDeprecation"))return a;var e=!1;return c}function d(b){try{if(!a.localStorage)return!1}catch(c){return!1}var d=a.localStorage[b];return null!=d&&"true"===String(d).toLowerCase()}b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],700:[function(a,b,c){b.exports=a("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":690}],701:[function(a,b,c){(function(d){var e=function(){try{return a("stream")}catch(b){}}();c=b.exports=a("./lib/_stream_readable.js"),c.Stream=e||c,c.Readable=c,c.Writable=a("./lib/_stream_writable.js"),c.Duplex=a("./lib/_stream_duplex.js"),c.Transform=a("./lib/_stream_transform.js"),c.PassThrough=a("./lib/_stream_passthrough.js"),!d.browser&&"disable"===d.env.READABLE_STREAM&&e&&(b.exports=e)}).call(this,a("_process"))},{"./lib/_stream_duplex.js":689,"./lib/_stream_passthrough.js":690,"./lib/_stream_readable.js":691,"./lib/_stream_transform.js":692,"./lib/_stream_writable.js":693,_process:687}],702:[function(a,b,c){b.exports=a("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":692}],703:[function(a,b,c){b.exports=a("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":693}],704:[function(a,b,c){function d(){e.call(this)}b.exports=d;var e=a("events").EventEmitter,f=a("inherits");f(d,e),d.Readable=a("readable-stream/readable.js"),d.Writable=a("readable-stream/writable.js"),d.Duplex=a("readable-stream/duplex.js"),d.Transform=a("readable-stream/transform.js"),d.PassThrough=a("readable-stream/passthrough.js"),d.Stream=d,d.prototype.pipe=function(a,b){function c(b){a.writable&&!1===a.write(b)&&j.pause&&j.pause()}function d(){j.readable&&j.resume&&j.resume()}function f(){k||(k=!0,a.end())}function g(){k||(k=!0,"function"==typeof a.destroy&&a.destroy())}function h(a){if(i(),0===e.listenerCount(this,"error"))throw a}function i(){j.removeListener("data",c),a.removeListener("drain",d),j.removeListener("end",f),j.removeListener("close",g),j.removeListener("error",h),a.removeListener("error",h),j.removeListener("end",i),j.removeListener("close",i),a.removeListener("close",i)}var j=this;j.on("data",c),a.on("drain",d),a._isStdio||b&&b.end===!1||(j.on("end",f),j.on("close",g));var k=!1;return j.on("error",h),a.on("error",h),j.on("end",i),j.on("close",i),a.on("close",i),a.emit("pipe",j),a}},{events:712,inherits:685,"readable-stream/duplex.js":688,"readable-stream/passthrough.js":700,"readable-stream/readable.js":701,"readable-stream/transform.js":702,"readable-stream/writable.js":703}],705:[function(a,b,c){function d(a){if(a&&!i(a))throw new Error("Unknown encoding: "+a)}function e(a){return a.toString(this.encoding)}function f(a){this.charReceived=a.length%2,this.charLength=this.charReceived?2:0}function g(a){this.charReceived=a.length%3,this.charLength=this.charReceived?3:0}var h=a("buffer").Buffer,i=h.isEncoding||function(a){switch(a&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},j=c.StringDecoder=function(a){switch(this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,""),d(a),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=f;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=g;break;default:return void(this.write=e)}this.charBuffer=new h(6),this.charReceived=0,this.charLength=0};j.prototype.write=function(a){for(var b="";this.charLength;){var c=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;if(a.copy(this.charBuffer,this.charReceived,0,c),this.charReceived+=c,this.charReceived<this.charLength)return"";a=a.slice(c,a.length),b=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var d=b.charCodeAt(b.length-1);if(!(d>=55296&&d<=56319)){if(this.charReceived=this.charLength=0,0===a.length)return b;break}this.charLength+=this.surrogateSize,b=""}this.detectIncompleteChar(a);var e=a.length;this.charLength&&(a.copy(this.charBuffer,0,a.length-this.charReceived,e),e-=this.charReceived),b+=a.toString(this.encoding,0,e);var e=b.length-1,d=b.charCodeAt(e);if(d>=55296&&d<=56319){var f=this.surrogateSize;return this.charLength+=f,this.charReceived+=f,this.charBuffer.copy(this.charBuffer,f,0,f),a.copy(this.charBuffer,0,0,f),b.substring(0,e)}return b},j.prototype.detectIncompleteChar=function(a){for(var b=a.length>=3?3:a.length;b>0;b--){var c=a[a.length-b];if(1==b&&c>>5==6){this.charLength=2;break}if(b<=2&&c>>4==14){this.charLength=3;break}if(b<=3&&c>>3==30){this.charLength=4;break}}this.charReceived=b},j.prototype.end=function(a){var b="";if(a&&a.length&&(b=this.write(a)),this.charReceived){var c=this.charReceived,d=this.charBuffer,e=this.encoding;b+=d.slice(0,c).toString(e)}return b}},{buffer:681}],706:[function(a,b,c){"use strict";b.exports=a("camunda-bpm-sdk-js/vendor/angular")},{"camunda-bpm-sdk-js/vendor/angular":102}],707:[function(a,b,c){"use strict";b.exports=a("bpmn-js/lib/NavigatedViewer")},{"bpmn-js/lib/NavigatedViewer":"bpmn-js/lib/NavigatedViewer"}],708:[function(a,b,c){"use strict";b.exports=a("camunda-bpm-sdk-js/lib/angularjs/index")},{"camunda-bpm-sdk-js/lib/angularjs/index":60}],709:[function(a,b,c){"use strict";b.exports=a("moment")},{moment:"moment"}],710:[function(a,b,c){(function(a){var c="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},d=function(){var a=/\blang(?:uage)?-(?!\*)(\w+)\b/i,b=c.Prism={util:{encode:function(a){return a instanceof d?new d(a.type,b.util.encode(a.content),a.alias):"Array"===b.util.type(a)?a.map(b.util.encode):a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(a){return Object.prototype.toString.call(a).match(/\[object (\w+)\]/)[1]},clone:function(a){var c=b.util.type(a);switch(c){case"Object":var d={};for(var e in a)a.hasOwnProperty(e)&&(d[e]=b.util.clone(a[e]));return d;case"Array":return a.map&&a.map(function(a){return b.util.clone(a)})}return a}},languages:{extend:function(a,c){var d=b.util.clone(b.languages[a]);for(var e in c)d[e]=c[e];return d},insertBefore:function(a,c,d,e){e=e||b.languages;var f=e[a];if(2==arguments.length){d=arguments[1];for(var g in d)d.hasOwnProperty(g)&&(f[g]=d[g]);return f}var h={};for(var i in f)if(f.hasOwnProperty(i)){if(i==c)for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g]);h[i]=f[i]}return b.languages.DFS(b.languages,function(b,c){c===e[a]&&b!=a&&(this[b]=h)}),e[a]=h},DFS:function(a,c,d){for(var e in a)a.hasOwnProperty(e)&&(c.call(a,e,a[e],d||e),"Object"===b.util.type(a[e])?b.languages.DFS(a[e],c):"Array"===b.util.type(a[e])&&b.languages.DFS(a[e],c,e))}},plugins:{},highlightAll:function(a,c){for(var d,e=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),f=0;d=e[f++];)b.highlightElement(d,a===!0,c)},highlightElement:function(d,e,f){for(var g,h,i=d;i&&!a.test(i.className);)i=i.parentNode;i&&(g=(i.className.match(a)||[,""])[1],h=b.languages[g]),d.className=d.className.replace(a,"").replace(/\s+/g," ")+" language-"+g,i=d.parentNode,/pre/i.test(i.nodeName)&&(i.className=i.className.replace(a,"").replace(/\s+/g," ")+" language-"+g);var j=d.textContent,k={element:d,language:g,grammar:h,code:j};if(!j||!h)return void b.hooks.run("complete",k);if(b.hooks.run("before-highlight",k),e&&c.Worker){var l=new Worker(b.filename);l.onmessage=function(a){k.highlightedCode=a.data,b.hooks.run("before-insert",k),k.element.innerHTML=k.highlightedCode,f&&f.call(k.element),b.hooks.run("after-highlight",k),b.hooks.run("complete",k)},l.postMessage(JSON.stringify({language:k.language,code:k.code,immediateClose:!0}))}else k.highlightedCode=b.highlight(k.code,k.grammar,k.language),b.hooks.run("before-insert",k),k.element.innerHTML=k.highlightedCode,f&&f.call(d),b.hooks.run("after-highlight",k),b.hooks.run("complete",k)},highlight:function(a,c,e){var f=b.tokenize(a,c);return d.stringify(b.util.encode(f),e)},tokenize:function(a,c){var d=b.Token,e=[a],f=c.rest;if(f){for(var g in f)c[g]=f[g];delete c.rest}a:for(var g in c)if(c.hasOwnProperty(g)&&c[g]){var h=c[g];h="Array"===b.util.type(h)?h:[h];for(var i=0;i<h.length;++i){var j=h[i],k=j.inside,l=!!j.lookbehind,m=0,n=j.alias;j=j.pattern||j;for(var o=0;o<e.length;o++){var p=e[o];if(e.length>a.length)break a;if(!(p instanceof d)){j.lastIndex=0;var q=j.exec(p);if(q){l&&(m=q[1].length);var r=q.index-1+m,q=q[0].slice(m),s=q.length,t=r+s,u=p.slice(0,r+1),v=p.slice(t+1),w=[o,1];u&&w.push(u);var x=new d(g,k?b.tokenize(q,k):q,n);w.push(x),v&&w.push(v),Array.prototype.splice.apply(e,w)}}}}}return e},hooks:{all:{},add:function(a,c){var d=b.hooks.all;d[a]=d[a]||[],d[a].push(c)},run:function(a,c){var d=b.hooks.all[a];if(d&&d.length)for(var e,f=0;e=d[f++];)e(c)}}},d=b.Token=function(a,b,c){this.type=a,this.content=b,this.alias=c};if(d.stringify=function(a,c,e){if("string"==typeof a)return a;if("Array"===b.util.type(a))return a.map(function(b){return d.stringify(b,c,a)}).join("");var f={type:a.type,content:d.stringify(a.content,c,e),tag:"span",classes:["token",a.type],attributes:{},language:c,parent:e};if("comment"==f.type&&(f.attributes.spellcheck="true"),a.alias){var g="Array"===b.util.type(a.alias)?a.alias:[a.alias];Array.prototype.push.apply(f.classes,g)}b.hooks.run("wrap",f);var h="";for(var i in f.attributes)h+=(h?" ":"")+i+'="'+(f.attributes[i]||"")+'"';return"<"+f.tag+' class="'+f.classes.join(" ")+'" '+h+">"+f.content+"</"+f.tag+">"},!c.document)return c.addEventListener?(c.addEventListener("message",function(a){var d=JSON.parse(a.data),e=d.language,f=d.code,g=d.immediateClose;c.postMessage(b.highlight(f,b.languages[e],e)),g&&c.close()},!1),c.Prism):c.Prism;var e=document.getElementsByTagName("script");return e=e[e.length-1],e&&(b.filename=e.src,document.addEventListener&&!e.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",b.highlightAll)),c.Prism}();"undefined"!=typeof b&&b.exports&&(b.exports=d),"undefined"!=typeof a&&(a.Prism=d),d.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?[^\s>\/=.]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},d.hooks.add("wrap",function(a){"entity"===a.type&&(a.attributes.title=a.content.replace(/&amp;/,"&"))}),d.languages.xml=d.languages.markup,d.languages.html=d.languages.markup,d.languages.mathml=d.languages.markup,d.languages.svg=d.languages.markup,d.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,"function":/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},d.languages.css.atrule.inside.rest=d.util.clone(d.languages.css),d.languages.markup&&(d.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/i,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/i,inside:d.languages.markup.tag.inside},rest:d.languages.css},alias:"language-css"}}),d.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:d.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:d.languages.css}},alias:"language-css"}},d.languages.markup.tag)),d.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,"boolean":/\b(true|false)\b/,"function":/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},d.languages.javascript=d.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,"function":/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i}),d.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}}),d.languages.insertBefore("javascript","class-name",{"template-string":{pattern:/`(?:\\`|\\?[^`])*`/,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:d.languages.javascript}},string:/[\s\S]+/}}}),d.languages.markup&&d.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/i,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/i,inside:d.languages.markup.tag.inside},rest:d.languages.javascript},alias:"language-javascript"}}),d.languages.js=d.languages.javascript,d.languages.groovy=d.languages.extend("clike",{keyword:/\b(as|def|in|abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|native|new|package|private|protected|public|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|trait|transient|try|void|volatile|while)\b/,string:/("""|''')[\W\w]*?\1|("|'|\/)(?:\\?.)*?\2|(\$\/)(\$\/\$|[\W\w])*?\/\$/,number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?[\d]+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.{1,2}(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),d.languages.insertBefore("groovy","string",{shebang:{pattern:/#!.+/,alias:"comment"}}),d.languages.insertBefore("groovy","punctuation",{"spock-block":/\b(setup|given|when|then|and|cleanup|expect|where):/}),d.languages.insertBefore("groovy","function",{annotation:{pattern:/(^|[^.])@\w+/,lookbehind:!0}}),d.hooks.add("wrap",function(a){if("groovy"===a.language&&"string"===a.type){var b=a.content[0];if("'"!=b){var c=/([^\\])(\$(\{.*?\}|[\w\.]+))/;"$"===b&&(c=/([^\$])(\$(\{.*?\}|[\w\.]+))/),a.content=d.highlight(a.content,{expression:{pattern:c,lookbehind:!0,inside:d.languages.groovy}}),a.classes.push("/"===b?"regex":"gstring")}}}),d.languages.java=d.languages.extend("clike",{keyword:/\b(abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while)\b/,number:/\b0b[01]+\b|\b0x[\da-f]*\.?[\da-fp\-]+\b|\b\d*\.?\d+(?:e[+-]?\d+)?[df]?\b/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|!=?|<<?=?|>>?>?=?|==?|&[&=]?|\|[|=]?|\*=?|\/=?|%=?|\^=?|[?:~])/m,lookbehind:!0}}),d.languages.php=d.languages.extend("clike",{keyword:/\b(and|or|xor|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|else|elseif|enddeclare|endfor|endforeach|endif|endswitch|endwhile|extends|for|foreach|function|include|include_once|global|if|new|return|static|switch|use|require|require_once|var|while|abstract|interface|public|implements|private|protected|parent|throw|null|echo|print|trait|namespace|final|yield|goto|instanceof|finally|try|catch)\b/i,constant:/\b[A-Z0-9_]{2,}\b/,comment:{pattern:/(^|[^\\])(?:\/\*[\w\W]*?\*\/|\/\/.*)/,lookbehind:!0}}),d.languages.insertBefore("php","class-name",{"shell-comment":{pattern:/(^|[^\\])#.*/,lookbehind:!0,alias:"comment"}}),d.languages.insertBefore("php","keyword",{delimiter:/\?>|<\?(?:php)?/i,variable:/\$\w+\b/i,"package":{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:!0,inside:{punctuation:/\\/}}}),d.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/,lookbehind:!0}}),d.languages.markup&&(d.hooks.add("before-highlight",function(a){"php"===a.language&&(a.tokenStack=[],a.backupCode=a.code,a.code=a.code.replace(/(?:<\?php|<\?)[\w\W]*?(?:\?>)/gi,function(b){return a.tokenStack.push(b),"{{{PHP"+a.tokenStack.length+"}}}"}))}),d.hooks.add("before-insert",function(a){"php"===a.language&&(a.code=a.backupCode,delete a.backupCode)}),d.hooks.add("after-highlight",function(a){if("php"===a.language){for(var b,c=0;b=a.tokenStack[c];c++)a.highlightedCode=a.highlightedCode.replace("{{{PHP"+(c+1)+"}}}",d.highlight(b,a.grammar,"php").replace(/\$/g,"$$$$"));a.element.innerHTML=a.highlightedCode}}),d.hooks.add("wrap",function(a){"php"===a.language&&"markup"===a.type&&(a.content=a.content.replace(/(\{\{\{PHP[0-9]+\}\}\})/g,'<span class="token php">$1</span>'))}),d.languages.insertBefore("php","comment",{markup:{pattern:/<[^?]\/?(.*?)>/,inside:d.languages.markup},php:/\{\{\{PHP[0-9]+\}\}\}/})),d.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:/"""[\s\S]+?"""|'''[\s\S]+?'''|("|')(?:\\?.)*?\1/,"function":{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_][a-zA-Z0-9_]*(?=\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)[a-z0-9_]+/i,lookbehind:!0},keyword:/\b(?:as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|pass|print|raise|return|try|while|with|yield)\b/,
"boolean":/\b(?:True|False)\b/,number:/\b-?(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:or|and|not)\b/,punctuation:/[{}[\];(),.:]/},!function(a){a.languages.ruby=a.languages.extend("clike",{comment:/#(?!\{[^\r\n]*?\}).*/,keyword:/\b(alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|false|for|if|in|module|new|next|nil|not|or|raise|redo|require|rescue|retry|return|self|super|then|throw|true|undef|unless|until|when|while|yield)\b/});var b={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:a.util.clone(a.languages.ruby)}};a.languages.insertBefore("ruby","keyword",{regex:[{pattern:/%r([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1[gim]{0,3}/,inside:{interpolation:b}},{pattern:/%r\((?:[^()\\]|\\[\s\S])*\)[gim]{0,3}/,inside:{interpolation:b}},{pattern:/%r\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}[gim]{0,3}/,inside:{interpolation:b}},{pattern:/%r\[(?:[^\[\]\\]|\\[\s\S])*\][gim]{0,3}/,inside:{interpolation:b}},{pattern:/%r<(?:[^<>\\]|\\[\s\S])*>[gim]{0,3}/,inside:{interpolation:b}},{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}],variable:/[@$]+[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/,symbol:/:[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/}),a.languages.insertBefore("ruby","number",{builtin:/\b(Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|File|Fixnum|Fload|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z][a-zA-Z_0-9]*(?:[?!]|\b)/}),a.languages.ruby.string=[{pattern:/%[qQiIwWxs]?([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1/,inside:{interpolation:b}},{pattern:/%[qQiIwWxs]?\((?:[^()\\]|\\[\s\S])*\)/,inside:{interpolation:b}},{pattern:/%[qQiIwWxs]?\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/,inside:{interpolation:b}},{pattern:/%[qQiIwWxs]?\[(?:[^\[\]\\]|\\[\s\S])*\]/,inside:{interpolation:b}},{pattern:/%[qQiIwWxs]?<(?:[^<>\\]|\\[\s\S])*>/,inside:{interpolation:b}},{pattern:/("|')(#\{[^}]+\}|\\(?:\r?\n|\r)|\\?.)*?\1/,inside:{interpolation:b}}]}(d)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],711:[function(a,b,c){angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(a,b,c){function d(a){for(var b in a)if(void 0!==f.style[b])return a[b]}var e=function(d,f,g){g=g||{};var h=a.defer(),i=e[g.animation?"animationEndEventName":"transitionEndEventName"],j=function(a){c.$apply(function(){d.unbind(i,j),h.resolve(d)})};return i&&d.bind(i,j),b(function(){angular.isString(f)?d.addClass(f):angular.isFunction(f)?f(d):angular.isObject(f)&&d.css(f),i||h.resolve(d)}),h.promise.cancel=function(){i&&d.unbind(i,j),h.reject("Transition cancelled")},h.promise},f=document.createElement("trans"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},h={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return e.transitionEndEventName=d(g),e.animationEndEventName=d(h),e}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(a){return{link:function(b,c,d){function e(b){function d(){j===e&&(j=void 0)}var e=a(c,b);return j&&j.cancel(),j=e,e.then(d,d),e}function f(){k?(k=!1,g()):(c.removeClass("collapse").addClass("collapsing"),e({height:c[0].scrollHeight+"px"}).then(g))}function g(){c.removeClass("collapsing"),c.addClass("collapse in"),c.css({height:"auto"})}function h(){if(k)k=!1,i(),c.css({height:0});else{c.css({height:c[0].scrollHeight+"px"});c[0].offsetWidth;c.removeClass("collapse in").addClass("collapsing"),e({height:0}).then(i)}}function i(){c.removeClass("collapsing"),c.addClass("collapse")}var j,k=!0;b.$watch(d.collapse,function(a){a?h():f()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(c){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);b!==-1&&this.groups.splice(b,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.$watch("isOpen",function(b){b&&d.closeOthers(a)}),a.toggleOpen=function(){a.isDisabled||(a.isOpen=!a.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.accordionTransclude]},function(a){a&&(b.html(""),b.append(a))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(a,b){a.closeable="close"in b}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(a,b,c){b.addClass("ng-binding").data("$binding",c.bindHtmlUnsafe),a.$watch(c.bindHtmlUnsafe,function(a){b.html(a||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){var e=d[0],f=d[1];f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,a.$eval(c.btnRadio)))},b.bind(e.toggleEvent,function(){var d=b.hasClass(e.activeClass);d&&!angular.isDefined(c.uncheckable)||a.$apply(function(){f.$setViewValue(d?null:a.$eval(c.btnRadio)),f.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){var d=a.$eval(b);return angular.isDefined(d)?d:c}var h=d[0],i=d[1];i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.bind(h.toggleEvent,function(){a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition",function(a,b,c){function d(){e();var c=+a.interval;!isNaN(c)&&c>=0&&(g=b(f,c))}function e(){g&&(b.cancel(g),g=null)}function f(){h?(a.next(),d()):a.pause()}var g,h,i=this,j=i.slides=a.slides=[],k=-1;i.currentSlide=null;var l=!1;i.select=a.select=function(e,f){function g(){if(!l){if(i.currentSlide&&angular.isString(f)&&!a.noTransition&&e.$element){e.$element.addClass(f);e.$element[0].offsetWidth;angular.forEach(j,function(a){angular.extend(a,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(e,{direction:f,active:!0,entering:!0}),angular.extend(i.currentSlide||{},{direction:f,leaving:!0}),a.$currentTransition=c(e.$element,{}),function(b,c){a.$currentTransition.then(function(){h(b,c)},function(){h(b,c)})}(e,i.currentSlide)}else h(e,i.currentSlide);i.currentSlide=e,k=m,d()}}function h(b,c){angular.extend(b,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(c||{},{direction:"",active:!1,leaving:!1,entering:!1}),a.$currentTransition=null}var m=j.indexOf(e);void 0===f&&(f=m>k?"next":"prev"),e&&e!==i.currentSlide&&(a.$currentTransition?(a.$currentTransition.cancel(),b(g)):g())},a.$on("$destroy",function(){l=!0}),i.indexOfSlide=function(a){return j.indexOf(a)},a.next=function(){var b=(k+1)%j.length;if(!a.$currentTransition)return i.select(j[b],"next")},a.prev=function(){var b=k-1<0?j.length-1:k-1;if(!a.$currentTransition)return i.select(j[b],"prev")},a.isActive=function(a){return i.currentSlide===a},a.$watch("interval",d),a.$on("$destroy",e),a.play=function(){h||(h=!0,d())},a.pause=function(){a.noPause||(h=!1,e())},i.addSlide=function(b,c){b.$element=c,j.push(b),1===j.length||b.active?(i.select(j[j.length-1]),1==j.length&&a.play()):b.active=!1},i.removeSlide=function(a){var b=j.indexOf(a);j.splice(b,1),j.length>0&&a.active?b>=j.length?i.select(j[b-1]):i.select(j[b]):k>b&&k--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)}),a.$watch("active",function(b){b&&d.select(a)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(a,b){function c(a){var c=[],d=a.split("");return angular.forEach(e,function(b,e){var f=a.indexOf(e);if(f>-1){a=a.split(""),d[f]="("+b.regex+")",a[f]="$";for(var g=f+1,h=f+e.length;g<h;g++)d[g]="",a[g]="$";a=a.join(""),c.push({index:f,apply:b.apply})}}),{regex:new RegExp("^"+d.join("")+"$"),map:b(c,"index")}}function d(a,b,c){return 1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3!==b&&5!==b&&8!==b&&10!==b||c<31}this.parsers={};var e={yyyy:{regex:"\\d{4}",apply:function(a){this.year=+a}},yy:{regex:"\\d{2}",apply:function(a){this.year=+a+2e3}},y:{regex:"\\d{1,4}",apply:function(a){this.year=+a}},MMMM:{regex:a.DATETIME_FORMATS.MONTH.join("|"),apply:function(b){this.month=a.DATETIME_FORMATS.MONTH.indexOf(b)}},MMM:{regex:a.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(b){this.month=a.DATETIME_FORMATS.SHORTMONTH.indexOf(b)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1}},M:{regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},EEEE:{regex:a.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:a.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(b,e){if(!angular.isString(b)||!e)return b;e=a.DATETIME_FORMATS[e]||e,this.parsers[e]||(this.parsers[e]=c(e));var f=this.parsers[e],g=f.regex,h=f.map,i=b.match(g);if(i&&i.length){for(var j,k={year:1900,month:0,date:1,hours:0},l=1,m=i.length;l<m;l++){var n=h[l-1];n.apply&&n.apply.call(k,i[l])}return d(k.year,k.month,k.date)&&(j=new Date(k.year,k.month,k.date,k.hours)),j}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(a,b,c,d,e,f,g,h){var i=this,j={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(c,e){i[c]=angular.isDefined(b[c])?e<8?d(b[c])(a.$parent):a.$parent.$eval(b[c]):h[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){i[d]=a?new Date(a):null,i.refreshView()}):i[d]=h[d]?new Date(h[d]):null}),a.datepickerMode=a.datepickerMode||h.datepickerMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(b.initDate)?a.$parent.$eval(b.initDate):new Date,a.isActive=function(b){return 0===i.compare(b.date,i.activeDate)&&(a.activeDateId=b.uid,!0)},this.init=function(a){j=a,j.$render=function(){i.render()}},this.render=function(){if(j.$modelValue){var a=new Date(j.$modelValue),b=!isNaN(a);b?this.activeDate=a:f.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),j.$setValidity("date",b)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=j.$modelValue?new Date(j.$modelValue):null;j.$setValidity("date-disabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=j.$modelValue?new Date(j.$modelValue):null;return{date:a,label:g(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===i.minMode){var c=j.$modelValue?new Date(j.$modelValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),j.$setViewValue(c),j.$render()}else i.activeDate=b,a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=i.activeDate.getFullYear()+a*(i.step.years||0),c=i.activeDate.getMonth()+a*(i.step.months||0);i.activeDate.setFullYear(b,c,1),i.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===i.maxMode&&1===b||a.datepickerMode===i.minMode&&b===-1||(a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var k=function(){e(function(){i.element[0].focus()},0,!1)};a.$on("datepicker.focus",k),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),b.stopPropagation(),"enter"===c||"space"===c){if(i.isDisabled(i.activeDate))return;a.select(i.activeDate),k()}else!b.ctrlKey||"up"!==c&&"down"!==c?(i.handleKeyDown(c,b),i.refreshView()):(a.toggleMode("up"===c?1:-1),k())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}).directive("daypicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(b,c,d,e){function f(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?i[b]:29}function g(a,b){var c=new Array(b),d=new Date(a),e=0;for(d.setHours(12);e<b;)c[e++]=new Date(d),d.setDate(d.getDate()+1);return c}function h(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}b.showWeeks=e.showWeeks,e.step={months:1},e.element=c;var i=[31,28,31,30,31,30,31,31,30,31,30,31];e._refreshView=function(){var c=e.activeDate.getFullYear(),d=e.activeDate.getMonth(),f=new Date(c,d,1),i=e.startingDay-f.getDay(),j=i>0?7-i:-i,k=new Date(f);j>0&&k.setDate(-j+1);for(var l=g(k,42),m=0;m<42;m++)l[m]=angular.extend(e.createDateObject(l[m],e.formatDay),{secondary:l[m].getMonth()!==d,uid:b.uniqueId+"-"+m});b.labels=new Array(7);for(var n=0;n<7;n++)b.labels[n]={abbr:a(l[n].date,e.formatDayHeader),full:a(l[n].date,"EEEE")};if(b.title=a(e.activeDate,e.formatDayTitle),b.rows=e.split(l,7),b.showWeeks){b.weekNumbers=[];for(var o=h(b.rows[0][0].date),p=b.rows.length;b.weekNumbers.push(o++)<p;);}},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},e.handleKeyDown=function(a,b){var c=e.activeDate.getDate();if("left"===a)c-=1;else if("up"===a)c-=7;else if("right"===a)c+=1;else if("down"===a)c+=7;else if("pageup"===a||"pagedown"===a){var d=e.activeDate.getMonth()+("pageup"===a?-1:1);e.activeDate.setMonth(d,1),c=Math.min(f(e.activeDate.getFullYear(),e.activeDate.getMonth()),c)}else"home"===a?c=1:"end"===a&&(c=f(e.activeDate.getFullYear(),e.activeDate.getMonth()));e.activeDate.setDate(c)},e.refreshView()}}}]).directive("monthpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(b,c,d,e){e.step={years:1},e.element=c,e._refreshView=function(){for(var c=new Array(12),d=e.activeDate.getFullYear(),f=0;f<12;f++)c[f]=angular.extend(e.createDateObject(new Date(d,f,1),e.formatMonth),{uid:b.uniqueId+"-"+f});b.title=a(e.activeDate,e.formatMonthTitle),b.rows=e.split(c,3)},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},e.handleKeyDown=function(a,b){var c=e.activeDate.getMonth();if("left"===a)c-=1;else if("up"===a)c-=3;else if("right"===a)c+=1;else if("down"===a)c+=3;else if("pageup"===a||"pagedown"===a){var d=e.activeDate.getFullYear()+("pageup"===a?-1:1);e.activeDate.setFullYear(d)}else"home"===a?c=0:"end"===a&&(c=11);e.activeDate.setMonth(c)},e.refreshView()}}}]).directive("yearpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(a,b,c,d){function e(a){return parseInt((a-1)/f,10)*f+1}var f=d.yearRange;d.step={years:f},d.element=b,d._refreshView=function(){for(var b=new Array(f),c=0,g=e(d.activeDate.getFullYear());c<f;c++)b[c]=angular.extend(d.createDateObject(new Date(g+c,0,1),d.formatYear),{uid:a.uniqueId+"-"+c});a.title=[b[0].label,b[f-1].label].join(" - "),a.rows=d.split(b,5)},d.compare=function(a,b){return a.getFullYear()-b.getFullYear()},d.handleKeyDown=function(a,b){var c=d.activeDate.getFullYear();"left"===a?c-=1:"up"===a?c-=5:"right"===a?c+=1:"down"===a?c+=5:"pageup"===a||"pagedown"===a?c+=("pageup"===a?-1:1)*d.step.years:"home"===a?c=e(d.activeDate.getFullYear()):"end"===a&&(c=e(d.activeDate.getFullYear())+f-1),d.activeDate.setFullYear(c)},d.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(a,b,c,d,e,f,g){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(h,i,j,k){function l(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function m(a){if(a){if(angular.isDate(a)&&!isNaN(a))return k.$setValidity("date",!0),a;if(angular.isString(a)){var b=f.parse(a,n)||new Date(a);return isNaN(b)?void k.$setValidity("date",!1):(k.$setValidity("date",!0),b)}return void k.$setValidity("date",!1)}return k.$setValidity("date",!0),null}var n,o=angular.isDefined(j.closeOnDateSelection)?h.$parent.$eval(j.closeOnDateSelection):g.closeOnDateSelection,p=angular.isDefined(j.datepickerAppendToBody)?h.$parent.$eval(j.datepickerAppendToBody):g.appendToBody;h.showButtonBar=angular.isDefined(j.showButtonBar)?h.$parent.$eval(j.showButtonBar):g.showButtonBar,h.getText=function(a){return h[a+"Text"]||g[a+"Text"]},j.$observe("datepickerPopup",function(a){n=a||g.datepickerPopup,k.$render()});var q=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");q.attr({"ng-model":"date","ng-change":"dateSelection()"});var r=angular.element(q.children()[0]);j.datepickerOptions&&angular.forEach(h.$parent.$eval(j.datepickerOptions),function(a,b){r.attr(l(b),a)}),h.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(a){if(j[a]){var c=b(j[a]);if(h.$parent.$watch(c,function(b){h.watchData[a]=b}),r.attr(l(a),"watchData."+a),"datepickerMode"===a){var d=c.assign;h.$watch("watchData."+a,function(a,b){a!==b&&d(h.$parent,a)})}}}),j.dateDisabled&&r.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),k.$parsers.unshift(m),h.dateSelection=function(a){angular.isDefined(a)&&(h.date=a),k.$setViewValue(h.date),k.$render(),o&&(h.isOpen=!1,i[0].focus())},i.bind("input change keyup",function(){h.$apply(function(){h.date=k.$modelValue})}),k.$render=function(){var a=k.$viewValue?e(k.$viewValue,n):"";i.val(a),h.date=m(k.$modelValue)};var s=function(a){h.isOpen&&a.target!==i[0]&&h.$apply(function(){h.isOpen=!1})},t=function(a,b){h.keydown(a)};i.bind("keydown",t),h.keydown=function(a){27===a.which?(a.preventDefault(),a.stopPropagation(),h.close()):40!==a.which||h.isOpen||(h.isOpen=!0)},h.$watch("isOpen",function(a){a?(h.$broadcast("datepicker.focus"),h.position=p?d.offset(i):d.position(i),h.position.top=h.position.top+i.prop("offsetHeight"),c.bind("click",s)):c.unbind("click",s)}),h.select=function(a){if("today"===a){var b=new Date;angular.isDate(k.$modelValue)?(a=new Date(k.$modelValue),a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate())):a=new Date(b.setHours(0,0,0,0))}h.dateSelection(a)},h.close=function(){h.isOpen=!1,i[0].focus()};var u=a(q)(h);q.remove(),p?c.find("body").append(u):i.after(u),h.$on("$destroy",function(){u.remove(),i.unbind("keydown",t),c.unbind("click",s)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(a,b,c){b.bind("click",function(a){a.preventDefault(),a.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(a){var b=null;this.open=function(e){b||(a.bind("click",c),a.bind("keydown",d)),b&&b!==e&&(b.isOpen=!1),b=e},this.close=function(e){b===e&&(b=null,a.unbind("click",c),a.unbind("keydown",d))};var c=function(a){var c=b.getToggleElement();a&&c&&c[0].contains(a.target)||b.$apply(function(){b.isOpen=!1})},d=function(a){27===a.which&&(b.focusToggleElement(),c())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(a,b,c,d,e,f){var g,h=this,i=a.$new(),j=d.openClass,k=angular.noop,l=b.onToggle?c(b.onToggle):angular.noop;this.init=function(d){h.$element=d,b.isOpen&&(g=c(b.isOpen),k=g.assign,a.$watch(g,function(a){i.isOpen=!!a}))},this.toggle=function(a){return i.isOpen=arguments.length?!!a:!i.isOpen},this.isOpen=function(){return i.isOpen},i.getToggleElement=function(){return h.toggleElement},i.focusToggleElement=function(){h.toggleElement&&h.toggleElement[0].focus()},i.$watch("isOpen",function(b,c){f[b?"addClass":"removeClass"](h.$element,j),b?(i.focusToggleElement(),e.open(i)):e.close(i),k(a,b),angular.isDefined(b)&&b!==c&&l(a,{open:!!b})}),a.$on("$locationChangeSuccess",function(){i.isOpen=!1}),a.$on("$destroy",function(){i.$destroy()})}]).directive("dropdown",function(){return{restrict:"CA",controller:"DropdownController",link:function(a,b,c,d){d.init(b)}}}).directive("dropdownToggle",function(){return{restrict:"CA",require:"?^dropdown",link:function(a,b,c,d){if(d){d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$timeout",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(b,c,d){b.backdropClass=d.backdropClass||"",b.animate=!1,a(function(){b.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(a,b){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(c,d,e){d.addClass(e.windowClass||""),c.size=e.size,b(function(){c.animate=!0,d[0].querySelectorAll("[autofocus]").length||d[0].focus()}),c.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(a,b,c,d,e,f){function g(){for(var a=-1,b=o.keys(),c=0;c<b.length;c++)o.get(b[c]).value.backdrop&&(a=c);return a}function h(a){var b=c.find("body").eq(0),d=o.get(a).value;o.remove(a),j(d.modalDomEl,d.modalScope,300,function(){d.modalScope.$destroy(),b.toggleClass(n,o.length()>0),i()})}function i(){if(k&&g()==-1){var a=l;j(k,l,150,function(){a.$destroy(),a=null}),k=void 0,l=void 0}}function j(c,d,e,f){function g(){g.done||(g.done=!0,c.remove(),f&&f())}d.animate=!1;var h=a.transitionEndEventName;if(h){var i=b(g,e);c.bind(h,function(){b.cancel(i),g(),d.$apply()})}else b(g)}var k,l,m,n="modal-open",o=f.createNew(),p={},q=0,r="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return e.$watch(g,function(a){l&&(l.index=a)}),c.bind("keydown",function(a){var b=o.top();if(b&&b.value.keyboard)switch(a.which){case 27:a.preventDefault(),e.$apply(function(){p.dismiss(b.key,"escape key press")});break;case 9:p.loadFocusElementList(b);var c=!1;a.shiftKey?p.isFocusInFirstItem(a)&&(c=p.focusLastFocusableElement()):p.isFocusInLastItem(a)&&(c=p.focusFirstFocusableElement()),c&&(a.preventDefault(),a.stopPropagation())}}),p.open=function(a,b){o.add(a,{deferred:b.deferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard});var f=c.find("body").eq(0),h=g();if(h>=0&&!k){l=e.$new(!0),l.index=h;var i=angular.element("<div modal-backdrop></div>");i.attr("backdrop-class",b.backdropClass),k=d(i)(l),f.append(k)}var j=angular.element("<div modal-window></div>");j.attr({"template-url":b.windowTemplateUrl,"window-class":b.windowClass,size:b.size,index:o.length()-1,animate:"animate"}).html(b.content);var m=d(j)(b.scope);o.top().value.modalDomEl=m,f.append(m),f.addClass(n),p.clearFocusListCache()},p.close=function(a,b){var c=o.get(a);c&&(c.value.deferred.resolve(b),h(a))},p.dismiss=function(a,b){var c=o.get(a);c&&(c.value.deferred.reject(b),h(a))},p.dismissAll=function(a){for(var b=this.getTop();b;)this.dismiss(b.key,a),b=this.getTop()},p.getTop=function(){return o.top()},p.focusFirstFocusableElement=function(){return m.length>0&&(m[0].focus(),!0)},p.focusLastFocusableElement=function(){return m.length>0&&(m[m.length-1].focus(),!0)},p.isFocusInFirstItem=function(a){return m.length>0&&(a.target||a.srcElement)==m[0]},p.isFocusInLastItem=function(a){return m.length>0&&(a.target||a.srcElement)==m[m.length-1]},p.clearFocusListCache=function(){m=[],q=0},p.loadFocusElementList=function(a){if((void 0===m||!m.length0)&&a){var b=a.value.modalDomEl;b&&b.length&&(m=b[0].querySelectorAll(r))}},p}]).provider("$modal",function(){var a={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?d.when(a.template):e.get(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl,{cache:f}).then(function(a){return a.data})}function j(a){var c=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)));
}),c}var k={};return k.open=function(b){var e=d.defer(),f=d.defer(),k={result:e.promise,opened:f.promise,close:function(a){h.close(k,a)},dismiss:function(a){h.dismiss(k,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var l=d.all([i(b)].concat(j(b.resolve)));return l.then(function(a){var d=(b.scope||c).$new();d.$close=k.close,d.$dismiss=k.dismiss;var f,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=k,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),f=g(b.controller,i),b.controllerAs&&(d[b.controllerAs]=f)),h.open(k,{scope:d,deferred:e,content:a[0],backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size})},function(a){e.reject(a)}),l.then(function(){f.resolve(!0)},function(){f.reject(!1)}),k},k}]};return a}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(a,b,c){var d=this,e={$setViewValue:angular.noop},f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(f,g){e=f,this.config=g,e.$render=function(){d.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){d.itemsPerPage=parseInt(b,10),a.totalPages=d.calculateTotalPages()}):this.itemsPerPage=g.itemsPerPage},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.render=function(){a.page=parseInt(e.$viewValue,10)||1},a.selectPage=function(b){a.page!==b&&b>0&&b<=a.totalPages&&(e.$setViewValue(b),e.$render())},a.getText=function(b){return a[b+"Text"]||d.config[b+"Text"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages},a.$watch("totalItems",function(){a.totalPages=d.calculateTotalPages()}),a.$watch("totalPages",function(b){f(a.$parent,b),a.page>b?a.selectPage(b):e.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(a,b){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(c,d,e,f){function g(a,b,c){return{number:a,text:b,active:c}}function h(a,b){var c=[],d=1,e=b,f=angular.isDefined(k)&&k<b;f&&(l?(d=Math.max(a-Math.floor(k/2),1),e=d+k-1,e>b&&(e=b,d=e-k+1)):(d=(Math.ceil(a/k)-1)*k+1,e=Math.min(d+k-1,b)));for(var h=d;h<=e;h++){var i=g(h,h,h===a);c.push(i)}if(f&&!l){if(d>1){var j=g(d-1,"...",!1);c.unshift(j)}if(e<b){var m=g(e+1,"...",!1);c.push(m)}}return c}var i=f[0],j=f[1];if(j){var k=angular.isDefined(e.maxSize)?c.$parent.$eval(e.maxSize):b.maxSize,l=angular.isDefined(e.rotate)?c.$parent.$eval(e.rotate):b.rotate;c.boundaryLinks=angular.isDefined(e.boundaryLinks)?c.$parent.$eval(e.boundaryLinks):b.boundaryLinks,c.directionLinks=angular.isDefined(e.directionLinks)?c.$parent.$eval(e.directionLinks):b.directionLinks,i.init(j,b),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){k=parseInt(a,10),i.render()});var m=i.render;i.render=function(){m(),c.page>0&&c.page<=c.totalPages&&(c.pages=h(c.page,c.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(a){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&(b.align=angular.isDefined(d.align)?b.$parent.$eval(d.align):a.align,f.init(g,a))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0},c={mouseenter:"mouseleave",click:"click",focus:"blur"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(e,f,g,h,i,j,k){return function(e,l,m){function n(a){var b=a||o.trigger||m,d=c[b]||b;return{show:b,hide:d}}var o=angular.extend({},b,d),p=a(e),q=k.startSymbol(),r=k.endSymbol(),s="<div "+p+'-popup title="'+q+"tt_title"+r+'" content="'+q+"tt_content"+r+'" placement="'+q+"tt_placement"+r+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(a,b){var c=f(s);return function(a,b,d){function f(){a.tt_isOpen?m():k()}function k(){y&&!a.$eval(d[l+"Enable"])||(a.tt_popupDelay?v||(v=g(p,a.tt_popupDelay,!1),v.then(function(a){a()})):p()())}function m(){a.$apply(function(){q()})}function p(){return v=null,u&&(g.cancel(u),u=null),a.tt_content?(r(),t.css({top:0,left:0,display:"block"}),w?i.find("body").append(t):b.after(t),z(),a.tt_isOpen=!0,a.$digest(),z):angular.noop}function q(){a.tt_isOpen=!1,g.cancel(v),v=null,a.tt_animation?u||(u=g(s,500)):s()}function r(){t&&s(),t=c(a,function(){}),a.$digest()}function s(){u=null,t&&(t.remove(),t=null)}var t,u,v,w=!!angular.isDefined(o.appendToBody)&&o.appendToBody,x=n(void 0),y=angular.isDefined(d[l+"Enable"]),z=function(){var c=j.positionElements(b,t,a.tt_placement,w);if(w){var d={left:5,width:window.innerWidth-5},e=angular.element(t[0].querySelector(".tooltip-arrow")),f=t[0].clientWidth,g=Math.abs(c.left+f-d.width);if(c.left<d.left)e.css("left",f/2+(c.left-d.left)+"px"),c.left=d.left+"px";else if(c.left+f>d.width){var h=f/2+Math.abs(d.width-(c.left+f));e.css("left",h+"px"),c.left=c.left-g+"px"}else c.left+="px";c.top+="px"}else c.top+="px",c.left+="px";t.css(c)};a.tt_isOpen=!1,d.$observe(e,function(b){a.tt_content=b,!b&&a.tt_isOpen&&q()}),d.$observe(l+"Title",function(b){a.tt_title=b}),d.$observe(l+"Placement",function(b){a.tt_placement=angular.isDefined(b)?b:o.placement}),d.$observe(l+"PopupDelay",function(b){var c=parseInt(b,10);a.tt_popupDelay=isNaN(c)?o.popupDelay:c});var A=function(){b.unbind(x.show,k),b.unbind(x.hide,m)};d.$observe(l+"Trigger",function(a){A(),x=n(a),x.show===x.hide?b.bind(x.show,f):(b.bind(x.show,k),b.bind(x.hide,m))});var B=a.$eval(d[l+"Animation"]);a.tt_animation=angular.isDefined(B)?!!B:o.animation,d.$observe(l+"AppendToBody",function(b){w=angular.isDefined(b)?h(b)(a):w}),w&&a.$on("$locationChangeSuccess",function(){a.tt_isOpen&&q()}),a.$on("$destroy",function(){g.cancel(u),g.cancel(v),A(),s()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(a){return a("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(a){return a("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(a,b,c){var d=this,e=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max,this.addBar=function(b,c){e||c.css({transition:"none"}),this.bars.push(b),b.$watch("value",function(c){b.percent=+(100*c/a.max).toFixed(2)}),b.$on("$destroy",function(){c=null,d.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(a,b,c){var d={$setViewValue:angular.noop};this.init=function(e){d=e,d.$render=this.render,this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(f)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;b<c;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff},a[b]);return a},a.rate=function(b){!a.readonly&&b>=0&&b<=a.range.length&&(d.$setViewValue(b),d.$render())},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect())}),a.active=!0,a.onSelect()},b.addTab=function(a){c.push(a),1===c.length?a.active=!0:a.active&&b.select(a)},b.removeTab=function(a){var d=c.indexOf(a);if(a.active&&c.length>1){var e=d==c.length-1?d-1:d+1;b.select(c[e])}c.splice(d,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(a,b,c){a.vertical=!!angular.isDefined(c.vertical)&&a.$parent.$eval(c.vertical),a.justified=!!angular.isDefined(c.justified)&&a.$parent.$eval(c.justified)}}}).directive("tab",["$parse",function(a){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(b,c,d){return function(b,c,e,f){b.$watch("active",function(a){a&&f.select(b)}),b.disabled=!1,e.disabled&&b.$parent.$watch(a(e.disabled),function(a){b.disabled=!!a}),b.select=function(){b.disabled||(b.active=!0)},f.addTab(b),b.$on("$destroy",function(){f.removeTab(b)}),b.$transcludeFn=d}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(a,b,c,d){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}]).directive("tabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(a,b,c,d,e,f){function g(){var b=parseInt(a.hours,10),c=a.showMeridian?b>0&&b<13:b>=0&&b<24;if(c)return a.showMeridian&&(12===b&&(b=0),a.meridian===p[1]&&(b+=12)),b}function h(){var b=parseInt(a.minutes,10);return b>=0&&b<60?b:void 0}function i(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a}function j(a){k(),o.$setViewValue(new Date(n)),l(a)}function k(){o.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1}function l(b){var c=n.getHours(),d=n.getMinutes();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:i(c),a.minutes="m"===b?d:i(d),a.meridian=n.getHours()<12?p[0]:p[1]}function m(a){var b=new Date(n.getTime()+6e4*a);n.setHours(b.getHours(),b.getMinutes()),j()}var n=new Date,o={$setViewValue:angular.noop},p=angular.isDefined(b.meridians)?a.$parent.$eval(b.meridians):f.meridians||e.DATETIME_FORMATS.AMPMS;this.init=function(c,d){o=c,o.$render=this.render;var e=d.eq(0),g=d.eq(1),h=angular.isDefined(b.mousewheel)?a.$parent.$eval(b.mousewheel):f.mousewheel;h&&this.setupMousewheelEvents(e,g),a.readonlyInput=angular.isDefined(b.readonlyInput)?a.$parent.$eval(b.readonlyInput):f.readonlyInput,this.setupInputEvents(e,g)};var q=f.hourStep;b.hourStep&&a.$parent.$watch(c(b.hourStep),function(a){q=parseInt(a,10)});var r=f.minuteStep;b.minuteStep&&a.$parent.$watch(c(b.minuteStep),function(a){r=parseInt(a,10)}),a.showMeridian=f.showMeridian,b.showMeridian&&a.$parent.$watch(c(b.showMeridian),function(b){if(a.showMeridian=!!b,o.$error.time){var c=g(),d=h();angular.isDefined(c)&&angular.isDefined(d)&&(n.setHours(c),j())}else l()}),this.setupMousewheelEvents=function(b,c){var d=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()})},this.setupInputEvents=function(b,c){if(a.readonlyInput)return a.updateHours=angular.noop,void(a.updateMinutes=angular.noop);var d=function(b,c){o.$setViewValue(null),o.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c)};a.updateHours=function(){var a=g();angular.isDefined(a)?(n.setHours(a),j("h")):d(!0)},b.bind("blur",function(b){!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=i(a.hours)})}),a.updateMinutes=function(){var a=h();angular.isDefined(a)?(n.setMinutes(a),j("m")):d(void 0,!0)},c.bind("blur",function(b){!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=i(a.minutes)})})},this.render=function(){var a=o.$modelValue?new Date(o.$modelValue):null;isNaN(a)?(o.$setValidity("time",!1),d.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(a&&(n=a),k(),l())},a.incrementHours=function(){m(60*q)},a.decrementHours=function(){m(60*-q)},a.incrementMinutes=function(){m(r)},a.decrementMinutes=function(){m(-r)},a.toggleMeridian=function(){m(720*(n.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(a,b,c,d,e,f,g){var h=[9,13,27,38,40];return{require:"ngModel",link:function(i,j,k,l){var m,n=i.$eval(k.typeaheadMinLength)||1,o=i.$eval(k.typeaheadWaitMs)||0,p=i.$eval(k.typeaheadEditable)!==!1,q=b(k.typeaheadLoading).assign||angular.noop,r=b(k.typeaheadOnSelect),s=k.typeaheadInputFormatter?b(k.typeaheadInputFormatter):void 0,t=!!k.typeaheadAppendToBody&&i.$eval(k.typeaheadAppendToBody),u=b(k.ngModel).assign,v=g.parse(k.typeahead),w=i.$new();i.$on("$destroy",function(){w.$destroy()});var x="typeahead-"+w.$id+"-"+Math.floor(1e4*Math.random());j.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":x});var y=angular.element("<div typeahead-popup></div>");y.attr({id:x,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(k.typeaheadTemplateUrl)&&y.attr("template-url",k.typeaheadTemplateUrl);var z=function(){w.matches=[],w.activeIdx=-1,j.attr("aria-expanded",!1)},A=function(a){return x+"-option-"+a};w.$watch("activeIdx",function(a){a<0?j.removeAttr("aria-activedescendant"):j.attr("aria-activedescendant",A(a))});var B=function(a){var b={$viewValue:a};q(i,!0),c.when(v.source(i,b)).then(function(c){var d=a===l.$viewValue;if(d&&m)if(c.length>0){w.activeIdx=0,w.matches.length=0;for(var e=0;e<c.length;e++)b[v.itemName]=c[e],w.matches.push({id:A(e),label:v.viewMapper(w,b),model:c[e]});w.query=a,w.position=t?f.offset(j):f.position(j),w.position.top=w.position.top+j.prop("offsetHeight"),j.attr("aria-expanded",!0)}else z();d&&q(i,!1)},function(){z(),q(i,!1)})};z(),w.query=void 0;var C,D=function(a){C=d(function(){B(a)},o)},E=function(){C&&d.cancel(C)};l.$parsers.unshift(function(a){return m=!0,a&&a.length>=n?o>0?(E(),D(a)):B(a):(q(i,!1),E(),z()),p?a:a?void l.$setValidity("editable",!1):(l.$setValidity("editable",!0),a)}),l.$formatters.push(function(a){var b,c,d={};return s?(d.$model=a,s(i,d)):(d[v.itemName]=a,b=v.viewMapper(i,d),d[v.itemName]=void 0,c=v.viewMapper(i,d),b!==c?b:a)}),w.select=function(a){var b,c,e={};e[v.itemName]=c=w.matches[a].model,b=v.modelMapper(i,e),u(i,b),l.$setValidity("editable",!0),r(i,{$item:c,$model:b,$label:v.viewMapper(i,e)}),z(),d(function(){j[0].focus()},0,!1)},j.bind("keydown",function(a){0!==w.matches.length&&h.indexOf(a.which)!==-1&&(a.preventDefault(),40===a.which?(w.activeIdx=(w.activeIdx+1)%w.matches.length,w.$digest()):38===a.which?(w.activeIdx=(w.activeIdx?w.activeIdx:w.matches.length)-1,w.$digest()):13===a.which||9===a.which?w.$apply(function(){w.select(w.activeIdx)}):27===a.which&&(a.stopPropagation(),z(),w.$digest()))}),j.bind("blur",function(a){m=!1});var F=function(a){j[0]!==a.target&&(z(),w.$digest())};e.bind("click",F),i.$on("$destroy",function(){e.unbind("click",F)});var G=a(y)(w);t?e.find("body").append(G):j.after(G)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(a,b,c,d){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(e,f,g){var h=d(g.templateUrl)(e.$parent)||"template/typeahead/typeahead-match.html";a.get(h,{cache:b}).success(function(a){f.replaceWith(c(a.trim())(e))})}}}]).filter("typeaheadHighlight",function(){function a(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c){return c?(""+b).replace(new RegExp(a(c),"gi"),"<strong>$&</strong>"):b}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(a){a.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>');
}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("template/timepicker/timepicker.html",'<table>\n\t<tbody>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n\t\t\t\t<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td>:</td>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n\t\t\t\t<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n\t\t</tr>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}])},{}],712:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:f=Array.prototype.slice.call(arguments,1),c.apply(this,f)}else if(g(c))for(f=Array.prototype.slice.call(arguments,1),j=c.slice(),d=j.length,i=0;i<d;i++)j[i].apply(this,f);return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned&&(c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())),this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-- >0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(d<0)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else if(c)for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.prototype.listenerCount=function(a){if(this._events){var b=this._events[a];if(e(b))return 1;if(b)return b.length}return 0},d.listenerCount=function(a,b){return a.listenerCount(b)}},{}],713:[function(a,b,c){var d=a("jquery");!function(a,b){function c(b,c){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,!(!b.href||!f||"map"!==e.nodeName.toLowerCase())&&(g=a("img[usemap=#"+f+"]")[0],!!g&&d(g))):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&d(b)}function d(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e=0,f=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var d,e,f=a(this[0]);f.length&&f[0]!==document;){if(d=f.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(e=parseInt(f.css("zIndex"),10),!isNaN(e)&&0!==e))return e;f=f.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;d<e.length;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0||(b[d]=1,e=b[d]>0,b[d]=0,e)}})}(d)},{jquery:"jquery"}],714:[function(a,b,c){var d=a("jquery");a("./core"),a("./mouse"),a("./widget"),function(a,b){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(b){var c=this.options;return!(this.helper||c.disabled||a(b.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(b),!!this.handle&&(a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0))},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=this,d=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(d=a.ui.ddmanager.drop(this,b)),this.dropped&&(d=this.dropped,this.dropped=!1),!("original"===this.options.helper&&!a.contains(this.element[0].ownerDocument,this.element[0]))&&("invalid"===this.options.revert&&!d||"valid"===this.options.revert&&d||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger("stop",b)!==!1&&c._clear()}):this._trigger("stop",b)!==!1&&this._clear(),!1)},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){return!this.options.handle||!!a(b.target).closest(this.element.find(this.options.handle)).length},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):"clone"===c.helper?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo("parent"===c.appendTo?this.element[0].parentNode:c.appendTo),d[0]===this.element[0]||/(fixed|absolute)/.test(d.css("position"))||d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;return e.containment?"window"===e.containment?void(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===e.containment?void(this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):e.containment.constructor===Array?void(this.containment=e.containment):("parent"===e.containment&&(e.containment=this.helper[0].parentNode),c=a(e.containment),d=c[0],void(d&&(b="hidden"!==c.css("overflow"),this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c))):void(this.containment=null)},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:e.scrollTop(),left:e.scrollLeft()}),{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*d}},_generatePosition:function(b){var c,d,e,f,g=this.options,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=b.pageX,j=b.pageY;return this.offset.scroll||(this.offset.scroll={top:h.scrollTop(),left:h.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(d=this.relative_container.offset(),c=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):c=this.containment,b.pageX-this.offset.click.left<c[0]&&(i=c[0]+this.offset.click.left),b.pageY-this.offset.click.top<c[1]&&(j=c[1]+this.offset.click.top),b.pageX-this.offset.click.left>c[2]&&(i=c[2]+this.offset.click.left),b.pageY-this.offset.click.top>c[3]&&(j=c[3]+this.offset.click.top)),g.grid&&(e=g.grid[1]?this.originalPageY+Math.round((j-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,j=c?e-this.offset.click.top>=c[1]||e-this.offset.click.top>c[3]?e:e-this.offset.click.top>=c[1]?e-g.grid[1]:e+g.grid[1]:e,f=g.grid[0]?this.originalPageX+Math.round((i-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,i=c?f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2]?f:f-this.offset.click.left>=c[0]?f-g.grid[0]:f+g.grid[0]:f)),{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),"drag"===b&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("ui-draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"ui-sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("ui-draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"===d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("ui-draggable"),e=this;a.each(d.sortables,function(){var f=!1,g=this;this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,a.each(d.sortables,function(){return this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this!==g&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(g.instance.element[0],this.instance.element[0])&&(f=!1),f})),f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),c=a(this).data("ui-draggable").options;b.css("cursor")&&(c._cursor=b.css("cursor")),b.css("cursor",c.cursor)},stop:function(){var b=a(this).data("ui-draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("ui-draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("ui-draggable");b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var c=a(this).data("ui-draggable"),d=c.options,e=!1;c.scrollParent[0]!==document&&"HTML"!==c.scrollParent[0].tagName?(d.axis&&"x"===d.axis||(c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<d.scrollSensitivity?c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop+d.scrollSpeed:b.pageY-c.overflowOffset.top<d.scrollSensitivity&&(c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop-d.scrollSpeed)),d.axis&&"y"===d.axis||(c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<d.scrollSensitivity?c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft+d.scrollSpeed:b.pageX-c.overflowOffset.left<d.scrollSensitivity&&(c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft-d.scrollSpeed))):(d.axis&&"x"===d.axis||(b.pageY-a(document).scrollTop()<d.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<d.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed))),d.axis&&"y"===d.axis||(b.pageX-a(document).scrollLeft()<d.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<d.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed)))),e!==!1&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}}),a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("ui-draggable"),c=b.options;b.snapElements=[],a(c.snap.constructor!==String?c.snap.items||":data(ui-draggable)":c.snap).each(function(){var c=a(this),d=c.offset();this!==b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:d.top,left:d.left})})},drag:function(b,c){var d,e,f,g,h,i,j,k,l,m,n=a(this).data("ui-draggable"),o=n.options,p=o.snapTolerance,q=c.offset.left,r=q+n.helperProportions.width,s=c.offset.top,t=s+n.helperProportions.height;for(l=n.snapElements.length-1;l>=0;l--)h=n.snapElements[l].left,i=h+n.snapElements[l].width,j=n.snapElements[l].top,k=j+n.snapElements[l].height,r<h-p||q>i+p||t<j-p||s>k+p||!a.contains(n.snapElements[l].item.ownerDocument,n.snapElements[l].item)?(n.snapElements[l].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=!1):("inner"!==o.snapMode&&(d=Math.abs(j-t)<=p,e=Math.abs(k-s)<=p,f=Math.abs(h-r)<=p,g=Math.abs(i-q)<=p,d&&(c.position.top=n._convertPositionTo("relative",{top:j-n.helperProportions.height,left:0}).top-n.margins.top),e&&(c.position.top=n._convertPositionTo("relative",{top:k,left:0}).top-n.margins.top),f&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left-n.margins.left),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:i}).left-n.margins.left)),m=d||e||f||g,"outer"!==o.snapMode&&(d=Math.abs(j-s)<=p,e=Math.abs(k-t)<=p,f=Math.abs(h-q)<=p,g=Math.abs(i-r)<=p,d&&(c.position.top=n._convertPositionTo("relative",{top:j,left:0}).top-n.margins.top),e&&(c.position.top=n._convertPositionTo("relative",{top:k-n.helperProportions.height,left:0}).top-n.margins.top),f&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h}).left-n.margins.left),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:i-n.helperProportions.width}).left-n.margins.left)),!n.snapElements[l].snapping&&(d||e||f||g||m)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=d||e||f||g||m)}}),a.ui.plugin.add("draggable","stack",{start:function(){var b,c=this.data("ui-draggable").options,d=a.makeArray(a(c.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});d.length&&(b=parseInt(a(d[0]).css("zIndex"),10)||0,a(d).each(function(c){a(this).css("zIndex",b+c)}),this.css("zIndex",b+d.length))}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("ui-draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})}(d)},{"./core":713,"./mouse":715,"./widget":716,jquery:"jquery"}],715:[function(a,b,c){var d=a("jquery");a("./widget"),function(a,b){var c=!1;a(document).mouseup(function(){c=!1}),a.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent"))return a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!c){this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var d=this,e=1===b.which,f=!("string"!=typeof this.options.cancel||!b.target.nodeName)&&a(b.target).closest(this.options.cancel).length;return!(e&&!f&&this._mouseCapture(b))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(b)!==!1,
!this._mouseStarted)?(b.preventDefault(),!0):(!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),c=!0,!0))}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||document.documentMode<9)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(d)},{"./widget":716,jquery:"jquery"}],716:[function(a,b,c){var d=a("jquery");!function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix||b:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;h<i;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(a.isPlainObject(f)?c[e]=a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):c[e]=f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,h?this.each(function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),1===arguments.length)return f[c]===b?null:f[c];f[c]=d}else{if(1===arguments.length)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){if(b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled"))return("string"==typeof g?f[g]:g).apply(f,arguments)}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\w+)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(d)},{jquery:"jquery"}],717:[function(a,b,c){"use strict";var d=a("./events"),e=10,f=function(a){this._sdk=a,this._batches={runtime:{state:"INITIAL",currentPage:1,count:0,data:null},history:{state:"INITIAL",currentPage:1,count:0,data:null},selection:{state:"INITIAL",type:null,data:{}}},this._jobs={state:"INITIAL",currentPage:1,count:0,data:[]},this.deleteModal={instance:null};var b=this;d.on("delete:cancel",function(){b.deleteModal.instance&&b.deleteModal.instance.dismiss("cancel"),b.deleteModal.instance=null}),d.on("delete:confirm",function(a){b.deleteModal.instance&&b.deleteModal.instance.close(),b.deleteModal.instance=null,b._remove(a)})};f.prototype.openDeleteModal=function(){d.emit("deleteModal:open",this.deleteModal)},f.prototype._remove=function(a){var b=this._batches.selection;a.id=b.data.id;var c=this;return this._sdk.resource("batch")["delete"](a,function(a){a?d.emit("batch:delete:failed",a):(d.emit("batch:delete:success"),c.load(),b.state="INITIAL",b.type=null,b.data={})})};var g=function(a){return function(b){b?d.emit("job:retry:failed",b):(d.emit("job:retry:success"),a._load("runtime"),a.loadDetails(a.getSelection().id,"runtime"))}};f.prototype.retryAll=function(){return this._sdk.resource("job-definition").setRetries({id:this._batches.selection.data.batchJobDefinitionId,retries:1},g(this))},f.prototype.retryJob=function(a){return this._sdk.resource("job").setRetries({id:a.id,retries:1},g(this))},f.prototype.deleteJob=function(a){var b=this;return this._sdk.resource("job")["delete"](a.id,function(a){a?d.emit("job:delete:failed",a):(d.emit("job:delete:success"),b._load("runtime"),b.loadDetails(b.getSelection().id,"runtime"))})},f.prototype.getProgressPercentage=function(a,b){switch(b){case"success":return 100*a.completedJobs/(a.completedJobs+a.remainingJobs);case"failed":return 100*a.failedJobs/(a.completedJobs+a.remainingJobs);case"remaining":return 100*(a.remainingJobs-a.failedJobs)/(a.completedJobs+a.remainingJobs)}},f.prototype.getProgressRoundedPercentage=function(a,b){return Math.round(this.getProgressPercentage(a,b))},f.prototype.getProgressAbsolute=function(a,b){switch(b){case"success":return a.completedJobs;case"failed":return a.failedJobs;case"remaining":return a.remainingJobs-a.failedJobs}},f.prototype.isSelected=function(a){return this._batches.selection.data.id===a.id},f.prototype.getJobs=function(){return this._jobs.data},f.prototype.getStacktraceUrl=function(a){return this._sdk.baseUrl+"/job/"+a.id+"/stacktrace"},f.prototype.getJobCount=function(){return this._jobs.count},f.prototype.getLoadingState=function(a){return"jobs"===a?this._jobs.state:this._batches[a].state},f.prototype.getBatches=function(a){return this._batches[a].data},f.prototype.getSelection=function(){return this._batches.selection.data},f.prototype.getSelectionType=function(){return this._batches.selection.type},f.prototype.getBatchCount=function(a){return this._batches[a].count},f.prototype.getPageSize=function(){return e},f.prototype.getCurrentPage=function(a){return"jobs"===a?this._jobs.currentPage:this._batches[a].currentPage},f.prototype.getSuspendedState=function(){return this.getSelection().suspended},f.prototype.toggleSuspension=function(){var a=this,b=this.getSelection();return b.state="LOADING",this._sdk.resource("batch").suspended({id:b.id,suspended:!b.suspended},function(c){if(c)throw c;a.loadDetails(b.id,"runtime")})},f.prototype.updatePage=function(a){return"job"===a?this._loadFailedJobs(this.getSelection()):void this._load(a)},f.prototype.load=function(){this._load("runtime"),this._load("history")},f.prototype.loadPeriodically=function(a){var b=this;this.load(),this.intervalHandle=window.setInterval(function(){b.load(),"LOADED"===b._batches.selection.state&&"runtime"===b._batches.selection.type&&0===b._jobs.count&&b.loadDetails(b._batches.selection.data.id,"runtime")},a)},f.prototype.stopLoadingPeriodically=function(){window.clearInterval(this.intervalHandle)},f.prototype.loadDetails=function(a,b){var c=this._batches.selection;c.state="LOADING",c.type=b;var e=this,f=function(f,g){f||"undefined"!=typeof g.length&&0===g.length?"runtime"===b?(d.emit("details:switchToHistory"),e.loadDetails(a,"history")):(d.emit("load:details:failed"),c.data=f.message,c.state="ERROR"):(c.data=g.length?g[0]:g,c.state="LOADED",d.emit("load:details:completed"),"runtime"===b&&this._loadFailedJobs(c.data))}.bind(this);switch(b){case"runtime":return this._sdk.resource("batch").statistics({batchId:a},f);case"history":return this._sdk.resource("history").singleBatch(a,f)}},f.prototype._loadFailedJobs=function(a){var b=a.batchJobDefinitionId,c=this._jobs;c.state="LOADING";var f={jobDefinitionId:b,withException:!0,noRetriesLeft:!0,firstResult:(c.currentPage-1)*e,maxResults:e};this._sdk.resource("job").list(f,function(a,b){a?(c.data=a.message,c.state="ERROR"):(c.data=b,this._sdk.resource("job").count(f,function(a,b){c.state=b?"LOADED":"EMPTY",c.count=b,d.emit("load:jobs:completed")}))}.bind(this))},f.prototype._load=function(a){var b=this._batches[a];b.data||(b.state="LOADING");var c={firstResult:(b.currentPage-1)*e,maxResults:e},f=function(c,e){b.state=e.count?"LOADED":"EMPTY",b.count=e.count,d.emit("load:"+a+":completed")},g=function(d,e){if(b.data=e.items||e,"undefined"!=typeof e.count)f(d,e);else switch(a){case"runtime":return this._sdk.resource("batch").statisticsCount(c,f);case"history":return this._sdk.resource("history").batchCount(c,f)}}.bind(this);switch(a){case"runtime":return this._sdk.resource("batch").statistics(c,g);case"history":return c.completed=!0,c.sortBy="startTime",c.sortOrder="desc",this._sdk.resource("history").batch(c,g)}},f.prototype.sortingKeys=["id","startTime","endTime","type","totalJobs","completedJobs","remainingJobs","batchJobsPerSeed","invocationsPerBatchJob","tenantId","batchJobDefinitionId","monitorJobDefinitionId","seedJobDefinitionId"],b.exports=f},{"./events":720}],718:[function(a,b,c){"use strict";b.exports=function(a,b){b.showBreadcrumbs=!0,a.breadcrumbsClear(),a.breadcrumbsAdd({label:"Batches"}),a.titleSet("Batches")}},{}],719:[function(a,b,c){"use strict";var d=a("./events"),e=function(){this.cascade=!1};e.prototype.cancel=function(){d.emit("delete:cancel")},e.prototype.confirm=function(){d.emit("delete:confirm",{cascade:this.cascade})},b.exports=e},{"./events":720}],720:[function(a,b,c){"use strict";b.exports=new(a("events"))},{events:712}],721:[function(a,b,c){"use strict";var d='<div class="batch-wrapper">\n  <div class="row">\n    <div class="col-md-6">\n      <h3>In Progress Batches</h3>\n      <div cam-widget-loader\n           loading-state="{{ ctrl.getLoadingState(\'runtime\') }}"\n           text-empty="No running batches">\n\n        <table class="cam-table">\n          <thead>\n            <tr>\n              <th class="id">ID</th>\n              <th class="type">Type</th>\n              <th class="failed">Failed Jobs</th>\n              <th>Progress</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr ng-repeat="batch in ctrl.getBatches(\'runtime\')" ng-class="{selected: ctrl.isSelected(batch)}">\n              <td class="uuid"><a ng-href="#/batch?details={{batch.id}}&type=runtime">{{batch.id}}</a></td>\n              <td class="type">{{batch.type}}</td>\n              <td class="failed">{{ ctrl.getProgressAbsolute(batch, \'failed\') }}</td>\n              <td>\n                <progress>\n                  <div class="processed">{{ ctrl.getProgressRoundedPercentage(batch, \'success\') }}%</div>\n                  <bar value="ctrl.getProgressPercentage(batch, \'success\')"\n                       type="success"\n                       ng-if="ctrl.getProgressAbsolute(batch, \'success\') > 0"\n                       class="jobs jobs-success">\n                  </bar>\n                </progress>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <pagination ng-if="ctrl.getBatchCount(\'runtime\') > ctrl.getPageSize()"\n                    class="pagination-sm"\n\n                    page="ctrl.getCurrentPage(\'runtime\')"\n                    ng-model="ctrl._batches.runtime.currentPage"\n                    ng-change="ctrl.updatePage(\'runtime\')"\n\n                    total-items="ctrl.getBatchCount(\'runtime\')"\n                    items-per-page="ctrl.getPageSize()"\n\n                    max-size="7"\n                    boundary-links="true"></pagination>\n      </div>\n\n      <h3>Ended Batches</h3>\n\n      <div cam-widget-loader\n           loading-state="{{ ctrl.getLoadingState(\'history\') }}"\n           text-empty="No finished batches">\n\n        <table class="cam-table">\n          <thead>\n            <tr>\n              <th class="id">ID</th>\n              <th class="type">Type</th>\n              <th class="start-time">Started</th>\n              <th class="end-time">Ended</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr ng-repeat="batch in ctrl.getBatches(\'history\')" ng-class="{selected: ctrl.isSelected(batch)}">\n              <td class="uuid"><a ng-href="#/batch?details={{batch.id}}&type=history">{{batch.id}}</a></td>\n              <td>{{batch.type}}</td>\n              <td>{{batch.startTime}}</td>\n              <td>{{batch.endTime}}</td>\n            </tr>\n          </tbody>\n        </table>\n        <pagination ng-if="ctrl.getBatchCount(\'history\') > ctrl.getPageSize()"\n                    class="pagination-sm"\n\n                    page="ctrl.getCurrentPage(\'history\')"\n                    ng-model="ctrl._batches.history.currentPage"\n                    ng-change="ctrl.updatePage(\'history\')"\n\n                    total-items="ctrl.getBatchCount(\'history\')"\n                    items-per-page="ctrl.getPageSize()"\n\n                    max-size="7"\n                    boundary-links="true"></pagination>\n      </div>\n    </div>\n\n    <div class="col-md-6">\n      <div cam-widget-loader\n           loading-state="{{ ctrl.getLoadingState(\'selection\') }}"\n           text-error="{{ctrl.getSelection()}}">\n        <!-- The check below is needed, because you cannot combine ng-if with transclusion in the loader widget. Thanks Angular -->\n        <div ng-if="ctrl.getLoadingState(\'selection\') == \'LOADED\'">\n          <div class="row"\n               ng-init="selection = ctrl.getSelection()">\n            <h3 class="col-xs-8">\n              <span ng-if="ctrl.getSelectionType() == \'history\'">Completed</span>\n              <span ng-if="ctrl.getSelectionType() == \'runtime\'">In Progress</span> Batch Details\n            </h3>\n\n            <div class="col-xs-4 text-right">\n              <div class="btn-group batch-controls">\n                <a ng-if="ctrl.getSelectionType() == \'runtime\' && !ctrl.getSuspendedState()"\n                   ng-click="ctrl.toggleSuspension()"\n                   class="btn btn-default"\n                   tooltip="Suspend Batch">\n                  <span class="glyphicon glyphicon-pause"></span>\n                </a>\n\n                <a ng-if="ctrl.getSelectionType() == \'runtime\' && ctrl.getSuspendedState()"\n                   ng-click="ctrl.toggleSuspension()"\n                   class="btn btn-default"\n                   tooltip="Activate Batch">\n                  <span class="glyphicon glyphicon-play"></span>\n                </a>\n\n                <a ng-if="ctrl.getSelectionType() == \'runtime\' && ctrl.getJobs().length > 0"\n                   class="btn btn-default action-button"\n                   ng-click="ctrl.retryAll()"\n                   tooltip="Increment Number of Retries for all Failed Jobs">\n                  <span class="glyphicon glyphicon-repeat"></span>\n                </a>\n\n                <a ng-if="ctrl.getSelectionType() == \'runtime\'"\n                   class="btn btn-danger action-button"\n                   ng-click="ctrl.openDeleteModal()"\n                   tooltip="Delete this batch">\n                  <span class="glyphicon glyphicon-trash"></span>\n                </a>\n              </div>\n            </div>\n          </div>\n\n          <table class="cam-table batch-details">\n            <thead>\n              <th>Property</th>\n              <th>Value</th>\n            </thead>\n            <tbody>\n              <tr ng-repeat="key in ctrl.sortingKeys"\n                  ng-if="selection[key] && key !== \'failedJobs\'"\n                  ng-class="key">\n                <td>{{key}}</td>\n                <td>{{selection[key]}}\n                  <span ng-if="key === \'remainingJobs\' && selection.failedJobs"\n                        class="failedJobs">(Failed {{ selection.failedJobs }})</span>\n                  </td>\n              </tr>\n            </tbody>\n          </table>\n          <div ng-if="ctrl.getSelectionType() == \'runtime\'">\n            <h3>Failed Jobs</h3>\n            <div cam-widget-loader\n                 loading-state="{{ ctrl.getLoadingState(\'jobs\') }}"\n                 text-empty="No failed jobs"\n                 text-error="{{ctrl.getJobs()}}">\n            <table class="cam-table">\n              <thead>\n                <tr>\n                  <th class="id">ID</th>\n                  <th class="type">Exception</th>\n                  <th class="action">Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr ng-repeat="job in ctrl.getJobs()">\n                  <td class="uuid stack-trace">{{job.id}}</td>\n                  <td>\n                    {{job.exceptionMessage.substr(0, 120)}}…\n                    <a ng-href="{{ctrl.getStacktraceUrl(job)}}"\n                       target="_blank"\n                       tooltip="Open stacktrace in new window">Full stack trace</a>\n                  </td>\n                  <td>\n                    <div class="btn-group btn-group-sm">\n                      <a class="btn btn-default action-button"\n                         ng-click="ctrl.retryJob(job)"\n                         tooltip="Increment Number of Retries for this Job">\n                        <span class="glyphicon glyphicon-repeat"></span>\n                      </a>\n                      <a class="btn btn-default action-button"\n                         ng-click="ctrl.deleteJob(job)"\n                         tooltip="Delete this Job">\n                        <span class="glyphicon glyphicon-trash"></span>\n                      </a>\n                    </div>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n            <pagination ng-if="ctrl.getJobCount() > ctrl.getPageSize()"\n                        class="pagination-sm"\n\n                        page="ctrl.getCurrentPage(\'job\')"\n                        ng-model="ctrl._jobs.currentPage"\n                        ng-change="ctrl.updatePage(\'job\')"\n\n                        total-items="ctrl.getJobCount()"\n                        items-per-page="ctrl.getPageSize()"\n\n                        max-size="7"\n                        boundary-links="true"></pagination>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n',e=a("../controllers/view-ctrl");b.exports=["$routeProvider",function(a){a.when("/batch",{template:d,controller:e,authentication:"required",reloadOnSearch:!1})}]},{"../controllers/view-ctrl":723}],722:[function(a,b,c){"use strict";var d=a("../components/delete");b.exports=["$scope",function(a){a.ctrl=new d}]},{"../components/delete":719}],723:[function(a,b,c){"use strict";var d=a("../components/batch"),e=a("../components/events"),f='<div class="modal-header">\n  <h3 class="modal-title">Delete Batch</h3>\n</div>\n<div class="modal-body">\n  Do you really want to delete this batch and all related jobs and job definitions?<br />\n  <br />\n  <input type="radio" ng-model="ctrl.cascade" ng-value="false" /> Keep the historic batch and historic job logs<br />\n  <input type="radio" ng-model="ctrl.cascade" ng-value="true" /> Delete the historic batch and historic job logs, too\n</div>\n<div class="modal-footer">\n    <button class="btn btn-default" ng-click="ctrl.cancel()">Cancel</button>\n    <button class="btn btn-primary" ng-click="ctrl.confirm()">Delete Batch</button>\n</div>\n',g=a("./modal-ctrl");b.exports=["$scope","page","camAPI","$location","$modal",function(b,c,h,i,j){b.$on("$destroy",function(){e.removeAllListeners(),b.ctrl.stopLoadingPeriodically()}),b.$watch(function(){return i.search()||{}},function(a){a.details&&a.type&&b.ctrl.loadDetails(a.details,a.type)}),e.on("details:switchToHistory",function(){i.search("type","history")}),e.on("deleteModal:open",function(a){a.instance=j.open({template:f,controller:g})}),a("../components/breadcrumbs")(c,b.$root),b.ctrl=new d(h),b.ctrl.loadPeriodically(5e3)}]},{"../components/batch":717,"../components/breadcrumbs":718,"../components/events":720,"./modal-ctrl":722}],724:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular");a("angular-data-depend"),a("camunda-commons-ui/lib/index");var e=a("./config/routes"),f=["cam.commons","dataDepend","ngRoute"],g=d.module("cam.cockpit.batch",f);g.config(e),b.exports=g},{"./config/routes":721,"angular-data-depend":"angular-data-depend","camunda-commons-ui/lib/index":19,"camunda-commons-ui/vendor/angular":706}],725:[function(a,b,c){"use strict";var d=window.jQuery=window.$=a("jquery"),e=a("camunda-commons-ui/lib"),f=a("camunda-commons-ui/vendor/camunda-bpm-sdk-angular"),g=a("angular-data-depend"),h=a("../../../common/scripts/module"),i=a("camunda-commons-ui/vendor/moment"),j=a("events");a("../../../common/scripts/module");var k="cam.cockpit",l=a("camunda-commons-ui/vendor/angular");b.exports=function(b){var c=["ng","ngResource",e.name,a("./repository/main").name,a("./batches/main").name,a("./reports/main").name,a("./directives/main").name,a("./filters/main").name,a("./pages/main").name,a("./resources/main").name,a("./services/main").name,a("./navigation/main").name].concat(b.map(function(a){return a.ngModuleName})),f=l.module(k,c),g=["$routeProvider","UriProvider",function(a,b){function c(a){var b=d("base").attr(a);if(!a)throw new Error("Uri base for "+a+" could not be resolved");return b}a.otherwise({redirectTo:"/dashboard"}),b.replace(":appName","cockpit"),b.replace("app://",c("href")),b.replace("adminbase://",c("app-root")+"/app/admin/"),b.replace("cockpit://",c("cockpit-api")),b.replace("admin://",c("cockpit-api")+"../admin/"),b.replace("plugin://",c("cockpit-api")+"plugin/"),b.replace("engine://",c("engine-api")),b.replace(":engine",["$window",function(a){var b=a.location.href,c=b.match(/\/app\/cockpit\/([\w-]+)(|\/)/);if(c)return c[1];throw new Error("no process engine selected")}])}];if(f.config(g),f.config(["camDateFormatProvider",function(a){var b={monthName:"MMMM",day:"DD",abbr:"lll",normal:"YYYY-MM-DD[T]HH:mm:ss","long":"LLLL","short":"LL"};for(var c in b)a.setDateFormat(b[c],c)}]),"undefined"!=typeof window.cockpitConf&&window.cockpitConf.polyfills){var h=window.cockpitConf.polyfills;if(h.indexOf("placeholder")>-1){var i=window.requirejs,j=d("head base").attr("app-root");i([j+"/app/cockpit/scripts/placeholders.utils.js",j+"/app/cockpit/scripts/placeholders.main.js"],function(){i([j+"/app/cockpit/scripts/placeholders.jquery.js"],function(){})})}}l.bootstrap(document.documentElement,[f.name,"cam.cockpit.custom"]),top!==window&&window.parent.postMessage({type:"loadamd"},"*")},b.exports.exposePackages=function(a){a.angular=l,a.jquery=d,a["camunda-commons-ui"]=e,a["camunda-bpm-sdk-js"]=f,a["angular-data-depend"]=g,a.moment=i,a.events=j,a["cam-common"]=h}},{"../../../common/scripts/module":812,"./batches/main":724,"./directives/main":732,"./filters/main":748,"./navigation/main":751,"./pages/main":756,"./reports/main":764,"./repository/main":775,"./resources/main":790,"./services/main":795,"angular-data-depend":"angular-data-depend","camunda-commons-ui/lib":19,"camunda-commons-ui/vendor/angular":706,"camunda-commons-ui/vendor/camunda-bpm-sdk-angular":708,"camunda-commons-ui/vendor/moment":709,events:712,jquery:"jquery"}],726:[function(a,b,c){"use strict";function d(a){return(a||"").replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}var e='<!-- # CE - camunda-cockpit-ui/client/scripts/directives/activity-instance-tree.html -->\n<div class="tree-node" >\n\n  <div id="{{ node.id }}"\n       ng-class="{ \'state-running\': !node.endTime, \'state-completed\' : node.endTime && !node.canceled, \'state-canceled\': node.endTime && node.canceled }"\n       class="tree-node-group">\n\n    <span class="tree-node-label"\n          ng-class="{ \'selected\' : node.isSelected, \'has-children\': node.children.length }">\n\n      <button class="btn btn-link btn-control-link btn-toggle"\n              ng-if="node.children.length"\n              ng-click="toggleOpen()">\n        <span class="glyphicon"\n           ng-class="{ \'glyphicon-menu-right\' : !node.isOpen, \'glyphicon-menu-down\' : node.isOpen }"></span>\n      </button>\n\n      <button class="btn btn-link btn-control-link btn-control remove"\n              ng-click="deselect($event)">\n        <span class="glyphicon glyphicon-remove"></span>\n      </button>\n\n      <span class="{{ symbolIconName(node.activityType) }}"\n            tooltip="{{ node.activityType }}"></span>\n\n      <a ng-click="select($event)"\n         tooltip-placement="right"\n         tooltip="{{ node.name }}">\n        {{ node.name }}\n      </a>\n\n    </span>\n\n    <!-- running -->\n    <span ng-if="!node.endTime"\n          class="tree-node-addon activity-instance-running"\n          tooltip="Running Activity Instance"\n          tooltip-placement="right">\n      <span class="glyphicon glyphicon-adjust"></span>\n    </span>\n\n    <!-- completed -->\n    <span ng-if="node.endTime && !node.canceled"\n          class="tree-node-addon activity-instance-completed"\n          tooltip="Completed Activity Instance"\n          tooltip-placement="right">\n      <span class="glyphicon glyphicon-ok-circle"></span>\n    </span>\n\n    <!-- canceled -->\n    <span ng-if="node.endTime && node.canceled"\n          class="tree-node-addon activity-instance-canceled"\n          tooltip="Canceled Activity Instance"\n          tooltip-placement="right">\n      <span class="glyphicon glyphicon-ban-circle"></span>\n    </span>\n\n  </div>\n\n  <ul class="list-unstyled" ng-show="node.isOpen" ng-if="node.children.length">\n    <li ng-repeat="child in node.children">\n      <div activity-instance-tree="child"\n           selection="selection"\n           on-element-click="propogateSelection(id, activityId, $event)"\n           order-children-by="orderChildrenBy()">\n      </div>\n    </li>\n  </ul>\n</div>\n<!-- / CE - camunda-cockpit-ui/client/scripts/directives/activity-instance-tree.html -->\n',f=a("camunda-commons-ui/vendor/angular"),g={"start-event":"start-event-none","error-start-event":"start-event-error","cancel-end-event":"end-event-cancel","error-end-event":"end-event-error","none-end-event":"end-event-none","parallel-gateway":"gateway-parallel","exclusive-gateway":"gateway-xor","intermediate-compensation-throw-event":"intermediate-event-throw-compensation"},h=["$compile","$http","$filter",function(a,b,c){return{restrict:"EAC",scope:{node:"=activityInstanceTree",onElementClick:"&",selection:"=",quickFilters:"=",orderChildrenBy:"&"},link:function(b,h){function i(a){a(e)}function j(a,c){var d=b.node,e=a.name;d&&(e!==o&&e!==n||d.id===c.parentActivityInstanceId&&(d.isOpen=!0,d.parentActivityInstanceId&&d.id!==d.parentActivityInstanceId&&k(o,d)))}function k(a,c){var d=c.id,e=c.parentActivityInstanceId;b.$emit(a,{id:d,parentActivityInstanceId:e})}function l(c){i(function(d){c.isOpen=!c.endTime;var e=f.element(d);a(e)(b),m.replaceWith(e),m=e})}b.symbolIconName=function(a){var b=d(a);return b=g[b]?g[b]:b,"icon-"+b};var m=h,n="node.selected",o="node.opened",p=b.orderChildrenBy();b.$watch("node",function(a){if(a&&a.$loaded!==!1){var b=(a.childActivityInstances||[]).concat(a.childTransitionInstances||[]);p&&(b=c("orderBy")(b,p)),
a.children=b,l(a)}}),b.$on(o,function(a,b){j(a,b)}),b.$on(n,function(a,b){j(a,b)}),b.$watch("selection.activityInstanceIds",function(a,c){var d=b.node;d&&(c&&c.indexOf(d.id)!=-1&&(d.isSelected=!1),a&&a.indexOf(d.id)!=-1&&(d.isSelected=!0,d.parentActivityInstanceId&&k(n,d)))}),b.deselect=function(a){a.ctrlKey=!0,b.select(a)},b.select=function(a){var c=b.node;a.stopPropagation(),b.$emit("instance-tree-selection-change"),b.onElementClick({id:c.id,activityId:c.activityId||c.targetActivityId,$event:a})},b.propogateSelection=function(a,c,d){b.onElementClick({id:a,activityId:c,$event:d})},b.toggleOpen=function(){var a=b.node;a.isOpen=!a.isOpen}}}}];b.exports=h},{"camunda-commons-ui/vendor/angular":706}],727:[function(a,b,c){"use strict";b.exports=function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){var e=/^(\d{2}|\d{4})(?:\-)([0]{1}\d{1}|[1]{1}[0-2]{1})(?:\-)([0-2]{1}\d{1}|[3]{1}[0-1]{1})T(?:\s)?([0-1]{1}\d{1}|[2]{1}[0-3]{1}):([0-5]{1}\d{1}):([0-5]{1}\d{1})?$/,f=function(a){var b=e.test(a);return d.$setValidity("date",b),a};d.$parsers.push(f);var g=function(a){if(a){var c=e.test(a);return d.$setValidity("date",c),c||(d.$pristine=!1,d.$dirty=!0,b.addClass("ng-dirty")),a}};d.$formatters.push(g)}}}},{}],728:[function(a,b,c){"use strict";var d='<div cam-widget-dmn-viewer\n  xml="decisionTable"\n  table="{{table}}"\n  control="control"\n  on-load="onLoad()"\n  style="height: 100%; margin: 10px; overflow-y: auto;">\n</div>\n',e=["$scope",function(a){a.control={}}],f=function(){return{restrict:"EAC",scope:{decisionTable:"=",control:"=?",table:"@",onLoad:"&"},controller:e,template:d,link:function(){}}};b.exports=f},{}],729:[function(a,b,c){"use strict";var d='<div cam-widget-loader loading-state="{{loadingStatus}}"></div>\n';b.exports=["Loaders",function(a){return{restrict:"A",template:d,scope:!0,controller:["$scope",function(b){b.loadingStatus="INITIAL",a.addStatusListener(b,function(a){b.loadingStatus=a})}]}}]},{}],730:[function(a,b,c){"use strict";b.exports=["$interpolate","$compile",function(a,b){return{restrict:"A",priority:9999,terminal:!0,link:function(c,d,e){d.attr("name",a(e.camDynamicName)(c)),b(d,null,9999)(c)}}}]},{}],731:[function(a,b,c){"use strict";var d=function(){return{restrict:"A",link:function(a,b,c){var d=c.focus;d&&b.focus()}}};b.exports=d},{}],732:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./../../../../common/scripts/directives/breadcrumbs"),f=a("./numeric"),g=a("./date"),h=a("./processDiagram"),i=a("./decisionTable"),j=a("./processDiagramPreview"),k=a("./activityInstanceTree"),l=a("./sidebarContainer"),m=a("./stateCircle"),n=a("./variable"),o=a("./focus"),p=a("./viewPills"),q=a("./sparkline"),r=a("./pie-chart"),s=a("./selectActivity"),t=a("./selectActivityInstance"),u=a("./processVariable"),v=a("./dynamicName"),w=a("./quickFilter"),x=a("./diagramStatisticsLoader"),y=a("../../../../common/scripts/module"),z=d.module("cam.cockpit.directives",[y.name]);z.directive("camBreadcrumbsPanel",e),z.directive("numeric",f),z.directive("date",g),z.directive("processDiagram",h),z.directive("decisionTable",i),z.directive("processDiagramPreview",j),z.directive("activityInstanceTree",k),z.directive("ctnCollapsableParent",l),z.directive("stateCircle",m),z.directive("variable",n),z.directive("focus",o),z.directive("viewPills",p),z.directive("camSelectActivity",s),z.directive("camSparkline",q),z.directive("camPieChart",r),z.directive("camSelectActivityInstance",t),z.directive("processVariable",u),z.directive("camDynamicName",v),z.directive("camQuickFilter",w),z.directive("diagramStatisticsLoader",x),b.exports=z},{"../../../../common/scripts/module":812,"./../../../../common/scripts/directives/breadcrumbs":798,"./activityInstanceTree":726,"./date":727,"./decisionTable":728,"./diagramStatisticsLoader":729,"./dynamicName":730,"./focus":731,"./numeric":733,"./pie-chart":734,"./processDiagram":735,"./processDiagramPreview":736,"./processVariable":737,"./quickFilter":738,"./selectActivity":739,"./selectActivityInstance":740,"./sidebarContainer":741,"./sparkline":742,"./stateCircle":743,"./variable":744,"./viewPills":745,"camunda-commons-ui/vendor/angular":706}],733:[function(a,b,c){"use strict";var d=function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){var e=c.integer?/^-?[\d]+$/:/^(0|(-?(((0|[1-9]\d*)\.\d+)|([1-9]\d*))))([eE][-+]?[0-9]+)?$/,f=function(a){var b=e.test(a);return d.$setValidity("numeric",b),b?parseFloat(a,10):a};d.$parsers.push(f);var g=function(a){if(void 0!==a&&null!==a){var c=e.test(a);return d.$setValidity("numeric",c),c?parseFloat(a,10):(d.$pristine=!1,d.$dirty=!0,b.addClass("ng-dirty"),a)}};d.$formatters.push(g)}}};b.exports=d},{}],734:[function(a,b,c){"use strict";function d(a){this.canvas=a.canvas||document.createElement("canvas"),this.resize(a.width||this.canvas.width,a.height||this.canvas.height),this.rulersColor=a.rulersColor||"#666",this.lineWidth=a.lineWidth||1,this.missingData=[{color:"#959595",label:"No Data",value:1}],this.setData(this.missingData)}var e=a("lodash").throttle,f=d.prototype;f.resize=function(a,b){return this.canvas.width=a,this.canvas.height=b,this.ctx=this.canvas.getContext("2d"),this.offCanvas=this.offCanvas||document.createElement("canvas"),this.offCanvas.width=a,this.offCanvas.height=b,this.offCtx=this.offCanvas.getContext("2d"),this.x=.5*this.canvas.width,this.y=.5*this.canvas.height,this.radius=Math.max(20,Math.min(this.x-15,this.y-15)),this},f.setData=function(a){return this.data=a,this.data.length&&this.data[0].value||(this.data=this.missingData),this.total=this.data.reduce(function(a,b){return a+b.value},0),this.draw()},f.punchPie=function(a){a.strokeStyle=a.fillStyle="#fff",a.moveTo(this.x,this.y),a.beginPath(),a.arc(this.x,this.y,.65*this.radius,0,2*Math.PI),a.closePath(),a.stroke(),a.fill()},f.hoveredSlice=function(a,b){var c=this.offCtx;c.font=this.fontSize+"px sans-serif";var d=this.data||this.missingData,e=this.x,f=this.y,g=this.radius,h=this.total,i=Math.PI,j=2*Math.PI;if(this.punchPie(c),c.isPointInPath(a,b))return!1;for(var k in d){var l=d[k],m=l.value/h*j;if(c.beginPath(),c.moveTo(e,f),c.arc(e,f,g,i,i+m),c.closePath(),c.stroke(),c.isPointInPath(a,b))return l;i+=m}return!1},f.draw=function(){var a=this.ctx,b=this.data||this.missingData;a.clearRect(0,0,a.canvas.width,a.canvas.height);var c=this.x,d=this.y,e=this.radius,f=this.total,g=Math.PI,h=2*Math.PI;return b.forEach(function(b){var i=b.value/f*h;a.fillStyle=b.color,a.strokeStyle="#fff",a.beginPath(),a.moveTo(c,d),a.arc(c,d,e,g,g+i),a.closePath(),a.fill(),a.stroke(),g+=i}),this.punchPie(a),this},b.exports=["$location","$window",function(a,b){return{restrict:"A",transclude:!0,scope:{values:"=",placeholder:"@"},link:function(c,f){function g(a){var b=j.canvas.getBoundingClientRect();return{x:a.clientX-b.left,y:a.clientY-b.top}}function h(){var a=Math.min(Math.max(.75*i.clientWidth,150),220);j.resize(i.clientWidth,a).draw()}var i=f[0].querySelector(".canvas-holder")||f[0],j=new d({canvas:f[0].querySelector("canvas"),lineColors:c.colors});j.canvas.addEventListener("mousemove",function(a){c.$apply(function(){var b=g(a);c.hoveredSlice=j.hoveredSlice(b.x,b.y),j.canvas.style.cursor=c.hoveredSlice&&c.hoveredSlice.url?"pointer":"default"})}),j.canvas.addEventListener("click",function(b){c.$apply(function(){var c=g(b),d=j.hoveredSlice(c.x,c.y);d.url&&a.url(d.url)})}),c.$watch("values",function(){c.values&&c.values.length&&j.setData(c.values)}),h();var k=e(h,100);b.addEventListener("resize",k),c.$on("$destroy",function(){b.removeEventListener("resize",k)})},template:'<div class="pie-chart"><div class="canvas-holder"><canvas width="150" height="150"></canvas></div><h4 class="legend-holder text-center" ng-if="values[0].label !== \'No Data\'"><span ng-if="hoveredSlice.value" ng-style="{color: hoveredSlice.color}">{{ hoveredSlice.value | abbreviateNumber }}: {{ hoveredSlice.label }}</span><span ng-if="!hoveredSlice.value">{{ placeholder }}</span></h4></div>'}}]},{lodash:"lodash"}],735:[function(a,b,c){"use strict";var d="<div diagram-statistics-loader>\n</div>\n<div cam-widget-bpmn-viewer\n  diagram-data='diagramData'\n  control='control'\n  on-load='onLoad()'\n  on-click='onClick(element, $event)'\n  on-mouse-enter='onMouseEnter(element, $event)'\n  on-mouse-leave='onMouseLeave(element, $event)'\n  style='height: 100%'>\n</div>\n",e=a("camunda-commons-ui/vendor/angular"),f=["$scope","$compile","Views",function(a,b,c){function d(b){a.$$phase?b():a.$apply(b)}function f(a){e.forEach(a,g)}function g(c){var d=a.control.getElement(c.id);if(d){var f=a.$new();f.bpmnElement=c;var g=e.element(n);g.css({width:d.width,height:d.height}),b(g)(f);try{a.control.createBadge(c.id,{html:g,position:{top:0,left:0}})}catch(h){}}}function h(){a.actionProviders=c.getProviders({component:a.actionProviderComponent});var d=e.element(o),f=a.$new();b(d)(f),a.control.addAction({html:d})}function i(b){a.control.isLoaded()&&(m&&e.forEach(m,function(b){b.indexOf("#multiInstanceBody")!==-1&&b.indexOf("#multiInstanceBody")===b.length-18&&(b=b.substr(0,b.length-18)),l[b]&&a.control.clearHighlight(b)}),b&&e.forEach(b,function(b){b.indexOf("#multiInstanceBody")!==-1&&b.indexOf("#multiInstanceBody")===b.length-18&&(b=b.substr(0,b.length-18)),l[b]&&a.control.highlight(b)})),a.$root.$emit("instance-diagram-selection-change",b),m=b}function j(b){a.control.isLoaded()&&b&&k(b)}function k(b){l[b]&&a.control.scrollToElement(b)}a.vars={read:["processData","bpmnElement","pageData","viewer"]},a.overlayProviders=c.getProviders({component:a.overlayProviderComponent});var l,m,n='<div class="bpmn-overlay"><div view ng-repeat="overlayProvider in overlayProviders" provider="overlayProvider" vars="vars"></div></div>',o='<ul><li view ng-repeat="actionProvider in actionProviders" provider="actionProvider" vars="vars"></li></ul>';a.$on("$destroy",function(){a.processDiagram=null,a.overlayProviders=null}),a.control={},a.$on("resize",function(){a.control.refreshZoom()}),a.$watch("processDiagram",function(b){b&&b.$loaded!==!1&&(l=b.bpmnElements,a.diagramData=b.bpmnDefinition)}),a.onLoad=function(){a.viewer=a.control.getViewer(),f(a.processDiagram.bpmnElements),a.actionProviderComponent&&h(),i(m)};var p=function(b){return b.isSelectable||a.selectAll&&b.$instanceOf("bpmn:FlowNode")};a.onClick=function(b,c){d(function(){l[b.businessObject.id]&&p(l[b.businessObject.id])?a.onElementClick({id:b.businessObject.id,$event:c}):a.onElementClick({id:null,$event:c})})},a.onMouseEnter=function(b){l[b.businessObject.id]&&p(l[b.businessObject.id])&&(a.control.getViewer().get("canvas").addMarker(b.businessObject.id,"selectable"),a.control.highlight(b.businessObject.id))},a.onMouseLeave=function(b){!l[b.businessObject.id]||!p(l[b.businessObject.id])||m&&m.indexOf(b.businessObject.id)!==-1||m&&m.indexOf(b.businessObject.id+"#multiInstanceBody")!==-1||a.control.clearHighlight(b.businessObject.id)},a.$watch("selection.activityIds",function(a){i(a)}),a.$watch("selection.scrollToBpmnElement",function(a){a&&j(a)})}],g=function(){return{restrict:"EAC",scope:{processDiagram:"=",processDiagramOverlay:"=",onElementClick:"&",selection:"=",processData:"=",pageData:"=",overlayProviderComponent:"@",actionProviderComponent:"@",selectAll:"&"},controller:f,template:d,link:function(a){a.selectAll=a.$eval(a.selectAll)}}};b.exports=g},{"camunda-commons-ui/vendor/angular":706}],736:[function(a,b,c){"use strict";var d="<span ng-hide=\"diagramXML\">\n  <i class=\"glyphicon glyphicon-loading\"></i> loading process diagram...\n</span>\n<div ng-show=\"diagramXML\">\n  <div cam-widget-bpmn-viewer\n    diagram-data='diagramXML'\n    control='control'\n    disable-navigation='true'>\n  </div>\n</div>\n",e=a("camunda-commons-ui/vendor/angular");b.exports=["ProcessDefinitionResource","debounce",function(a,b){return{restrict:"EAC",template:d,controller:["$scope",function(a){a.control={}}],link:function(c,d,f){c.$watch(f.processDefinitionId,function(f){if(f){var g="processDiagram_"+f.replace(/[.|:]/g,"_");d.attr("id",g),a.getBpmn20Xml({id:f}).$promise.then(function(a){c.diagramXML=a.bpmn20Xml,d.find("[cam-widget-bpmn-viewer]").css({width:parseInt(d.parent().width(),10),height:d.parent().height()});var f=b(function(){c.control.resetZoom(),c.control.resetZoom()},500);e.element(window).on("resize",function(){d.find("[cam-widget-bpmn-viewer]").css({width:parseInt(d.parent().width(),10),height:d.parent().height()}),f()})})}})}}}]},{"camunda-commons-ui/vendor/angular":706}],737:[function(a,b,c){"use strict";b.exports=["Variables",function(a){return{require:"ngModel",link:function(b,c,d,e){function f(b){var c;try{c=a.parse(b)}catch(d){}return e.$setValidity("processVariableFilter",!!c),c}e.$parsers.push(f),e.$formatters.push(a.toString)}}}]},{}],738:[function(a,b,c){"use strict";var d='<!-- # CE - src/main/webapp/app/cockpit/directives/quick-filter.html -->\n<form name="quickFilters"\n      class="quick-filters">\n  <div class="quick-filter name-filter"\n       ng-if="showNameFilter">\n    <label class="input-group">\n      <span class="input-group-addon"\n            tooltip="Click here to clear the field value.">\n        <span class="glyphicon glyphicon-filter"\n              ng-click="clearName()"></span>\n      </span>\n      <input ng-keyup="search()"\n             ng-model="name"\n             name="name"\n             type="text"\n             class="form-control" />\n    </label>\n    <button class="btn btn-sm btn-link btn-control-link"\n            type="button"\n            tooltip="Filters activity instances that have the entered name.">\n      <span class="glyphicon glyphicon-question-sign"></span>\n    </button>\n  </div>\n\n  <div class="quick-filter state-filter"\n       ng-if="showStateFilter">\n    <span class="name">State</span>\n\n    <ul class="list-inline">\n      <li>\n        <label class="btn btn-default btn-xs running"\n               tooltip="Running Activity Instance"\n               tooltip-placement="bottom">\n          <span class="glyphicon glyphicon-adjust"></span>\n          <input ng-change="search()"\n                 ng-model="running"\n                 name="running"\n                 type="checkbox" />\n        </label>\n      </li>\n\n      <li>\n        <label class="btn btn-default btn-xs completed"\n               tooltip="Completed Activity Instance"\n               tooltip-placement="bottom">\n          <span class="glyphicon glyphicon-ok-circle"></span>\n          <input ng-change="search()"\n                 ng-model="completed"\n                 name="completed"\n                 type="checkbox" />\n        </label>\n      </li>\n\n      <li>\n        <label class="btn btn-default btn-xs canceled"\n               tooltip="Canceled Activity Instance"\n               tooltip-placement="bottom">\n          <span class="glyphicon glyphicon-ban-circle"></span>\n          <input ng-change="search()"\n                 ng-model="canceled"\n                 name="canceled"\n                 type="checkbox" />\n        </label>\n      </li>\n    </ul>\n  </div>\n</form>\n<!-- / CE - src/main/webapp/app/cockpit/directives/quick-filter.html -->\n',e=a("jquery");b.exports=function(){function a(a,b,c){if(c.find(".selected").length)return!0;if((a.canceled||a.running||a.completed)&&(!a.canceled&&c.hasClass("state-canceled")||!a.running&&c.hasClass("state-running")||!a.completed&&c.hasClass("state-completed")))return!1;if(!b)return!0;var d=new RegExp(b,"i");return d.test(e.trim(c.text()))}return{scope:{holderSelector:"@",labelSelector:"@",itemSelector:"@"},restrict:"A",template:d,link:function(b,c,d){function f(){setTimeout(b.search,200)}if(!b.holderSelector)throw new Error("A holder-selector attribute must be specified");if(!b.labelSelector)throw new Error("A label-selector attribute must be specified");if(!b.itemSelector)throw new Error("A item-selector attribute must be specified");b.$root.$on("instance-tree-selection-change",f),b.$root.$on("instance-diagram-selection-change",f);var g=e(b.holderSelector);b.showNameFilter="undefined"!=typeof d.nameFilter,b.showStateFilter="undefined"!=typeof d.stateFilter,b.search=function(){b.quickFilters&&b.quickFilters.running&&b.quickFilters.running.$viewValue&&b.quickFilters.canceled&&b.quickFilters.canceled.$viewValue&&b.quickFilters.completed&&b.quickFilters.completed.$viewValue&&(b.quickFilters.running.$setViewValue(!1),b.quickFilters.running.$render(),b.quickFilters.canceled.$setViewValue(!1),b.quickFilters.canceled.$render(),b.quickFilters.completed.$setViewValue(!1),b.quickFilters.completed.$render());var c=b.showNameFilter&&b.quickFilters.name?e.trim(b.quickFilters.name.$viewValue):"",d={running:!!b.showStateFilter&&!!b.quickFilters.running&&!!b.quickFilters.running.$viewValue,canceled:!!b.showStateFilter&&!!b.quickFilters.canceled&&!!b.quickFilters.canceled.$viewValue,completed:!!b.showStateFilter&&!!b.quickFilters.completed&&!!b.quickFilters.completed.$viewValue};e(b.itemSelector,g).each(function(){var b=e(this),f=a(d,c,b);b[f?"show":"hide"]()})},b.clearName=function(){b.quickFilters.name.$setViewValue(""),b.quickFilters.name.$render(),b.search()}}}}},{jquery:"jquery"}],739:[function(a,b,c){"use strict";b.exports=function(){return{link:function(a,b){var c=a.processData,d=b.attr("cam-select-activity");if(!c)throw new Error("No processData defined in scope");if(!d)throw new Error("No activity ID query given in @cam-select-activity");b.on("click",function(b){b.preventDefault(),a.$apply(function(){c.set("filter",{activityIds:[a.$eval(d)]})})})}}}},{}],740:[function(a,b,c){"use strict";b.exports=function(){return{link:function(a,b){var c=a.processData,d=b.attr("cam-select-activity-instance");if(!c)throw new Error("No processData defined in scope");if(!d)throw new Error("No activity instance id query given in @cam-select-activity");b.on("click",function(b){b.preventDefault(),a.$apply(function(){c.set("filter",{activityInstanceIds:[a.$eval(d)]})})})}}}},{}],741:[function(a,b,c){"use strict";var d=a("jquery");a("jquery-ui/draggable"),b.exports=["localConf","$rootScope",function(a,b){return{restrict:"CA",link:function(c,e,f){function g(b){b?(t.hide(),s.css("display","block")):(s.hide(),t.css("display","block")),a.set("ctnCollapsableParent:collapsed:"+j,b?"yes":"no")}function h(){function e(a){var b={};return b[l]=a,b}function f(a){var b={};return b[o]=a,b}function h(){var a=k[o](),b=k.position();"left"===l||"top"===l?r.css(u,a):r.css(u,b[u])}var o=m?"width":"height",u=m?"left":"top",v=m?"x":"y";r.addClass(m?"vertical":"horizontal");var w=k[o]();a.get("ctnCollapsableParent:size:"+j,w),w=Math.max(n,w),"yes"===p?(k.css(o,0),q.css(l,0)):(k.css(o,w),q.css(l,w+"px")),d(r).draggable({axis:v,containment:"parent"}).on("drag",function(){var b=r.position(),c=b[l];"right"===l&&(c=i.width()-b.left),"bottom"===l&&(c=i.height()-b.top),c<n&&(c=0),g(c<10),k.css(o,c),q.css(l,c),a.set("ctnCollapsableParent:size:"+j,c)}).on("dragstop",function(a){h(),b.$broadcast("resize",[a])}),t.click(function(){g(!0),r.animate(e(0)),k.animate(f(0),b.$broadcast.bind(b,"resize",{direction:l,collapsed:!0})),q.animate(e(0))}),s.click(function(){g(!1),r.animate(e(n||w)),k.animate(f(n||w),b.$broadcast.bind(b,"resize",{direction:l,collapsed:!1})),q.animate(e(n||w))}),d(window).on("resize",h),c.$on("$destroy",function(){d(window).off("resize",h)}),h()}var i=d(e),j=f.ctnCollapsableParent,k=d("[ctn-collapsable]",i).eq(0),l=k.attr("ctn-collapsable")||"left",m="left"===l||"right"===l,n=0;if(f.ctnMinWidth){var o=d(".ctn-"+j+" "+f.ctnMinWidth,i);o.each(function(a,b){n+=d(b).outerWidth(!0)}),n&&(n+=10)}var p=a.get("ctnCollapsableParent:collapsed:"+j,"no"),q=k["left"===l||"top"===l?"next":"prev"](),r=d('<div class="resize-handle"></div>').appendTo(i),s=q.children(".show-collapsable").addClass("expand-collapse").append('<i class="glyphicon glyphicon-menu-'+(m?"right":"down")+'"></i>'),t=k.children(".hide-collapsable").addClass("expand-collapse").append('<i class="glyphicon glyphicon-menu-'+(m?"left":"up")+'"></i>');g("yes"===p),h()}}}]},{jquery:"jquery","jquery-ui/draggable":714}],742:[function(a,b,c){"use strict";function d(a,b){var c=Math.ceil(a/b),d=""+c;return c=(parseInt(d[0],10)+1)*Math.pow(10,d.length-1),c*b}function e(a){this.resize(a.width,a.height),this.lineColors=a.lineColors,this.rulersColor=a.rulersColor||"#666",this.fontSize=a.fontSize||12,this.lineWidth=a.lineWidth||1,this.valueLabelsCount=8,this.timespan=a.timespan||"day",this.interval=a.interval||900,this.timestampFormat="YYYY-MM-DDTHH:mm:ss",this.timeLabelFormats={day:"HH:mm",week:"dd DD",month:"DD MMM"}}var f=a("./../filters/abbreviateNumber.js")(),g=a("lodash").throttle,h=a("moment"),i=e.prototype;i.resize=function(a,b){return this.canvas=this.canvas||document.createElement("canvas"),this.canvas.width=a,this.canvas.height=b,this.ctx=this.canvas.getContext("2d"),this},i.max=function(a){var b=this,c=0;return arguments.length?((b.data[a]||[]).forEach(function(a){c=Math.max(a.value,c)}),c):((b.data||[]).forEach(function(a,d){c=Math.max(c,b.max(d))}),c)},i.min=function(a){var b=this,c=b.max();return arguments.length?(c=b.max(a),(b.data[a]||[]).forEach(function(a){c=Math.min(a.value,c)}),c):((b.data||[]).forEach(function(a,d){c=Math.min(c,b.min(d))}),c)},i.setData=function(a,b,c){b&&(this.timespan=b),c&&(this.interval=c);var e=h(),g=[[{value:0,timestamp:e.format(this.dateformat)}]];a&&a.length&&a[0]||(a=g),this.data=a;var i,j=this.timespan,k=this.timestampFormat,l=this.max(),m=d(l,this.valueLabelsCount),n=this.timeLabelFormats;this.valueLabels=[];for(var o=this.valueLabelsCount;o>=0;o--)this.valueLabels.push(f(o*m/this.valueLabelsCount)||0);if(this.timeLabels=[],a.length&&a[0]&&a[0].length&&a[0][0].timestamp){var p=h(),q=this.labelTo=p.clone();"day"===j?q.startOf("hour").add(1,"hour"):"week"===j?q.startOf("day").add(1,"day"):"month"===j&&q.startOf("week").add(1,"week");var r,s,t=this.labelFrom=q.clone().subtract(1,j),u=1;"day"===j?(r=12,s="hour",u=2):"week"===j?(r=7,s="day"):"month"===j&&(r=4,s="week");for(var v=0;v<=r;v++)this.timeLabels.push(t.clone().add(v*u,s).format(n[j]))}return this.data=a.map(function(a){a&&a.length||(a=[{value:0}]),1===a.length&&(a=[a[0],a[0]]);var b=h(a[a.length-1].timestamp,k),c=b-i;return a.map(function(a){var d=h(a.timestamp,k);return a.positionPercent=(b-d)/c,a})}),this.draw()},i.draw=function(){function a(a){return t-t/E*a+k}function b(a){return p+(a-z)/B*s}var c,e,g=this,i=g.lineWidth,j=g.ctx,k=Math.max(2*i,10),l=this.timeLabels,m=this.valueLabels,n=this.fontSize,o=3,p=0,q=0,r=10;j.clearRect(0,0,j.canvas.width,j.canvas.height),j.strokeStyle=this.rulersColor,j.fillStyle=this.rulersColor,j.lineWidth=1,j.font=n+"px Arial",m.forEach(function(a){p=Math.max(p,j.measureText(a||"0").width+2*o+r)}),p=Math.round(Math.max(p,r+o))+.5;var s=j.canvas.width-(k+p),t=j.canvas.height-k,u=0,v=0;l.forEach(function(a){u+=j.measureText(a).width+2*o,v=Math.max(v,j.measureText(a).width+2*o)});var w=u>s;w?(l.forEach(function(a){q=Math.max(q,j.measureText(a).width+2*o+r)}),q=Math.round(Math.max(q,r+o))+.5):(q=n+2*o+r,s-=v/2),t-=q;var x=j.canvas.height-q;for(j.beginPath(),j.moveTo(p-r,x),j.lineTo(p+s,x),j.stroke(),j.beginPath(),j.moveTo(p,k),j.lineTo(p,x+r),j.stroke(),w?(j.textAlign="right",j.textBaseline="bottom"):(j.textAlign="center",j.textBaseline="top"),l.forEach(function(a,b){var c=p+b*(s/(l.length-1));j.beginPath(),j.moveTo(c,x),j.lineTo(c,x+r),j.stroke(),w?(j.save(),j.translate(c,j.canvas.height-(q-(r+o))),j.rotate(-Math.PI/2),j.fillText(l[b],0,n/2),j.restore()):j.fillText(l[b],c,j.canvas.height-(q-(r+o)))}),c=t/(m.length-1),j.textAlign="right",j.textBaseline="middle",e=0;e<m.length;e++){var y=Math.round(k+c*e)-.5;j.fillText(f(m[e])||0,p-(r+o),y),e<m.length-1&&(j.beginPath(),j.moveTo(p-r,y),j.lineTo(p,y),j.stroke())}var z=this.labelFrom,A=this.labelTo,B=A-z,C=this.interval,D=this.max(),E=d(D,this.valueLabelsCount);return this.data.forEach(function(c,d){var e,f,k,l,m=g.lineColors[d];j.lineWidth=i,j.lineCap="round",j.lineJoin="round",j.strokeStyle=m,j.beginPath(),c.forEach(function(c,d){return k=h(c.timestamp),k<=z?void(l=c):(0===d&&k>z&&(j.moveTo(p,j.canvas.height-q),j.lineTo(b(k.clone().subtract(C,"seconds")),j.canvas.height-q)),l&&(e=p,f=a(l.value),j.lineTo(e,f),l=null),e=b(k),f=a(c.value),void j.lineTo(e,f))}),h()-k>=1e3*C&&(e=b(k.clone().add(C,"seconds")),f=j.canvas.height-q,j.lineTo(e,f),e=b(h()),j.lineTo(e,f)),j.stroke(),j.closePath(),c.length>=1&&(j.beginPath(),j.fillStyle=m,j.arc(e,f,2*i,0,2*Math.PI),j.fill(),j.closePath())}),g},b.exports=function(){return{restrict:"A",scope:{values:"=",colors:"=?",timespan:"=?",interval:"=?"},link:function(a,b){a.timespan=a.timespan||"day",a.interval=a.interval||900;var c=b[0],d=c.ownerDocument.defaultView,f=a.sparkline=new e({width:c.clientWidth,height:c.clientHeight,lineColors:a.colors});a.$watch("values",function(){var b=c.className.replace("no-data","");a.values.length&&a.values[0]&&a.values[0].length||(b+=" no-data"),c.className=b,f.setData(a.values,a.timespan,a.interval)}),c.appendChild(f.canvas);var h=g(function(){f.resize(c.clientWidth,Math.min(Math.max(.75*c.clientWidth,180),300)).draw()},100);d.addEventListener("resize",h),a.$on("$destroy",function(){d.removeEventListener("resize",h)})},template:"<!-- keule!! pech jehabt! -->"}}},{"./../filters/abbreviateNumber.js":746,lodash:"lodash",moment:"moment"}],743:[function(a,b,c){"use strict";b.exports=function(){return{restrict:"EAC",link:function(a,b,c){function d(){var b=a.$eval(c.incidents),d=a.$eval(c.incidentsForTypes)||[];if(b&&b.length>0){if(0===d.length)return void f();for(var g=0;g<b.length;g++){var h=b[g];if(h.incidentType.indexOf(d)!=-1&&h.incidentCount>0)return void f()}}e()}function e(){b.removeClass("circle-red").addClass("circle-green")}function f(){b.removeClass("circle-green").addClass("circle-red")}b.addClass("circle"),a.$watch(c.incidents,function(){d()})}}}},{}],744:[function(a,b,c){"use strict";var d='<div>\n  <!-- # CE - camunda-cockpit-ui/client/scripts/directives/variable.html -->\n\n  <div ng-if="isBoolean(variable)">\n    <label class="radio">\n      <input ng-model="variable.value"\n             ng-value="true"\n             type="radio"\n             name="booleanValue">\n       true\n    </label>\n\n    <label class="radio">\n      <input ng-model="variable.value"\n             ng-value="false"\n             type="radio"\n             name="booleanValue">\n       false\n    </label>\n  </div>\n\n  <input ng-if="isInteger(variable) || isShort(variable) || isLong(variable)"\n         class="form-control"\n         name="editIntegerValue"\n         type="text"\n         numeric\n         integer="true"\n         ng-model="variable.value"\n         ng-class="{\'in-place-edit\': isInPlaceEdit() }"\n         autofocus="autofocus"\n         required />\n\n  <input ng-if="isDouble(variable) || isFloat(variable)"\n         class="form-control"\n         name="editFloatValue"\n         type="text"\n         numeric\n         ng-model="variable.value"\n         ng-class="{\'in-place-edit\': isInPlaceEdit() }"\n         autofocus="autofocus"\n         required />\n\n  <input ng-if="isDate(variable)"\n         class="form-control"\n         date\n         name="editDateValue"\n         ng-model="variable.value"\n         type="text"\n         ng-class="{\'in-place-edit\': isInPlaceEdit() }"\n         autofocus="autofocus"\n         required />\n\n  <textarea ng-if="isString(variable)"\n            rows="5"\n            ng-model="variable.value"\n            class="form-control variable-type-string"\n            ng-class="{\'in-place-edit\': isInPlaceEdit() }"\n            autofocus="autofocus"\n            required></textarea>\n\n  <div ng-if="isObject(variable)">\n      <label class="control-label"\n             for="objectTypeName">Object type name*</label>\n        <input id="objectTypeName"\n               name="objectTypeName"\n               class="form-control"\n               type="text"\n               ng-model="variable.valueInfo.objectTypeName"\n               autofocus\n               required />\n      <label class="control-label"\n             for="serializationDataFormat">Serialization data format*</label>\n        <input id="serializationDataFormat"\n               name="serializationDataFormat"\n               class="form-control"\n               type="text"\n               ng-model="variable.valueInfo.serializationDataFormat"\n               required />\n      <label class="control-label"\n             for="serializedValue">Serialized value</label>\n        <textarea rows="5"\n                  ng-model="variable.value"\n                  class="form-control"\n                  ></textarea>\n  </div>\n  <!-- / CE - camunda-cockpit-ui/client/scripts/directives/variable.html -->\n</div>\n',e=function(){return{restrict:"EAC",scope:{variable:"="},replace:!0,template:d,link:function(a,b){var c,d=void 0!==b.attr("inline-edit"),e=!0;a.autofocus=!(void 0===b.attr("autofocus")),a.isBoolean=function(a){return"boolean"===a.type.toLowerCase()},a.isInteger=function(a){return"integer"===a.type.toLowerCase()},a.isShort=function(a){return"short"===a.type.toLowerCase()},a.isLong=function(a){return"long"===a.type.toLowerCase()},a.isDouble=function(a){return"double"===a.type.toLowerCase()},a.isFloat=function(a){return"float"===a.type.toLowerCase()},a.isString=function(a){return"string"===a.type.toLowerCase()},a.isDate=function(a){return"date"===a.type.toLowerCase()},a.isNull=function(a){return"null"===a.type.toLowerCase()},a.isObject=function(a){return"object"===a.type.toLowerCase()},a.isInPlaceEdit=function(){return d},a.$watch("variable.type",function(b,d){if(d!==b){if("boolean"===b.toLowerCase())return c=a.variable.value,void(a.variable.value=e);if("boolean"===d.toLowerCase())return e=a.variable.value,void(a.variable.value=c);"null"===b.toLowerCase()&&(a.variable.value=null),"object"===b.toLowerCase()&&(a.variable.valueInfo=a.variable.valueInfo||{})}})}}};b.exports=e},{}],745:[function(a,b,c){"use strict";b.exports=[function(){var a=["$scope","Views","$location","routeUtil",function(a,b,c,d){var e=b.getProviders({component:a.id});a.providers=e;var f=a.isActive=function(a){return c.path().indexOf("/"+a.id)!=-1};a.getUrl=function(a){var b=a.id,e=c.path(),g=c.search(),h=!!f(a)||a.keepSearchParams;return"#"+d.replaceLastPathFragment(b,e,g,h)}}];return{restrict:"EAC",scope:{id:"@"},template:'<ul class="nav nav-pills">  <li ng-repeat="provider in providers" ng-class="{ active: isActive(provider) }" class="{{ provider.id }}">    <a ng-href="{{ getUrl(provider) }}">{{ provider.label }}</a>  </li></ul>',replace:!0,controller:a}}]},{}],746:[function(a,b,c){"use strict";var d=function(){function a(a,b){b=Math.pow(10,b);for(var c=["k","m","b","t"],d=c.length-1;d>=0;d--){var e=Math.pow(10,3*(d+1));if(e<=a)return a=Math.round(a*b/e)/b,1e3==a&&d<c.length-1&&(a=1,d++),a+=c[d]}return a}return function(b,c){if(b)return b<950?b:(c||(c=1),a(b,c))}};b.exports=d},{}],747:[function(a,b,c){"use strict";var d=function(){function a(a,b,c){if(a){var d=[];d.push(a),d.push(1===a?b:b+"s"),c.push(d.join(" "))}}return function(b){if(b){var c=b/1e3,d=Math.floor(c%60);c/=60;var e=Math.floor(c%60);c/=60;var f=Math.floor(c%24);c/=24;var g=Math.floor(c),h=[];return a(g,"day",h),a(f,"hour",h),a(e,"minute",h),a(d,"second",h),h.join(", ")}}};b.exports=d},{}],748:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./shorten"),f=a("./abbreviateNumber"),g=a("./duration"),h=d.module("cam.cockpit.filters",[]);h.filter("shorten",e),h.filter("abbreviateNumber",f),h.filter("duration",g),b.exports=h},{"./abbreviateNumber":746,"./duration":747,"./shorten":749,"camunda-commons-ui/vendor/angular":706}],749:[function(a,b,c){"use strict";var d=function(){return function(a,b){return a.length>b?a.substring(0,b)+"...":a}};b.exports=d},{}],750:[function(a,b,c){"use strict";function d(a,b){return b.indexOf(a.id)>-1}var e=a("camunda-commons-ui/vendor/angular");b.exports=["$scope","$injector","$location","Views",function(a,b,c,f){a.navbarVars={read:[]},a.menuActions=[],
a.dropdownActions=[],f.getProviders({component:"cockpit.navigation"}).forEach(function(c){if(e.isArray(c.access)){var d=b.invoke(c.access);d(function(a,b){if(a)throw a;c.accessible=b})}else c.accessible=!0;(c.priority>=0?a.menuActions:a.dropdownActions).push(c)}),a.activeClass=function(a){var b=c.absUrl();return("function"==typeof a.checkActive?a.checkActive(b):d(a,b))?"active":""}}]},{"camunda-commons-ui/vendor/angular":706}],751:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./controllers/cam-header-views-ctrl"),f=d.module("cam.cockpit.navigation",[]);f.controller("camHeaderViewsCtrl",e),b.exports=f},{"./controllers/cam-header-views-ctrl":750,"camunda-commons-ui/vendor/angular":706}],752:[function(a,b,c){"use strict";function d(a,b){return a.priority>b.priority?1:a.priority<b.priority?-1:0}function e(a,b){return a.value>b.value?1:a.value<b.value?-1:0}function f(a,b){return Object.keys(b).forEach(function(c){var d=b[c];a=a.split("{{"+c+"}}").join(d)}),a}function g(a,b){var c=360/b*a;return c+=230,c=c>360?c-360:c,"hsl("+c+", 70%, 41%)"}function h(a,b){return a>12?.5*Math.floor(b/a):0}var i='<!-- # CE - camunda-cockpit-ui/client/scripts/pages/dashboard.html -->\n<div class="ctn-view dashboard container-fluid">\n  <div class="sections row">\n    <div class="col-xs-12"\n         ng-class="{\'col-sm-8 col-lg-10\': metricsPlugins.length}">\n\n\n      <section class="actual"\n               ng-class="{\'loading\': loadingActual,\'section-collapsed\': !actualActive}">\n        <button tooltip="Toggle this section"\n                class="section-toggle btn btn-link btn-sm"\n                ng-click="toggleSection(\'actual\')">\n          <span class="glyphicon"\n                ng-class="{\'glyphicon-menu-down\': !actualActive, \'glyphicon-menu-up\': actualActive}"></span>\n        </button>\n\n        <div class="inner">\n          <header>\n            <div class="row">\n              <h1 class="col-xs-12 section-title">Right Now</h1>\n            </div>\n          </header>\n\n          <div class="row stats"\n               ng-if="actualActive">\n            <div class="stats-section process-instances col-xs-6 col-md-4">\n              <div cam-pie-chart\n                   values="values.procInst"\n                   placeholder="Running Process Instances"></div>\n              <a class="value"\n                 href="#/processes?searchQuery=%5B%7B%22type%22:%22PIunfinished%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D%5D"\n                 ng-if="hasProcessSearch">\n                {{ (!data.actual.runningProcessInstances ? 0 : \'\') }}\n                {{ data.actual.runningProcessInstances | abbreviateNumber }}\n              </a>\n              <a class="value"\n                 href="#/processes"\n                 ng-if="!hasProcessSearch">\n                {{ (!data.actual.runningProcessInstances ? 0 : \'\') }}\n                {{ data.actual.runningProcessInstances | abbreviateNumber }}\n              </a>\n            </div>\n\n            <div class="stats-section open-incidents col-xs-6 col-md-4">\n              <div cam-pie-chart\n                   values="values.procIncid"\n                   placeholder="Open Incidents"></div>\n              <a class="value"\n                 href="#/processes?searchQuery=%5B%7B%22type%22:%22PIwithIncidents%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D,%7B%22type%22:%22PIincidentStatus%22,%22operator%22:%22eq%22,%22value%22:%22open%22,%22name%22:%22%22%7D%5D"\n                 ng-if="hasProcessSearch">\n                {{ (!data.actual.openIncidents ? 0 : \'\') }}\n                {{ data.actual.openIncidents | abbreviateNumber }}\n              </a>\n              <a class="value"\n                 href="#/processes"\n                 ng-if="!hasProcessSearch">\n                {{ (!data.actual.openIncidents ? 0 : \'\') }}\n                {{ data.actual.openIncidents | abbreviateNumber }}\n              </a>\n            </div>\n\n            <div class="stats-section open-human-tasks col-xs-6 col-md-4">\n              <div cam-pie-chart\n                   values="values.tasks"\n                   placeholder="Open Human Tasks"></div>\n              <a class="value"\n                 href="#/tasks?searchQuery=%5B%7B%22type%22:%22unfinished%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D%5D"\n                 ng-if="hasTaskSearch">\n                {{ (!data.actual.tasks ? 0 : \'\') }}\n                {{ data.actual.tasks | abbreviateNumber }}\n              </a>\n              <a class="value"\n                 href="#/tasks"\n                 ng-if="!hasTaskSearch">\n                {{ (!data.actual.tasks ? 0 : \'\') }}\n                {{ data.actual.tasks | abbreviateNumber }}\n              </a>\n            </div>\n          </div>\n        </div>\n      </section>\n\n\n      <section class="statistics"\n               ng-class="{\'section-collapsed\': !statisticsActive}"\n               ng-if="statisticsPlugins.length">\n        <button tooltip="Toggle this section"\n                class="section-toggle btn btn-link btn-sm"\n                ng-click="toggleSection(\'statistics\')">\n          <span class="glyphicon"\n                ng-class="{\'glyphicon-menu-down\': !statisticsActive, \'glyphicon-menu-up\': statisticsActive}"></span>\n        </button>\n\n        <div class="inner">\n          <header>\n            <h1 class="section-title">Statistics</h1>\n          </header>\n\n          <div class="row stats"\n               ng-if="statisticsActive">\n            <div ng-repeat="plugin in statisticsPlugins"\n                 data-plugin-id="{{ plugin.id }}"\n                 class="stats-section col-md-12 col-lg-6 entry">\n              <h4>{{ plugin.label }}</h4>\n              <view vars="statisticsVars"\n                    provider="plugin"\n                    class="row"></view>\n            </div>\n          </div>\n        </div>\n      </section>\n\n\n      <section class="metrics"\n               ng-class="{\'section-collapsed\': !metricsActive}"\n               ng-if="metricsPlugins.length">\n        <button tooltip="Toggle this section"\n                class="section-toggle btn btn-link btn-sm"\n                ng-click="toggleSection(\'metrics\')">\n          <span class="glyphicon"\n                ng-class="{\'glyphicon-menu-down\': !metricsActive, \'glyphicon-menu-up\': metricsActive}"></span>\n        </button>\n\n        <div class="inner">\n          <header>\n            <div class="row">\n              <h1 class="col-xs-3 section-title">Metrics</h1>\n\n              <div class="col-xs-9 text-right"\n                   ng-if="metricsActive">\n                <ul class="nav nav-tabs">\n                  <li ng-class="{active: metricsPeriod === \'day\'}">\n                    <a ng-click="setMetricsPeriod(\'day\')">Today</a>\n                  </li>\n\n                  <li ng-class="{active: metricsPeriod === \'week\'}">\n                    <a ng-click="setMetricsPeriod(\'week\')">This week</a>\n                  </li>\n\n                  <li ng-class="{active: metricsPeriod === \'month\'}">\n                    <a ng-click="setMetricsPeriod(\'month\')">This month</a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </header>\n\n\n          <div class="row stats"\n               ng-if="metricsActive">\n            <div ng-repeat="plugin in metricsPlugins"\n                 data-plugin-id="{{ plugin.id }}"\n                 class="stats-section col-md-6 col-lg-4 entry">\n              <h4>{{ plugin.label }}</h4>\n              <view vars="metricsVars"\n                    provider="plugin"\n                    period="metricsPeriod"\n                    class="row"></view>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <section class="deployed no-metrics"\n               ng-class="{\'loading\': loadingDeployed,\'section-collapsed\': !deployedActive}"\n               ng-if="!metricsPlugins.length">\n        <button tooltip="Toggle this section"\n                class="section-toggle btn btn-link btn-sm"\n                ng-click="toggleSection(\'deployed\')">\n          <span class="glyphicon"\n                ng-class="{\'glyphicon-menu-down\': !deployedActive, \'glyphicon-menu-up\': deployedActive}"></span>\n        </button>\n\n        <div class="inner">\n          <header>\n            <h1 class="section-title">Deployed</h1>\n          </header>\n\n          <div class="row stats"\n               ng-if="deployedActive">\n            <div class="stats-section processes col-xs-6 col-lg-3">\n              <div class="stats-label">Process Definitions</div>\n              <a class="value"\n                 href="#/processes">\n                {{ (!data.deployed.processDefinitions ? 0 : \'\') }}\n                {{ data.deployed.processDefinitions | abbreviateNumber }}\n              </a>\n            </div>\n\n            <div class="stats-section decisions col-xs-6 col-lg-3">\n              <div class="stats-label">Decision Definitions</div>\n              <a class="value"\n                 href="#/decisions">\n                {{ (!data.deployed.decisionDefinitions ? 0 : \'\') }}\n                {{ data.deployed.decisionDefinitions | abbreviateNumber }}\n              </a>\n            </div>\n\n            <div class="stats-section cases col-xs-6 col-lg-3">\n              <div class="stats-label">Case Definitions</div>\n              <a class="value"\n                 href="#/cases"\n                 ng-if="hasCaseSearch">\n                {{ (!data.deployed.caseDefinitions ? 0 : \'\') }}\n                {{ data.deployed.caseDefinitions | abbreviateNumber }}\n              </a>\n              <span class="value"\n                    ng-if="!hasCaseSearch">\n                {{ (!data.deployed.caseDefinitions ? 0 : \'\') }}\n                {{ data.deployed.caseDefinitions | abbreviateNumber }}\n              </span>\n            </div>\n\n            <div class="stats-section deployments col-xs-6 col-lg-3">\n              <div class="stats-label">Deployments</div>\n              <a class="value"\n                 href="#/repository">\n                {{ (!data.deployed.deploymentDefinitions ? 0 : \'\') }}\n                {{ data.deployed.deploymentDefinitions | abbreviateNumber }}\n              </a>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n\n\n    <section class="col-xs-12 col-sm-4 col-lg-2 deployed"\n             ng-class="{\'loading\': loadingDeployed, \'section-collapsed\': !deployedActive}"\n             ng-if="metricsPlugins.length">\n      <button tooltip="Toggle this section"\n              class="section-toggle btn btn-link btn-sm"\n              ng-click="toggleSection(\'deployed\')">\n        <span class="glyphicon"\n              ng-class="{\'glyphicon-menu-down\': !deployedActive, \'glyphicon-menu-up\': deployedActive}"></span>\n      </button>\n\n      <div class="inner">\n        <header>\n          <h1 class="section-title">Deployed</h1>\n        </header>\n\n        <div class="row stats"\n             ng-if="deployedActive">\n          <div class="stats-section processes col-sm-12 col-md-6 col-lg-12">\n            <div class="stats-label">Process Definitions</div>\n            <a class="value"\n               href="#/processes">\n              {{ (!data.deployed.processDefinitions ? 0 : \'\') }}\n              {{ data.deployed.processDefinitions | abbreviateNumber }}\n            </a>\n          </div>\n\n          <div class="stats-section decisions col-sm-12 col-md-6 col-lg-12">\n            <div class="stats-label">Decision Definitions</div>\n            <a class="value"\n               href="#/decisions">\n              {{ (!data.deployed.decisionDefinitions ? 0 : \'\') }}\n              {{ data.deployed.decisionDefinitions | abbreviateNumber }}\n            </a>\n          </div>\n\n          <div class="stats-section cases col-sm-12 col-md-6 col-lg-12">\n            <div class="stats-label">Case Definitions</div>\n            <a class="value"\n               href="#/cases"\n               ng-if="hasCaseSearch">\n              {{ (!data.deployed.caseDefinitions ? 0 : \'\') }}\n              {{ data.deployed.caseDefinitions | abbreviateNumber }}\n            </a>\n            <span class="value"\n                  ng-if="!hasCaseSearch">\n              {{ (!data.deployed.caseDefinitions ? 0 : \'\') }}\n              {{ data.deployed.caseDefinitions | abbreviateNumber }}\n            </span>\n          </div>\n\n          <div class="stats-section deployments col-sm-12 col-md-6 col-lg-12">\n            <div class="stats-label">Deployments</div>\n            <a class="value"\n               href="#/repository">\n              {{ (!data.deployed.deploymentDefinitions ? 0 : \'\') }}\n              {{ data.deployed.deploymentDefinitions | abbreviateNumber }}\n            </a>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n\n\n\n\n  <section class="deprecate"\n           ng-if="deprecateDashboardProviders.length"\n           ng-class="{\'section-collapsed\': !deprecateActive}">\n    <button tooltip="Toggle this section"\n            class="section-toggle btn btn-link btn-sm"\n            ng-click="toggleSection(\'deprecate\')">\n      <span class="glyphicon"\n            ng-class="{\'glyphicon-menu-down\': !deprecateActive, \'glyphicon-menu-up\': deprecateActive}"></span>\n    </button>\n\n    <div class="inner">\n      <header>\n        <div class="row">\n          <h1 class="section-title col-xs-4">Custom Plugins</h1>\n          <div class="col-xs-8 text-right"></div>\n        </div>\n      </header>\n\n      <div ng-if="deprecateActive"\n           ng-repeat="plugin in deprecateDashboardProviders"\n           class="deprecate-dashboard-view row"\n           data-plugin-id="{{ plugin.id }}">\n        <view vars="dashboardVars"\n              provider="plugin"></view>\n      </div>\n    </div>\n  </section>\n</div>\n<!-- / CE - camunda-cockpit-ui/client/scripts/pages/dashboard.html -->\n',j=a("camunda-commons-ui/node_modules/camunda-bpm-sdk-js").utils.series,k=["$scope","camAPI","localConf","Views","hasPlugin","page","Data","dataDepend",function(a,b,c,i,k,l,m,n){function o(a,b,c){var d=h(a.length,b),f={value:0,label:"Others",names:[],url:c};return a.forEach(function(a){a.value&&a.value<d&&(f.value+=a.value,f.names.push(a.label))}),a=a.filter(function(a){return a.value&&a.value>=d}).sort(e),d&&a.unshift(f),a.map(function(b,c){return b.color=g(c,a.length),b})}function p(b){var c=[],d=0;b.forEach(function(b){var e=b.definition.id,g=a.processDefinitionData.filter(function(a){return a.id===e}),h=g[0];h&&b.instances&&(c.push({value:b.instances,label:h.name||h.id,url:f(a.linkBase.processInstances,h)}),d+=b.instances)}),a.values.procInst=o(c,d,"/processes"),a.data.actual.runningProcessInstances=d}function q(b){var c=[],d=0;b.forEach(function(b){var e=0;b.incidents.forEach(function(a){e+=a.incidentCount}),c.push({value:e,label:b.definition.name||b.definition.id,url:f(a.linkBase.processIncidents,b.definition)}),d+=e}),a.values.procIncid=o(c,d,"/processes"),a.data.actual.openIncidents=d}function r(a){j({processDefinitions:function(a){v.count({latestVersion:!0},a)},decisionDefinitions:function(a){t.count({latestVersion:!0},a)},caseDefinitions:function(a){s.count({latestVersion:!0},a)},deploymentDefinitions:function(a){u.count({},a)}},function(b,c){if(b)throw b;a(b,c)})}a.hasMetricsPlugin=k("cockpit.dashboard.metrics","executed-activity-instances"),a.hasProcessSearch=k("cockpit.processes.dashboard","search-process-instances"),a.hasCaseSearch=k("cockpit.cases.dashboard","case-instances-search"),a.hasTaskSearch=k("cockpit.tasks.dashboard","search-tasks"),a.mainPlugins=[],a.miscPlugins=[],a.dashboardVars={read:["processData"]},a.deprecateDashboardProviders=i.getProviders({component:"cockpit.dashboard"}),l.breadcrumbsClear(),l.titleSet("Dashboard"),a.values={procInst:[],procIncid:[]},a.data={actual:{}},a.linkBase={processInstances:"/process-definition/{{id}}",processIncidents:"/process-definition/{{id}}",tasks:"/process-instance/{{processInstanceId}}/runtime?detailsTab=user-tasks-tab"},a.hasProcessSearch&&(a.linkBase.processInstances="/processes?searchQuery=%5B%7B%22type%22:%22PIunfinished%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D,%7B%22type%22:%22PIprocessDefinitionKey%22,%22operator%22:%22eq%22,%22value%22:%22{{key}}%22,%22name%22:%22%22%7D%5D",a.linkBase.processIncidents="/processes?searchQuery=%5B%7B%22type%22:%22PIwithIncidents%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D,%7B%22type%22:%22PIincidentStatus%22,%22operator%22:%22eq%22,%22value%22:%22open%22,%22name%22:%22%22%7D,%7B%22type%22:%22PIprocessDefinitionKey%22,%22operator%22:%22eq%22,%22value%22:%22{{key}}%22,%22name%22:%22%22%7D%5D");var s=b.resource("case-definition"),t=b.resource("decision-definition"),u=b.resource("deployment"),v=b.resource("process-definition");a.processData=n.create(a);var w=a.processData.newChild(a);m.instantiateProviders("cockpit.dashboard.data",{$scope:a,processData:w});var x=b.resource("task");a.$watch("actualActive",function(){a.actualActive&&(a.loadingActual=!0,j({processes:function(b){v.list({latest:!0},function(c,d){return c?b(c):(a.processDefinitionData=d.items,w.observe("processDefinitionStatistics",function(a){p(a),q(a)}),void b())})},tasks:function(b){x.count({},function(c,d){return c?b():(a.data.actual.tasks=d,void j({assignedToUser:function(a){x.count({unfinished:!0,assigned:!0},function(b,c){a(b,{label:"Assigned to a user",url:"/tasks?searchQuery=%5B%7B%22type%22:%22unfinished%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D,%7B%22type%22:%22assigned%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D%5D",value:c})})},assignedToGroup:function(a){x.count({unfinished:!0,unassigned:!0,withCandidateGroups:!0},function(b,c){a(b,{label:"Assigned to 1 or more groups",url:"/tasks?searchQuery=%5B%7B%22type%22:%22unfinished%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D,%7B%22type%22:%22withCandidateGroups%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D,%7B%22type%22:%22unassigned%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D%5D",value:c})})},unassigned:function(a){x.count({unfinished:!0,unassigned:!0,withoutCandidateGroups:!0},function(b,c){a(b,{label:"Unassigned",url:"/tasks?searchQuery=%5B%7B%22type%22:%22unfinished%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D,%7B%22type%22:%22withoutCandidateGroups%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D,%7B%22type%22:%22unassigned%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D%5D",value:c})})}},function(c,e){if(c)return b(c);var f=[];Object.keys(e).forEach(function(a){f.push(e[a])}),a.values.tasks=o(f,d,"/tasks"),b(null,d)}))})}},function(){a.loadingActual=!1}))}),a.$watch("deployedActive",function(){a.deployedActive&&!a.data.deployed&&(a.loadingDeployed=!0,r(function(b,c){if(a.loadingDeployed=!1,b)throw b;a.data.deployed=c}))}),["actual","metrics","deployed","deprecate"].forEach(function(b){a[b+"Active"]=c.get("dashboardSection:"+b,!0)}),a.toggleSection=function(b){a[b+"Active"]=!a[b+"Active"],c.set("dashboardSection:"+b,a[b+"Active"])},a.metricsPeriod=c.get("dashboardMetricsPeriod","day"),a.setMetricsPeriod=function(b){a.metricsPeriod=b,c.set("dashboardMetricsPeriod",b)},a.hasMetricsPlugin&&(a.metricsVars={read:["metricsPeriod"]},a.metricsPlugins=i.getProviders({component:"cockpit.dashboard.metrics"}).sort(d))}],l=["$routeProvider",function(a){a.when("/dashboard",{template:i,controller:k,authentication:"required",reloadOnSearch:!1})}];b.exports=l},{"camunda-commons-ui/node_modules/camunda-bpm-sdk-js":57}],753:[function(a,b,c){"use strict";var d='<!-- # CE - camunda-cockpit-ui/client/scripts/pages/decision-definition.html -->\n<div class="ctn-fixed-view decision-page-layout">\n  <div class="ctn-content-container"\n       ctn-collapsable-parent="sidebar">\n\n    <!-- tool bar -->\n    <div class="ctn-toolbar">\n\n      <!-- Toolbar actions are provided by plugins -->\n      <span ng-repeat="tabProvider in decisionDefinitionActions">\n        <view provider="tabProvider"\n              vars="decisionDefinitionVars" />\n      </span>\n\n    </div>\n\n    <!-- sidebar -->\n    <div class="ctn-column ctn-sidebar ctn-scroll"\n         cam-hover-area\n         ctn-collapsable="left">\n      <dl class="process-information">\n        <dt>Definition Version:</dt>\n        <dd class="definition-version">\n          <span ng-if="!allDefinitions || !decisionDefinition"\n                class="glyphicon glyphicon-refresh animate-spin"></span>\n\n          <div class="dropdown"\n               ng-if="allDefinitions && allDefinitions.length > 1">\n            <a href\n               class="dropdown-toggle">\n              {{ decisionDefinition.version }}\n              <span class="caret"></span>\n            </a>\n\n            <ul class="dropdown-menu">\n              <li ng-repeat="definition in allDefinitions">\n                <a ng-href="#/decision-definition/{{ definition.id }}">\n                  {{ definition.version }}\n                </a>\n              </li>\n            </ul>\n          </div>\n\n          <span ng-if="allDefinitions && allDefinitions.length < 2 && decisionDefinition">\n            {{ decisionDefinition.version }}\n          </span>\n        </dd>\n\n        <dt cam-widget-clipboard="decisionDefinition.id"\n            cam-hoverable-title="definition-id">Definition ID:</dt>\n        <dd cam-hover-trigger="definition-id">{{ decisionDefinition.id }}</dd>\n\n        <dt cam-widget-clipboard="decisionDefinition.key"\n            cam-hoverable-title="definition-key">Definition Key:</dt>\n        <dd class="definition-key"\n            cam-hover-trigger="definition-key">{{ decisionDefinition.key }}</dd>\n\n        <dt>Definition Name:</dt>\n        <dd class="definition-name"\n            ng-if="decisionDefinition.name && decisionDefinition.name !== decisionDefinition.key">{{ decisionDefinition.name }}</dd>\n        <dd class="definition-name"\n            ng-if="!decisionDefinition.name || decisionDefinition.name === decisionDefinition.key"><span class="null-value">null</span></dd>\n\n        <dt ng-if="decisionDefinition.tenantId"\n            cam-widget-clipboard="decisionDefinition.tenantId"\n            cam-hoverable-title="tenant-id">Tenant ID:</dt>\n        <dd class="tenant-id"\n            ng-if="decisionDefinition.tenantId"\n            cam-hover-trigger="tenant-id">{{ decisionDefinition.tenantId }}</dd>\n        <dt ng-if="!decisionDefinition.tenantId">Tenant ID:</dt>\n        <dd class="tenant-id"\n            ng-if="!decisionDefinition.tenantId"><span class="null-value">null</span></dd>\n\n        <dt cam-widget-clipboard="decisionDefinition.deploymentId"\n            cam-hoverable-title="deployment-id">Deployment ID:</dt>\n        <dd class="deployment-id"\n            cam-hover-trigger="deployment-id">\n          <a ng-href="{{ getDeploymentUrl() }}">{{ decisionDefinition.deploymentId }}</a>\n        </dd>\n\n        <dt ng-if="decisionDefinition.decisionRequirementsDefinitionId"\n            cam-widget-clipboard="decisionDefinition.decisionRequirementsDefinitionId"\n            cam-hoverable-title="drd">Decision Definition Requirement:</dt>\n        <dd class="super-case-instance-id"\n            ng-if="decisionDefinition.decisionRequirementsDefinitionId"\n            cam-hover-trigger="drd">\n          <a ng-if="hasDrdPlugin"\n             ng-href="#/decision-requirement/{{decisionDefinition.decisionRequirementsDefinitionId}}/history">\n            {{ decisionDefinition.decisionRequirementsDefinitionId }}\n          </a>\n          <span ng-if="!hasDrdPlugin">\n            {{ decisionDefinition.decisionRequirementsDefinitionId }}\n          </span>\n        </dd>\n        <dt ng-if="!decisionDefinition.decisionRequirementsDefinitionId">Decision Requirements Definition:</dt>\n        <dd class="super-case-instance-id"\n            ng-if="!decisionDefinition.decisionRequirementsDefinitionId"><span class="null-value">null</span></dd>\n      </dl>\n\n      <a class="hide-collapsable pull-right"></a>\n    </div>\n\n\n    <div class="ctn-column ctn-content"\n         ctn-collapsable-parent="tabs">\n\n      <!-- content top pane -->\n      <div class="ctn-row ctn-content-top"\n           ctn-collapsable="top">\n        <div decision-table="tableXml"\n             control="control"\n             table="{{decisionDefinition.key}}"\n             on-load="initializeTablePlugins()"\n             style="height: 100%;padding:20px 10px;margin:0;"></div>\n        <a class="hide-collapsable vertical-collapse"\n           title="Show tabs"></a>\n      </div>\n\n      <!-- content bottom pane -->\n      <div class="ctn-row ctn-content-bottom ctn-tabbed">\n        <a class="show-collapsable vertical-collapse"\n           title="Hide tabs"></a>\n        <ul class="nav nav-tabs"\n            ng-if="decisionDefinitionTabs.length > 1">\n          <li ng-class="{ active: selectedTab == tabProvider }"\n              ng-repeat="tabProvider in decisionDefinitionTabs">\n            <a href ng-click="selectTab(tabProvider)">{{ tabProvider.label }}</a>\n          </li>\n        </ul>\n\n        <h4 ng-if="decisionDefinitionTabs.length === 1">{{ decisionDefinitionTabs[0].label }}:</h4>\n\n        <div class="ctn-tabbed-content ctn-scroll"\n             ng-if="decisionDefinitionTabs.length">\n          <view provider="selectedTab"\n                vars="decisionDefinitionVars" />\n        </div>\n      </div>\n\n      <a class="show-collapsable"></a>\n    </div>\n\n  </div>\n\n</div><!-- end .ctn-fixed-view -->\n<!-- / CE - camunda-cockpit-ui/client/scripts/pages/decision-definition.html -->\n',e=a("camunda-commons-ui/vendor/angular"),f=a("../../../../common/scripts/util/routeUtil"),g=a("camunda-commons-ui/lib"),h=e.module("cam.cockpit.pages.decisionDefinition",["dataDepend",g.name]),i=["$scope","$rootScope","$q","dataDepend","page","camAPI","decisionDefinition","Views","search","isModuleAvailable",function(a,b,c,d,e,g,h,i,j,k){function l(b){var c=j().detailsTab;if(b&&b.length){if(c){var d=i.getProvider({component:"cockpit.decisionDefinition.tab",id:c});if(d&&b.indexOf(d)!=-1)return void(a.selectedTab=d)}j.updateSilently({detailsTab:null}),a.selectedTab=b[0]}}a.control={};var m=a.decisionData=d.create(a),n=g.resource("decision-definition");a.hasDrdPlugin=k("cockpit.plugin.drd"),a.decisionDefinition=h,m.provide("decisionDefinition",h),m.provide("tableXml",["decisionDefinition",function(a){var b=c.defer(),d=a.id;return n.getXml(d,function(a,c){a?b.reject(a):b.resolve(c.dmnXml)}),b.promise}]),m.provide("allDefinitions",["decisionDefinition",function(a){var b=c.defer(),d={key:a.key,sortBy:"version",sortOrder:"desc"};return a.tenantId?d.tenantIdIn=a.tenantId:d.withoutTenantId=!0,n.list(d,function(a,c){a?b.reject(a):b.resolve(c)}),b.promise}]),m.observe(["decisionDefinition"],function(b){a.decisionDefinition=b}),m.observe(["allDefinitions"],function(b){a.allDefinitions=b}),b.showBreadcrumbs=!0,a.breadcrumbData=m.observe(["decisionDefinition"],function(a){e.breadcrumbsClear(),e.breadcrumbsAdd([{label:"Decisions",href:"#/decisions"},{type:"decisionDefinition",label:a.name||a.key||a.id,href:"#/decision-definition/"+a.id}]),e.titleSet([a.name||a.key||a.id,"Definition View"].join(" | "))}),m.observe(["tableXml"],function(b){a.tableXml=b}),a.initializeTablePlugins=function(){for(var b=i.getProviders({component:"cockpit.decisionDefinition.table"}),c={decisionDefinition:h,decisionData:m,tableControl:a.control},d=0;d<b.length;d++)"function"==typeof b[d].initialize&&b[d].initialize(c)},a.decisionDefinitionVars={read:["decisionDefinition","decisionData"]},a.decisionDefinitionTabs=i.getProviders({component:"cockpit.decisionDefinition.tab"}),a.decisionDefinitionActions=i.getProviders({component:"cockpit.decisionDefinition.action"});for(var o=i.getProviders({component:"cockpit.decisionDefinition.tab"}).concat(i.getProviders({component:"cockpit.decisionDefinition.action"})),p={decisionDefinition:h,decisionData:m},q=0;q<o.length;q++)"function"==typeof o[q].initialize&&o[q].initialize(p);a.selectTab=function(b){a.selectedTab=b,j.updateSilently({detailsTab:b.id})},l(a.decisionDefinitionTabs),a.getDeploymentUrl=function(){var a="#/repository",b=h.deploymentId,c={deployment:b,resourceName:h.resource,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:b}])};return f.redirectTo(a,c,["deployment","resourceName","deploymentsQuery"])}}],j=["$routeProvider",function(a){a.when("/decision-definition/:id",{redirectTo:function(a,b,c){var d=b+"/history";return f.redirectTo(d,c,!0)}}).when("/decision-definition/:id/history",{template:d,controller:i,authentication:"required",resolve:{decisionDefinition:["ResourceResolver","camAPI","$q",function(a,b,c){return a.getByRouteParam("id",{name:"decision definition",resolve:function(a){var d=c.defer(),e=b.resource("decision-definition");return e.get(a,function(a,b){a?d.reject(a):d.resolve(b)}),d.promise}})}]},reloadOnSearch:!1})}],k=["ViewsProvider",function(a){a.registerDefaultView("cockpit.decisionDefinition.view",{id:"history",priority:20,label:"History",keepSearchParams:[]})}];h.config(j).config(k),b.exports=h},{"../../../../common/scripts/util/routeUtil":823,"camunda-commons-ui/lib":19,"camunda-commons-ui/vendor/angular":706}],754:[function(a,b,c){"use strict";var d='<!-- # CE - camunda-cockpit-ui/client/scripts/pages/decision-instance.html -->\n<div class="ctn-fixed-view decision-page-layout">\n  <div class="ctn-content-container"\n       ctn-collapsable-parent="sidebar">\n\n    <!-- tool bar -->\n    <div class="ctn-toolbar">\n\n      <!-- Toolbar actions are provided by plugins -->\n      <span ng-repeat="tabProvider in decisionInstanceActions">\n        <view provider="tabProvider"\n              vars="decisionInstanceVars" />\n      </span>\n\n    </div>\n\n\n    <!-- sidebar -->\n    <div class="ctn-column ctn-sidebar ctn-scroll"\n         cam-hover-area\n         ctn-collapsable="left">\n      <dl class="process-information">\n        <dt cam-widget-clipboard="decisionInstance.id"\n            cam-hoverable-title="instance-id">\n          <span tooltip="Decision instance ID as it appears in the database">Instance ID:</span>\n        </dt>\n        <dd class="instance-id"\n            cam-hover-trigger="instance-id">{{ decisionInstance.id }}</dd>\n\n        <dt>Definition Version:</dt>\n        <dd class="definition-version">{{decisionDefinition.version}}</dd>\n\n        <dt cam-widget-clipboard="decisionInstance.decisionDefinitionId"\n            cam-hoverable-title="definition-id">Definition ID:</dt>\n        <dd class="definition-id"\n            cam-hover-trigger="definition-id">\n          <a ng-href="#/decision-definition/{{ decisionInstance.decisionDefinitionId }}">{{ decisionInstance.decisionDefinitionId }}</a>\n        </dd>\n\n        <dt cam-widget-clipboard="decisionInstance.decisionDefinitionKey"\n            cam-hoverable-title="definition-key">Definition Key:</dt>\n        <dd class="definition-key"\n            cam-hover-trigger="definition-key">{{ decisionInstance.decisionDefinitionKey }}</dd>\n\n        <dt>Definition Name:</dt>\n        <dd class="definition-name"\n            ng-if="decisionInstance.decisionDefinitionName && decisionInstance.decisionDefinitionName !== decisionInstance.key">{{ decisionInstance.decisionDefinitionName }}</dd>\n        <dd class="definition-name"\n            ng-if="!decisionInstance.decisionDefinitionName || decisionInstance.decisionDefinitionName === decisionInstance.key"><span class="null-value">null</span></dd>\n\n        <dt ng-if="decisionDefinition.tenantId"\n            cam-widget-clipboard="decisionDefinition.tenantId"\n            cam-hoverable-title="tenant-id">Tenant ID:</dt>\n        <dd class="tenant-id"\n            ng-if="decisionDefinition.tenantId"\n            cam-hover-trigger="tenant-id">{{ decisionDefinition.tenantId }}</dd>\n        <dt ng-if="!decisionDefinition.tenantId">Tenant ID:</dt>\n        <dd class="tenant-id"\n            ng-if="!decisionDefinition.tenantId"><span class="null-value">null</span></dd>\n\n        <dt cam-widget-clipboard="decisionDefinition.deploymentId"\n            cam-hoverable-title="deployment-id">Deployment ID:</dt>\n        <dd class="deployment-id"\n            ng-if="decisionDefinition"\n            cam-hover-trigger="deployment-id">\n          <a ng-href="{{ getDeploymentUrl() }}">{{ decisionDefinition.deploymentId }}</a>\n        </dd>\n\n        <dt ng-if="decisionInstance.processInstanceId"\n            cam-widget-clipboard="decisionInstance.processInstanceId"\n            cam-hoverable-title="super-process-instance-id">Process Instance ID:</dt>\n        <dd class="super-process-instance-id"\n            ng-if="decisionInstance.processInstanceId"\n            cam-hover-trigger="super-process-instance-id">\n          <a ng-href="{{ processInstanceLink }}">{{ decisionInstance.processInstanceId }}</a>\n        </dd>\n        <dt ng-if="!decisionInstance.processInstanceId">Process Instance ID:</dt>\n        <dd class="super-process-instance-id"\n            ng-if="!decisionInstance.processInstanceId"><span class="null-value">null</span></dd>\n\n        <dt ng-if="decisionInstance.caseInstanceId"\n            cam-widget-clipboard="decisionInstance.caseInstanceId"\n            cam-hoverable-title="super-case-instance-id">Case Instance ID:</dt>\n        <dd class="super-case-instance-id"\n            ng-if="decisionInstance.caseInstanceId"\n            cam-hover-trigger="super-case-instance-id">\n          <a ng-if="hasCasePlugin"\n             ng-href="#/case-instance/{{decisionInstance.caseInstanceId}}?searchQuery={{ getActivitySearch(decisionInstance) }}">\n            {{ decisionInstance.caseInstanceId }}\n          </a>\n          <span ng-if="!hasCasePlugin">\n            {{ decisionInstance.caseInstanceId }}\n          </span>\n        </dd>\n        <dt ng-if="!decisionInstance.caseInstanceId">Case Instance ID:</dt>\n        <dd class="super-case-instance-id"\n            ng-if="!decisionInstance.caseInstanceId"><span class="null-value">null</span></dd>\n\n\n        <dt ng-if="decisionInstance.decisionRequirementsDefinitionId"\n            cam-widget-clipboard="decisionInstance.decisionRequirementsDefinitionId"\n            cam-hoverable-title="drd">Decision Requirements Definition:</dt>\n        <dd class="super-case-instance-id"\n            ng-if="decisionInstance.decisionRequirementsDefinitionId"\n            cam-hover-trigger="drd">\n          <a ng-if="hasCasePlugin"\n             ng-href="#/decision-requirement/{{decisionInstance.decisionRequirementsDefinitionId}}/history">\n            {{ decisionInstance.decisionRequirementsDefinitionId }}\n          </a>\n          <span ng-if="!hasCasePlugin">\n            {{ decisionInstance.decisionRequirementsDefinitionId }}\n          </span>\n        </dd>\n        <dt ng-if="!decisionInstance.decisionRequirementsDefinitionId">Decision Requirements Definition:</dt>\n        <dd class="super-case-instance-id"\n            ng-if="!decisionInstance.decisionRequirementsDefinitionId"><span class="null-value">null</span></dd>\n\n      </dl>\n\n      <a class="hide-collapsable pull-right"></a>\n    </div>\n\n    <div class="ctn-column ctn-content"\n         ctn-collapsable-parent="tabs">\n\n      <!-- content top pane -->\n      <div class="ctn-row ctn-content-top"\n           ctn-collapsable="top">\n        <div decision-table="tableXml"\n             table="{{decisionDefinition.key}}"\n             control="control"\n             on-load="initializeTablePlugins()"\n             style="height: 100%;padding:20px 10px;margin:0;"></div>\n        <a class="hide-collapsable vertical-collapse"\n           title="Show tabs"></a>\n      </div>\n\n      <!-- content bottom pane -->\n      <div class="ctn-row ctn-content-bottom ctn-tabbed">\n        <a class="show-collapsable vertical-collapse"\n           title="Hide tabs"></a>\n        <div ng-show="decisionInstanceTabs.length">\n          <ul class="nav nav-tabs">\n            <li ng-class="{ active: selectedTab == tabProvider }"\n                ng-repeat="tabProvider in decisionInstanceTabs">\n              <a href ng-click="selectTab(tabProvider)">{{ tabProvider.label }}</a>\n            </li>\n          </ul>\n\n          <div class="ctn-tabbed-content ctn-scroll">\n            <view provider="selectedTab"\n                  vars="decisionInstanceVars" />\n          </div>\n        </div>\n      </div>\n\n      <a class="show-collapsable"></a>\n    </div>\n\n  </div>\n\n</div><!-- end .ctn-fixed-view -->\n<!-- / CE - camunda-cockpit-ui/client/scripts/pages/decision-instance.html -->\n',e=a("camunda-commons-ui/vendor/angular"),f=a("../../../../common/scripts/util/routeUtil");
a("angular-data-depend");var g=a("camunda-commons-ui/lib"),h=e.module("cam.cockpit.pages.decisionInstance",["dataDepend",g.name]),i=["$scope","$rootScope","$q","dataDepend","page","camAPI","decisionInstance","Views","search",function(a,b,c,d,g,h,i,j,k){function l(b){var c=k().detailsTab;if(b&&b.length){if(c){var d=j.getProvider({component:"cockpit.decisionInstance.tab",id:c});if(d&&b.indexOf(d)!=-1)return void(a.selectedTab=d)}k.updateSilently({detailsTab:null}),a.selectedTab=b[0]}}a.control={},a.decisionInstance=i;var m=a.decisionData=d.create(a),n=h.resource("decision-definition");a.hasCasePlugin=!1;try{a.hasCasePlugin=!!e.module("cockpit.plugin.case")}catch(o){}var p=j.getProviders({component:"cockpit.processInstance.view"}),q=p.filter(function(a){return"history"===a.id}).length>0;q?a.processInstanceLink="#/process-instance/"+a.decisionInstance.processInstanceId+"/history?activityInstanceIds="+a.decisionInstance.activityInstanceId+"&activityIds="+a.decisionInstance.activityId:a.processInstanceLink="#/process-instance/"+a.decisionInstance.processInstanceId,m.provide("tableXml",function(){var a=c.defer();return n.getXml(i.decisionDefinitionId,function(b,c){b?a.reject(b):a.resolve(c.dmnXml)}),a.promise}),m.provide("decisionDefinition",function(){var a=c.defer();return n.get(i.decisionDefinitionId,function(b,c){b?a.reject(b):a.resolve(c)}),a.promise}),b.showBreadcrumbs=!0,g.breadcrumbsClear(),g.breadcrumbsAdd([{label:"Decisions",href:"#/decisions/"},{type:"decisionDefinition",label:i.decisionDefinitionName||i.decisionDefinitionKey||i.decisionDefinitionId,href:"#/decision-definition/"+i.decisionDefinitionId},{type:"decisionInstance",label:i.id,href:"#/decision-instance/"+i.id}]),g.titleSet([i.id,"Instance View"].join(" | ")),m.observe(["tableXml"],function(b){a.tableXml=b}),m.observe(["decisionDefinition"],function(b){a.decisionDefinition=b}),a.getDeploymentUrl=function(){var b="#/repository",c=a.decisionDefinition.deploymentId,d={deployment:c,resourceName:a.decisionDefinition.resource,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:c}])};return f.redirectTo(b,d,["deployment","resourceName","deploymentsQuery"])},a.getActivitySearch=function(a){return JSON.stringify([{type:"caseActivityIdIn",operator:"eq",value:a.activityId}])},a.initializeTablePlugins=function(){for(var b=j.getProviders({component:"cockpit.decisionInstance.table"}),c={decisionInstance:i,tableControl:a.control},d=0;d<b.length;d++)"function"==typeof b[d].initialize&&b[d].initialize(c)},a.decisionInstanceVars={read:["decisionInstance","decisionData"]},a.decisionInstanceTabs=j.getProviders({component:"cockpit.decisionInstance.tab"}),a.decisionInstanceActions=j.getProviders({component:"cockpit.decisionInstance.action"});for(var r=j.getProviders({component:"cockpit.decisionInstance.tab"}).concat(j.getProviders({component:"cockpit.decisionInstance.action"})),s={decisionInstance:i,decisionData:m},t=0;t<r.length;t++)"function"==typeof r[t].initialize&&r[t].initialize(s);a.selectTab=function(b){a.selectedTab=b,k.updateSilently({detailsTab:b.id})},l(a.decisionInstanceTabs)}],j=["$routeProvider",function(a){a.when("/decision-instance/:id",{redirectTo:function(a,b,c){var d=b+"/history";return f.redirectTo(d,c,!0)}}),a.when("/decision-instance/:id/history",{template:d,controller:i,authentication:"required",resolve:{decisionInstance:["ResourceResolver","camAPI","$q",function(a,b,c){return a.getByRouteParam("id",{name:"decision instance",resolve:function(a){var d=c.defer(),e=b.resource("history");return e.decisionInstance({decisionInstanceId:a,includeInputs:!0,includeOutputs:!0,disableBinaryFetching:!0,disableCustomObjectDeserialization:!0},function(a,b){!a&&b.length?d.resolve(b[0]):d.reject(a||{status:404})}),d.promise}})}]},reloadOnSearch:!1})}],k=["ViewsProvider",function(a){a.registerDefaultView("cockpit.decisionInstance.view",{id:"history",priority:20,label:"History",keepSearchParams:[]})}];h.config(j).config(k),b.exports=h},{"../../../../common/scripts/util/routeUtil":823,"angular-data-depend":"angular-data-depend","camunda-commons-ui/lib":19,"camunda-commons-ui/vendor/angular":706}],755:[function(a,b,c){"use strict";var d='<!-- # CE - camunda-cockpit-ui/client/scripts/pages/dashboard.html -->\n<div class="ctn-view cockpit-section-dashboard decisions-dashboard">\n  <view ng-repeat="plugin in plugins"\n        class="dashboard-view"\n        data-plugin-id="{{ plugin.id }}"\n        provider="plugin"></view>\n</div><!-- end .ctn-view -->\n<!-- / CE - camunda-cockpit-ui/client/scripts/pages/dashboard.html -->\n',e=["$scope","Views","page",function(a,b,c){var d=a.$root;d.showBreadcrumbs=!0,c.breadcrumbsClear(),c.breadcrumbsAdd({label:"Decisions"}),c.titleSet("Decisions"),a.plugins=b.getProviders({component:"cockpit.decisions.dashboard"})}],f=["$routeProvider",function(a){a.when("/decisions",{template:d,controller:e,authentication:"required",reloadOnSearch:!1})}];b.exports=f},{}],756:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./dashboard"),f=a("./processes"),g=a("./decisions"),h=a("./tasks"),i=a("./processDefinition"),j=a("./processInstance"),k=a("./decisionDefinition"),l=a("./decisionInstance"),m=d.module("cam.cockpit.pages",[i.name,j.name,k.name,l.name]);m.config(e),m.config(f),m.config(g),m.config(h),b.exports=m},{"./dashboard":752,"./decisionDefinition":753,"./decisionInstance":754,"./decisions":755,"./processDefinition":757,"./processInstance":758,"./processes":759,"./tasks":760,"camunda-commons-ui/vendor/angular":706}],757:[function(a,b,c){"use strict";var d='<!-- # CE - camunda-cockpit-ui/client/scripts/pages/process-definition.html -->\n<div class="ctn-fixed-view">\n  <div class="ctn-content-container"\n       ctn-collapsable-parent="sidebar"\n       ctn-min-width=".nav-tabs li">\n\n    <!-- tool bar -->\n    <div class="ctn-toolbar">\n\n      <!-- Toolbar actions are provided by plugins -->\n      <span ng-repeat="actionProvider in processDefinitionActions">\n        <view provider="actionProvider"\n              vars="processDefinitionVars" />\n      </span>\n    </div>\n\n    <!-- sidebar -->\n    <div class="ctn-column ctn-sidebar ctn-scroll"\n         ctn-collapsable="left">\n\n      <dl class="process-information">\n        <dt>Definition Version:</dt>\n        <dd class="definition-version">\n          <span ng-if="!instanceStatistics.$loaded"\n                class="glyphicon glyphicon-refresh animate-spin"></span>\n\n          <div class="dropdown"\n               ng-if="instanceStatistics.$loaded && allDefinitions.length > 1">\n            <a href\n               class="dropdown-toggle">\n              {{ processDefinition.version }}\n              <span class="caret"></span>\n            </a>\n\n            <ul class="dropdown-menu">\n              <li ng-repeat="definition in allDefinitions">\n                <a ng-href="#/process-definition/{{ definition.id }}">\n                  {{ definition.version }}\n                </a>\n              </li>\n            </ul>\n          </div>\n\n          <span ng-if="instanceStatistics.$loaded && allDefinitions.length < 2">\n            {{ processDefinition.version }}\n          </span>\n        </dd>\n\n        <dt>Version Tag:</dt>\n        <dd class="version-tag"\n            ng-if="processDefinition.versionTag">{{ processDefinition.versionTag }}</dd>\n        <dd class="version-tag"\n            ng-if="!processDefinition.versionTag"><span class="null-value">null</span></dd>\n\n        <dt cam-widget-clipboard="processDefinition.id"\n            ng-class="{hovered: hovered === \'definition-id\'}">Definition ID:</dt>\n        <dd class="definition-id"\n            ng-mouseenter="hoverTitle(\'definition-id\')"\n            ng-mouseleave="hoverTitle()">{{ processDefinition.id }}</dd>\n\n        <dt cam-widget-clipboard="processDefinition.key"\n            ng-class="{hovered: hovered === \'definition-key\'}">Definition Key:</dt>\n        <dd class="definition-key"\n            ng-mouseenter="hoverTitle(\'definition-key\')"\n            ng-mouseleave="hoverTitle()">{{ processDefinition.key }}</dd>\n\n        <dt>Definition Name:</dt>\n        <dd class="definition-name"\n            ng-if="processDefinition.name && processDefinition.name !== processDefinition.key">{{ processDefinition.name }}</dd>\n        <dd class="definition-name"\n            ng-if="!processDefinition.name || processDefinition.name === processDefinition.key"><span class="null-value">null</span></dd>\n\n        <dt ng-if="processDefinition.tenantId"\n            cam-widget-clipboard="processDefinition.tenantId"\n            ng-class="{hovered: hovered === \'tenant-id\'}">Tenant ID:</dt>\n        <dd class="tenant-id"\n            ng-if="processDefinition.tenantId"\n            ng-mouseenter="hoverTitle(\'tenant-id\')"\n            ng-mouseleave="hoverTitle()">{{ processDefinition.tenantId }}</dd>\n        <dt ng-if="!processDefinition.tenantId">Tenant ID:</dt>\n        <dd class="tenant-id"\n            ng-if="!processDefinition.tenantId"><span class="null-value">null</span></dd>\n\n        <dt cam-widget-clipboard="processDefinition.deploymentId"\n            ng-class="{hovered: hovered === \'deployment-id\'}">Deployment ID:</dt>\n        <dd class="deployment-id"\n            ng-mouseenter="hoverTitle(\'deployment-id\')"\n            ng-mouseleave="hoverTitle()">\n          <a ng-href="{{ getDeploymentUrl() }}">{{ processDefinition.deploymentId }}</a>\n        </dd>\n\n        <dt>Instances Running:</dt>\n        <dd class="running-instances">\n          <span ng-if="!instanceStatistics.$loaded"\n                class="glyphicon glyphicon-refresh animate-spin"></span>\n          <ul ng-if="instanceStatistics.$loaded">\n            <li>\n              current version:\n              <strong class="current-version">{{ instanceStatistics.current.count }}</strong>\n              <a ng-href="{{ getMigrationUrl() }}"\n                 class="instance-upgrade-link"\n                 ng-if="hasMigrationPlugin && !isLatestVersion() && instanceStatistics.current.count > 0">\n                <span class="glyphicon glyphicon-arrow-up"\n                      tooltip="Migrate Process Instances to latest version"></span>\n              </a>\n            </li>\n            <li>\n              all versions:\n              <strong class="all-versions">{{ instanceStatistics.all.count }}</strong>\n              <a ng-href="{{ getMigrationUrl() }}"\n                 class="instance-upgrade-link"\n                 ng-if="hasMigrationPlugin && isLatestVersion() && instanceStatistics.all.count !== instanceStatistics.current.count">\n                <span class="glyphicon glyphicon-arrow-up"\n                      tooltip="Migrate Process Instances to latest version"></span>\n              </a>\n            </li>\n          </ul>\n        </dd>\n\n        <dt ng-if="hasMigrationPlugin || hasReportPlugin">Related:</dt>\n        <dd ng-if="hasMigrationPlugin || hasReportPlugin">\n          <ul>\n            <li ng-if="hasReportPlugin">\n              <a class="report-link"\n                 ng-href="#/reports/reporting-duration-report?processDefinitionKey={{ processDefinition.key }}&processDefinitionVersion={{ processDefinition.version }}">\n                Reports\n              </a>\n            </li>\n            <li ng-if="hasMigrationPlugin">\n              <a ng-href="#/migration?searchQuery=%5B%5D&sourceKey={{ processDefinition.key }}">Migration</a>\n            </li>\n          </ul>\n        </dd>\n      </dl>\n\n      <a class="hide-collapsable pull-right"></a>\n    </div>\n\n    <div class="ctn-column ctn-content"\n         ctn-collapsable-parent="tabs">\n      <a class="show-collapsable"></a>\n\n      <!-- content top pane -->\n      <div class="ctn-row ctn-content-top"\n           ctn-collapsable="top">\n        <div process-diagram="processDiagram"\n             on-element-click="handleBpmnElementSelection(id, $event)"\n             selection="filter"\n             process-data="processData"\n             overlay-provider-component="cockpit.processDefinition.diagram.overlay"\n             viewer="diagramViewer"></div>\n\n        <a class="hide-collapsable vertical-collapse"\n           title="Show tabs"></a>\n      </div>\n\n      <!-- content bottom pane -->\n      <div class="ctn-row ctn-content-bottom ctn-tabbed">\n        <a class="show-collapsable vertical-collapse"\n           title="Hide tabs"></a>\n\n        <div ng-show="processDefinitionTabs.length">\n          <ul class="nav nav-tabs">\n            <li ng-class="{ active: selectedTab == tabProvider }"\n                ng-repeat="tabProvider in processDefinitionTabs">\n              <a href ng-click="selectTab(tabProvider)">{{ tabProvider.label }}</a>\n            </li>\n          </ul>\n\n          <div class="ctn-tabbed-content ctn-scroll">\n            <view provider="selectedTab"\n                  vars="processDefinitionVars" />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div><!-- end .ctn-fixed-view -->\n<!-- / CE - camunda-cockpit-ui/client/scripts/pages/process-definition.html -->\n',e=a("camunda-commons-ui/vendor/angular"),f=a("../../../../common/scripts/util/routeUtil"),g=a("../../../../common/scripts/util/search-widget-utils"),h=a("camunda-commons-ui/lib"),i=e.module("cam.cockpit.pages.processDefinition",["dataDepend",h.name]),j=["$location","$scope","$rootScope","$q","search","ProcessDefinitionResource","ProcessInstanceResource","Views","Data","Transform","Variables","dataDepend","processDefinition","page",function(a,b,c,d,h,i,j,k,l,m,n,o,p,q){function r(a){if(z!==a){var c=a.activityIds,d=null,f=!1;c&&c.length&&(d=c[c.length-1]),a.scrollToBpmnElement!==d&&(f=!0),a!=z&&t(a),b.filter=z=e.extend({},a,{scrollToBpmnElement:d}),f&&y.set("filter",z),t(z)}}function s(){var a,b=h();return a={activityIds:g.getActivityIdsFromUrlParams("activityIdIn",b),parentProcessDefinitionId:b.parentProcessDefinitionId}}function t(a){var b=a.activityIds,c=a.parentProcessDefinitionId,d=h(),e=JSON.parse(d.searchQuery||"[]");e=d.searchQuery||b.length?g.replaceActivitiesInSearchQuery(e,"activityIdIn",b):null,h.updateSilently({parentProcessDefinitionId:c||null,searchQuery:e?JSON.stringify(e):null}),z=a}function u(a,b,c,d){if(!a)return[];if(c&d)return b.filter(function(b){return b!==a&&b!==a+"#multiInstanceBody"});var e=[a];return v(a)&&e.push(a+"#multiInstanceBody"),(c?b:[]).concat(e)}function v(a){return b.processDiagram.bpmnElements[a].loopCharacteristics}function w(a){var c=h().detailsTab;if(a&&a.length){if(c){var d=k.getProvider({component:"cockpit.processDefinition.runtime.tab",id:c});if(d&&a.indexOf(d)!=-1)return void(b.selectedTab=d)}h.updateSilently({detailsTab:null}),b.selectedTab=a[0]}}function x(){if(b.allDefinitions)return Math.max.apply(null,b.allDefinitions.map(function(a){return a.version}))}var y=b.processData=o.create(b);b.hovered=null,b.hoverTitle=function(a){b.hovered=a||null},b.$on("$locationChangeSuccess",function(){var c=s();a.path().indexOf(p.id)>-1&&(g.shouldUpdateFilter(c,z,["activityIds","parentProcessDefinitionId"])&&y.set("filter",c),w(b.processDefinitionTabs))});var z=null;y.provide("processDefinition",p),y.provide("filter",s()),y.provide("parentId",["filter",function(a){return a.parentProcessDefinitionId}]),y.provide("parent",["parentId",function(a){return a?i.get({id:a}).$promise:null}]),y.provide("instances.all",["processDefinition",function(a){var b={processDefinitionKey:a.key};return a.tenantId?b.tenantIdIn=[a.tenantId]:b.withoutTenantId=!0,j.count(b).$promise}]),y.provide("instances.current",["processDefinition",function(a){return j.count({processDefinitionId:a.id}).$promise}]),y.provide("bpmn20Xml",["processDefinition",function(a){return i.getBpmn20Xml({id:a.id}).$promise}]),y.provide("parsedBpmn20",["bpmn20Xml",function(a){return m.transformBpmn20Xml(a.bpmn20Xml)}]),y.provide("bpmnElements",["parsedBpmn20",function(a){return a.bpmnElements}]),y.provide("bpmnDefinition",["parsedBpmn20",function(a){return a.definitions}]),y.provide("allProcessDefinitions",["processDefinition",function(a){var b={key:a.key,sortBy:"version",sortOrder:"desc"};return a.tenantId?b.tenantIdIn=[a.tenantId]:b.withoutTenantId=!0,i.query(b).$promise}]),y.provide("processDiagram",["bpmnDefinition","bpmnElements",function(a,c){var d=b.processDiagram=b.processDiagram||{};return e.extend(d,{bpmnDefinition:a,bpmnElements:c}),d}]),c.showBreadcrumbs=!0,y.observe("allProcessDefinitions",function(a){b.allDefinitions=a}),b.breadcrumbData=y.observe(["processDefinition","parent"],function(a,b){q.breadcrumbsClear(),q.breadcrumbsAdd({label:"Processes",href:"#/processes/"}),b&&q.breadcrumbsAdd({type:"processDefinition",label:b.name||b.id.slice(0,8)+"…",href:"#/process-definition/"+b.id+"/runtime",processDefinition:b});var c=k.getProviders({component:"cockpit.processDefinition.view"});q.breadcrumbsAdd({type:"processDefinition",label:a.name||a.key||a.id,href:"#/process-definition/"+a.id+"/runtime",processDefinition:a,choices:c.sort(function(a,b){return a.priority<b.priority?-1:a.priority>b.priority?1:0}).map(function(b){return{active:"runtime"===b.id,label:b.label,href:"#/process-definition/"+a.id+"/"+b.id}})}),q.titleSet((a.name||a.key||a.id).toString())}),b.instanceStatistics=y.observe(["instances.all","instances.current"],function(a,c){b.instanceStatistics.all=a,b.instanceStatistics.current=c}),b.processDiagramData=y.observe("processDiagram",function(a){b.processDiagram=a}),y.observe("filter",r),b.handleBpmnElementSelection=function(a,b){var c=e.copy(z),d=b.ctrlKey,f=e.copy(c.activityIds)||[],g=f.indexOf(a),h=g!==-1;c.activityIds=u(a,f,d,h),y.set("filter",c)},b.processDefinition=p,b.processDefinitionVars={read:["processDefinition","selection","processData","filter"]},b.processDefinitionTabs=k.getProviders({component:"cockpit.processDefinition.runtime.tab"}),b.processDefinitionActions=k.getProviders({component:"cockpit.processDefinition.runtime.action"}),l.instantiateProviders("cockpit.processDefinition.data",{$scope:b,processData:y}),b.hasReportPlugin=k.getProviders({component:"cockpit.report"}).length>0,b.hasMigrationPlugin=!1;try{b.hasMigrationPlugin=!!e.module("cockpit.plugin.migration")}catch(A){}for(var B=k.getProviders({component:"cockpit.processDefinition.runtime.tab"}).concat(k.getProviders({component:"cockpit.processDefinition.runtime.action"})).concat(k.getProviders({component:"cockpit.processDefinition.view"})).concat(k.getProviders({component:"cockpit.processDefinition.diagram.overlay"})).concat(k.getProviders({component:"cockpit.jobDefinition.action"})),C={processDefinition:p,processData:y},D=0;D<B.length;D++)"function"==typeof B[D].initialize&&B[D].initialize(C);b.selectTab=function(a){b.selectedTab=a,h.updateSilently({detailsTab:a.id})},w(b.processDefinitionTabs),b.getDeploymentUrl=function(){var a="#/repository",b=p.deploymentId,c={deployment:b,resourceName:p.resource,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:b}])};return f.redirectTo(a,c,["deployment","resourceName","deploymentsQuery"])},b.isLatestVersion=function(){return b.processDefinition&&b.processDefinition.version===x()},b.getMigrationUrl=function(){var a="#/migration",c=x(),d={sourceKey:b.processDefinition.key,targetKey:b.processDefinition.key,sourceVersion:b.isLatestVersion()?b.processDefinition.version-1:b.processDefinition.version,targetVersion:b.isLatestVersion()?b.processDefinition.version:c};return f.redirectTo(a,d,["sourceKey","targetKey","sourceVersion","targetVersion"])}}],k=["$routeProvider",function(a){a.when("/process-definition/:id",{redirectTo:f.redirectToRuntime}).when("/process-definition/:id/runtime",{template:d,controller:j,authentication:"required",resolve:{processDefinition:["ResourceResolver","ProcessDefinitionResource",function(a,b){return a.getByRouteParam("id",{name:"process definition",resolve:function(a){return b.get({id:a})}})}]},reloadOnSearch:!1})}],l=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processDefinition.view",{id:"runtime",priority:20,label:"Runtime",keepSearchParams:["parentProcessDefinitionId","businessKey","variables","startedAfter","startedBefore","viewbox"]})}];i.config(k).config(l),b.exports=i},{"../../../../common/scripts/util/routeUtil":823,"../../../../common/scripts/util/search-widget-utils":824,"camunda-commons-ui/lib":19,"camunda-commons-ui/vendor/angular":706}],758:[function(a,b,c){"use strict";var d='<!-- # CE - camunda-cockpit-ui/client/scripts/pages/process-instance.html -->\n<div class="ctn-fixed-view">\n  <div class="ctn-content-container"\n       ctn-collapsable-parent="sidebar"\n       ctn-min-width=".nav-tabs li">\n\n    <!-- toolbar -->\n    <div class="ctn-toolbar">\n\n      <!-- Toolbar actions are provided by plugins -->\n      <span ng-repeat="tabProvider in processInstanceActions">\n        <view provider="tabProvider"\n              vars="processInstanceVars" />\n      </span>\n\n    </div>\n\n    <!-- sidebar -->\n    <div class="ctn-column ctn-sidebar ctn-scroll"\n         ctn-collapsable="left"\n         ng-controller="ProcessInstanceFilterController">\n\n      <ul class="nav nav-tabs">\n        <li ng-class="{active: sidebarTab === \'info\'}">\n          <a ng-click="sidebarTab = \'info\'">Information</a>\n        </li>\n        <li ng-class="{active: sidebarTab === \'filters\'}">\n          <a ng-click="sidebarTab = \'filters\'">Filter</a>\n        </li>\n      </ul>\n\n      <div class="tab-content"\n           ng-show="sidebarTab === \'info\'">\n        <dl class="process-information">\n          <dt cam-widget-clipboard="processInstance.id"\n              ng-class="{hovered: hovered === \'instance-id\'}">\n            <span tooltip="Process instance ID as it appears in the database">Instance ID:</span>\n          </dt>\n          <dd class="instance-id"\n              ng-mouseenter="hoverTitle(\'instance-id\')"\n              ng-mouseleave="hoverTitle()">\n            {{ processInstance.id }}\n          </dd>\n\n          <dt cam-widget-clipboard="processInstance.businessKey"\n              ng-class="{hovered: hovered === \'business-key\'}"\n              ng-if="processInstance.businessKey">\n            <span tooltip="Business key of the process instance">Business Key:</span>\n          </dt>\n          <dd ng-if="processInstance.businessKey"\n              class="business-key"\n              ng-mouseenter="hoverTitle(\'business-key\')"\n              ng-mouseleave="hoverTitle()">\n            {{ processInstance.businessKey }}\n          </dd>\n          <dt ng-if="!processInstance.businessKey">\n            <span tooltip="Business key of the process instance">Business Key:</span>\n          </dt>\n          <dd ng-if="!processInstance.businessKey"\n              class="business-key"><span class="null-value">null</span></dd>\n\n          <dt>Definition Version:</dt>\n          <dd class="definition-version">\n            {{ processDefinition.version }}\n            <a ng-href="{{ getMigrationUrl() }}"\n               class="instance-upgrade-link"\n               ng-if="hasMigrationPlugin && !isLatestVersion()">\n              <span class="glyphicon glyphicon-arrow-up"\n                    tooltip="Migrate this instance to latest version"></span>\n            </a>\n          </dd>\n\n          <dt cam-widget-clipboard="processDefinition.id"\n              ng-class="{hovered: hovered === \'definition-id\'}">Definition ID:</dt>\n          <dd class="definition-id"\n              ng-mouseenter="hoverTitle(\'definition-id\')"\n              ng-mouseleave="hoverTitle()">\n            <a ng-href="#/process-definition/{{ processDefinition.id }}/runtime">{{ processDefinition.id }}</a>\n          </dd>\n\n          <dt cam-widget-clipboard="processDefinition.key"\n              ng-class="{hovered: hovered === \'definition-key\'}">Definition Key:</dt>\n          <dd class="definition-key"\n              ng-mouseenter="hoverTitle(\'definition-key\')"\n              ng-mouseleave="hoverTitle()">{{ processDefinition.key }}</dd>\n\n          <dt>Definition Name:</dt>\n          <dd class="definition-name">{{ processDefinition.name }}</dd>\n\n          <dt ng-if="processInstance.tenantId"\n              ng-class="{hovered: hovered === \'tenant-id\'}"\n              cam-widget-clipboard="processInstance.tenantId">Tenant ID:</dt>\n          <dd class="tenant-id"\n              ng-if="processInstance.tenantId"\n              ng-mouseenter="hoverTitle(\'tenant-id\')"\n              ng-mouseleave="hoverTitle()">{{ processInstance.tenantId }}</dd>\n          <dt ng-if="!processInstance.tenantId">Tenant ID:</dt>\n          <dd class="tenant-id"\n              ng-if="!processInstance.tenantId"><span class="null-value">null</span></dd>\n\n          <dt cam-widget-clipboard="processDefinition.deploymentId"\n              ng-class="{hovered: hovered === \'deployment-id\'}">Deployment ID:</dt>\n          <dd class="deployment-id"\n              ng-mouseenter="hoverTitle(\'deployment-id\')"\n              ng-mouseleave="hoverTitle()">\n            <a ng-href="{{ getDeploymentUrl() }}">{{ processDefinition.deploymentId }}</a>\n          </dd>\n\n          <dt ng-if="hasMigrationPlugin">Related:</dt>\n          <dd ng-if="hasMigrationPlugin">\n            <ul>\n              <li>\n                <a ng-href="#/migration?searchQuery=%5B%5D&sourceKey={{ processDefinition.key }}">Migration</a>\n              </li>\n            </ul>\n          </dd>\n        </dl>\n      </div>\n\n      <div class="tab-content filters"\n           ng-show="sidebarTab === \'filters\'">\n        <h5>\n          Filter\n          <span class="glyphicon glyphicon-info-sign"\n                tooltip="The activity instance tree with all currently selected activity instances. You may change the selection via (CTRL +) click."></span>\n        </h5>\n\n        <div cam-quick-filter\n             name-filter\n             holder-selector=".instance-tree"\n             label-selector=".tree-node-label"\n             item-selector=".tree-node-group">\n        </div>\n\n        <div class="filter-selection">\n          <button class="btn btn-link btn-xs btn-control"\n                  ng-show="filterData.activityInstanceCount"\n                  ng-click="clearSelection()">\n            <span class="glyphicon glyphicon-remove"></span>\n          </button>\n\n          <ng-pluralize count="filterData.activityInstanceCount"\n                        when="{ \'null\' : \'Nothing\',\n                                \'0\': \'Nothing\',\n                                \'one\': \'1 activity instance\',\n                                \'other\': \'{{ filterData.activityInstanceCount }} activity instances\'}">\n          </ng-pluralize>\n          selected\n        </div>\n\n\n        <div class="filter instance-tree">\n          <div activity-instance-tree="activityInstanceTree"\n               selection="filter"\n               on-element-click="handleActivityInstanceSelection(id, activityId, $event)"\n               order-children-by="orderChildrenBy()">\n          </div>\n        </div>\n      </div>\n\n      <a class="hide-collapsable pull-right"></a>\n    </div>\n\n    <div class="ctn-column ctn-content"\n         ctn-collapsable-parent="tabs">\n\n      <!-- content top pane -->\n      <div class="ctn-row ctn-content-top"\n           ctn-collapsable="top">\n        <div process-diagram="processDiagram"\n             on-element-click="handleBpmnElementSelection(id, $event)"\n             selection="filter"\n             process-data="processData"\n             page-data="pageData"\n             overlay-provider-component="cockpit.processInstance.diagram.overlay"></div>\n\n        <a class="hide-collapsable vertical-collapse"\n           title="Show tabs"></a>\n      </div>\n\n      <!-- content bottom pane -->\n      <div class="ctn-row ctn-content-bottom ctn-tabbed">\n        <a class="show-collapsable vertical-collapse"\n           title="Hide tabs"></a>\n        <div ng-show="processInstanceTabs.length">\n          <ul class="nav nav-tabs">\n            <li ng-class="{ active: selectedTab == tabProvider }"\n                ng-repeat="tabProvider in processInstanceTabs">\n              <a href\n                 ng-click="selectTab(tabProvider)">{{ tabProvider.label }}</a>\n            </li>\n          </ul>\n\n          <div class="ctn-tabbed-content ctn-scroll">\n            <view provider="selectedTab"\n                  vars="processInstanceVars" />\n          </div>\n        </div>\n      </div>\n\n      <a class="show-collapsable"></a>\n    </div>\n  </div>\n\n</div><!-- end .ctn-fixed-view -->\n<!-- / CE - camunda-cockpit-ui/client/scripts/pages/process-instance.html -->\n',e=a("camunda-commons-ui/vendor/angular"),f=a("../../../../common/scripts/util/search-widget-utils"),g=a("../../../../common/scripts/util/routeUtil"),h=a("camunda-commons-ui/lib"),i=e.module("cam.cockpit.pages.processInstance",[h.name,"dataDepend"]),j=["$scope","$filter","$rootScope","$location","search","ProcessDefinitionResource","ProcessInstanceResource","IncidentResource","Views","Data","Transform","processInstance","dataDepend","page","breadcrumbTrails",function(a,b,c,d,h,i,j,k,l,m,n,o,p,q,r){function s(a){var b=h(),c=f.getActivityIdsFromUrlParams("activityInstanceIdIn",b),d=b.activityIds?b.activityIds.split(","):[],e=t(a,d,c);return e&&(d=[]),{activityIds:d,activityInstanceIds:c,page:parseInt(b.page,10)||void 0,replace:e||!a}}function t(a,b,c){return a&&e.equals(b,a.activityIds)&&!e.equals(c,a.activityInstanceIds)}function u(b,c){var d=e.isArray(b.activityInstanceIds)?b.activityInstanceIds:[],g=e.isArray(b.activityIds)?b.activityIds:[],i=h(),j=JSON.parse(i.searchQuery||"[]");j=i.searchQuery||d.length||g.length?f.replaceActivitiesInSearchQuery(j,"activityInstanceIdIn",d):null,h.updateSilently({searchQuery:j?JSON.stringify(j):null,activityIds:g.length?g.join(","):null},c),a.filter=z=b}function v(b,c,d){var f,g,h=b.activityIds||[],i=b.activityInstanceIds||[],j=parseInt(b.page,10)||null,k=b.scrollToBpmnElement,l=b!==z,m=b.replace;delete b.replace,e.forEach(i,function(a){var b=c[a]||{},d=b.activityId||b.targetActivityId,e=h.indexOf(d);e===-1&&(h.push(d),f=!0)}),e.forEach(h,function(a){var b=d[a],c=!1,e=[];if(b){for(var g,h=0;g=b[h];h++){var j=i.indexOf(g.id);if(j!==-1){c=!0;break}e.push(g.id)}c||(i=i.concat(e),f=!0)}});for(var n=0;n<h.length;n++)d[h[n]]||(h.splice(n,1),n--);for(n=0;n<i.length;n++)c[i[n]]||(i.splice(n,1),n--);if(h.length>0){var o=h[h.length-1];o!==k&&(k=o,f=!0)}g={activityIds:h,activityInstanceIds:i,scrollToBpmnElement:k,page:j},f=!e.equals(g,b),f&&(a.filter=z=g,A.set("filter",z)),l&&u(z,m)}function w(a,b){j.query({subProcessInstance:a.id}).$promise.then(function(a){var c=a[0];b(null,c)})}function x(a){var b=h().detailsTab;if(a&&a.length){if(b){var c=l.getProvider({component:"cockpit.processInstance.runtime.tab",id:b});if(c&&a.indexOf(c)!=-1)return c}return a[0]}}a.hasMigrationPlugin=!1;try{a.hasMigrationPlugin=!!e.module("cockpit.plugin.migration")}catch(y){}a.processInstance=o;var z,A=a.processData=p.create(a),B=a.pageData=p.create(a);a.hovered=null,a.hoverTitle=function(b){a.hovered=b||null},a.$on("$locationChangeSuccess",function(){var b=s(a.filter);d.path().indexOf(o.id)>-1&&(f.shouldUpdateFilter(b,a.filter,["activityIds","activityInstanceIds"])&&A.set("filter",b),B.set("activeTab",x(a.processInstanceTabs)))}),A.provide("processInstance",o),A.provide("filter",s()),A.provide("processDefinition",["processInstance",function(a){return i.get({id:a.definitionId}).$promise}]),A.provide("bpmn20Xml",["processDefinition",function(a){return i.getBpmn20Xml({id:a.id}).$promise}]),A.provide("parsedBpmn20",["bpmn20Xml",function(a){return n.transformBpmn20Xml(a.bpmn20Xml)}]),A.provide("bpmnElements",["parsedBpmn20",function(a){return a.bpmnElements}]),A.provide("bpmnDefinition",["parsedBpmn20",function(a){return a.definitions}]),A.provide("activityInstances",["processInstance",function(a){
return j.activityInstances({id:a.id}).$promise}]),A.provide(["activityInstanceTree","activityIdToInstancesMap","instanceIdToInstanceMap"],["activityInstances","processDefinition","bpmnElements",function(a,c,d){function e(a){var c=a.name;if(!c){var d=b("shorten");c=a.$type.substr(5)+" ("+d(a.id,8)+")"}return c}function f(a){var b=a.childActivityInstances;if(b&&b.length>0)for(var c,i=0;c=b[i];i++){var j=c.activityId,k=d[j],l=g[j]||[];k?c.name=e(k):c.name=j,c.isTransitionInstance=!1,g[j]=l,h[c.id]||(h[c.id]=c),l.push(c),f(c)}var m=a.childTransitionInstances;if(m&&m.length>0)for(var n,o=0;n=m[o];o++){var p=n.targetActivityId,q=d[p],r=g[p]||[];q?n.name=e(q):n.name=p,n.isTransitionInstance=!0,g[p]=r,h[n.id]||(h[n.id]=n),r.push(n)}}var g={},h={},i=d[c.key];return a.name=e(i),h[a.id]=a,f(a),[a,g,h]}]),A.provide("executionIdToInstanceMap",["instanceIdToInstanceMap",function(a){var b={};for(var c in a){var d=a[c],e=d.executionIds,f=d.executionId;if(e)for(var g,h=0;g=e[h];h++)b[g]=d;f&&(b[f]=d)}return b}]),A.provide("incidents",["processInstance",function(a){return k.query({processInstanceId:a.id}).$promise}]),A.provide("activityIdToIncidentsMap",["incidents",function(a){for(var b,c={},d=0;b=a[d];d++){var e=c[b.activityId];e||(e=[],c[b.activityId]=e),e.push(b)}return c}]),A.provide("processDiagram",["bpmnDefinition","bpmnElements",function(a,b){var c={};return c.bpmnDefinition=a,c.bpmnElements=b,c}]),A.provide("latestDefinition",["processDefinition",function(a){var b={key:a.key,sortBy:"version",sortOrder:"desc",latestVersion:!0};return a.tenantId?b.tenantIdIn=[a.tenantId]:b.withoutTenantId=!0,i.query(b).$promise}]),A.observe(["filter","instanceIdToInstanceMap","activityIdToInstancesMap"],v),a.processDefinition=A.observe("processDefinition",function(b){a.processDefinition=b}),a.latestProcessDefinition=A.observe("latestDefinition",function(b){a.latestProcessDefinition=b[0]}),a.isLatestVersion=function(){return a.processDefinition.version===a.latestProcessDefinition.version},a.getMigrationUrl=function(){var b="#/migration",c={sourceKey:a.processDefinition.key,targetKey:a.latestProcessDefinition.key,sourceVersion:a.processDefinition.version,targetVersion:a.latestProcessDefinition.version,searchQuery:JSON.stringify([{type:"processInstanceIds",operator:"eq",value:a.processInstance.id}])};return g.redirectTo(b,c,["sourceKey","targetKey","sourceVersion","targetVersion","searchQuery"])},a.getDeploymentUrl=function(){var b="#/repository",c=a.processDefinition.deploymentId,d={deployment:c,resourceName:a.processDefinition.resource,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:c}])};return g.redirectTo(b,d,["deployment","resourceName","deploymentsQuery"])},A.provide("superProcessInstanceCount",["processInstance",function(a){return j.count({subProcessInstance:a.id}).$promise}]),c.showBreadcrumbs=!0,A.observe(["processDefinition","processInstance","superProcessInstanceCount"],function(b,c,d){var e=[{label:"Processes",href:"#/processes/"}];d.count&&e.push(function(a){r(c,w,[],a,"runtime")}),e.push({label:b.name||b.key||b.id,href:"#/process-definition/"+b.id+"/runtime",keepSearchParams:["viewbox"]});var f=l.getProviders({component:"cockpit.processInstance.view"});e.push({type:"processInstance",divider:":",label:c.name||c.key||c.id,href:"#/process-instance/"+c.id+"/runtime",processInstance:c,choices:f.sort(function(a,b){return a.priority<b.priority?-1:a.priority>b.priority?1:0}).map(function(a){return{active:"runtime"===a.id,label:a.label,href:"#/process-instance/"+c.id+"/"+a.id}})}),q.breadcrumbsClear().breadcrumbsAdd(e),q.titleSet([a.processDefinition.name||a.processDefinition.id,"Instance View"].join(" | "))}),a.activityInstanceTree=A.observe("activityInstanceTree",function(b){a.activityInstanceTree=b}),a.processDiagram=A.observe("processDiagram",function(b){a.processDiagram=b}),A.observe(["instanceIdToInstanceMap","activityIdToInstancesMap"],function(b,c){a.instanceIdToInstanceMap=b,a.activityIdToInstancesMap=c}),a.handleBpmnElementSelection=function(b,c){if(!b)return void A.set("filter",{});var d,f=c.ctrlKey,g=e.copy(z.activityIds)||[],h=e.copy(z.activityInstanceIds)||[],i=g.indexOf(b),j=e.copy(a.activityIdToInstancesMap[b])||[],k=a.activityIdToInstancesMap[b+"#multiInstanceBody"];k&&(Array.prototype.push.apply(j,k),i===-1&&(i=g.indexOf(b+"#multiInstanceBody"))),f?f&&(i===-1?(g.push(b),k&&g.push(b+"#multiInstanceBody"),e.forEach(j,function(a){h.push(a.id)})):i!==-1&&(g.splice(i,1),k&&g.splice(g.indexOf(b+"#multiInstanceBody"),1),e.forEach(j,function(a){var b=a.id,c=h.indexOf(b);c!==-1&&h.splice(c,1)}))):(g=[b],k&&g.push(b+"#multiInstanceBody"),h=[],e.forEach(j,function(a){h.push(a.id)})),d={activityIds:g,activityInstanceIds:h},A.set("filter",d)},a.handleActivityInstanceSelection=function(b,c,d){if(!b)return void A.set("filter",{});var f,g=d.ctrlKey,h=e.copy(z.activityIds)||[],i=e.copy(z.activityInstanceIds)||[],j=i.indexOf(b),k=a.activityIdToInstancesMap[c];if(g){if(g)if(j===-1){i.push(b);var l=h.indexOf(c);l===-1&&h.push(c)}else{i.splice(j,1);var m=!1;if(k)for(var n,o=0;n=k[o];o++){var p=n.id,q=i.indexOf(p);q!==-1&&(m=!0)}if(!m){var r=h.indexOf(c);h.splice(r,1)}}}else h=[c],i=[b];f={activityIds:h,activityInstanceIds:i,scrollToBpmnElement:c},A.set("filter",f)},a.orderChildrenBy=function(){return function(a){var b=a.id,c=b.indexOf(":");return c!==-1?b.substr(c+1,b.length):b}},a.$on("$routeChangeStart",function(){q.breadcrumbsClear()}),a.processInstanceVars={read:["processInstance","processData","filter","pageData"]};var C=l.getProviders({component:"cockpit.processInstance.runtime.tab"});a.processInstanceActions=l.getProviders({component:"cockpit.processInstance.runtime.action"}),m.instantiateProviders("cockpit.processInstance.data",{$scope:a,processData:A});for(var D=l.getProviders({component:"cockpit.processInstance.runtime.tab"}).concat(l.getProviders({component:"cockpit.processInstance.runtime.action"})).concat(l.getProviders({component:"cockpit.processInstance.view"})).concat(l.getProviders({component:"cockpit.processInstance.diagram.overlay"})),E={processInstance:o,processData:A,filter:z,pageData:B},F=0;F<D.length;F++)"function"==typeof D[F].initialize&&D[F].initialize(E);B.provide("tabs",C),B.provide("activeTab",x(C)),B.observe(["tabs"],function(b){a.processInstanceTabs=b,B.set("activeTab",x(b))}),B.observe("activeTab",function(b){a.selectedTab=b;var c=!h().detailsTab;h.updateSilently({detailsTab:b&&b.id||null}),c&&d.replace()}),a.selectTab=function(a){B.set("activeTab",a)}}];i.controller("ProcessInstanceFilterController",["$scope",function(a){var b,c=a.processData.newChild(a);c.provide("filterData",["filter",function(a){if(b&&b.filter==a)return b;var c=a.activityIds||[],d=a.activityInstanceIds||[];return{filter:a,activityCount:c.length||0,activityInstanceCount:d.length||0}}]),c.observe(["filterData"],function(c){a.filterData=b=c}),a.clearSelection=function(){b={activityCount:0,activityInstanceCount:0,filter:{}},c.set("filter",b.filter)},a.sidebarTab="info"}]);var k=["$routeProvider",function(a){a.when("/process-instance/:id",{redirectTo:g.redirectToRuntime,reloadOnSearch:!1}),a.when("/process-instance/:id/runtime",{template:d,controller:j,authentication:"required",resolve:{processInstance:["ResourceResolver","ProcessInstanceResource","Uri","Views","Notifications","$route","$http","$location",function(a,b,c,d,e,f,g,h){return a.getByRouteParam("id",{name:"running process instance",resolve:function(a){return b.get({id:a})},redirectTo:function(){var a=f.current.params.id;g.get(c.appUri("engine://engine/:engine/history/process-instance/")+a).success(function(b){var c,f,g="Unable to display running process instance",i="Process instance with ID "+a+" has been completed. Redirecting to ",j=d.getProvider({id:"history",component:"cockpit.processInstance.view"});j?(f=h.search(),c="/process-instance/"+a+"/history",i+="historic process instance view."):(c="/process-definition/"+b.processDefinitionId,i+="process definition view."),h.path(c),h.search(f||{}),h.replace(),e.addMessage({status:g,message:i,http:!0,exclusive:["http"],duration:5e3})}).error(function(){h.path("/dashboard"),h.search({}),h.replace(),e.addError({status:"Failed to display running process instance",message:"No running process instance with ID "+a,http:!0,exclusive:["http"]})})}})}]},reloadOnSearch:!1})}],l=["ViewsProvider",function(a){a.registerDefaultView("cockpit.processInstance.view",{id:"runtime",priority:20,label:"Runtime",keepSearchParams:["viewbox"]})}];i.config(k).config(l),b.exports=i},{"../../../../common/scripts/util/routeUtil":823,"../../../../common/scripts/util/search-widget-utils":824,"camunda-commons-ui/lib":19,"camunda-commons-ui/vendor/angular":706}],759:[function(a,b,c){"use strict";var d='<!-- # CE - camunda-cockpit-ui/client/scripts/pages/dashboard.html -->\n<div class="ctn-view cockpit-section-dashboard processes-dashboard">\n  <view ng-repeat="dashboardProvider in dashboardProviders"\n        class="dashboard-view"\n        data-plugin-id="{{ dashboardProvider.id }}"\n        vars="dashboardVars"\n        provider="dashboardProvider"></view>\n</div><!-- end .ctn-view -->\n<!-- / CE - camunda-cockpit-ui/client/scripts/pages/dashboard.html -->\n',e=a("camunda-commons-ui/vendor/angular"),f=["$scope","$location","$timeout","Views","Data","dataDepend","page",function(a,b,c,d,f,g,h){var i=a.$root,j=a.processData=g.create(a);a.dashboardVars={read:["processData"]},a.dashboardProviders=d.getProviders({component:"cockpit.processes.dashboard"}),f.instantiateProviders("cockpit.dashboard.data",{$scope:a,processData:j});for(var k=d.getProviders({component:"cockpit.processes.dashboard"}),l={$scope:a,processData:j},m=0;m<k.length;m++)"function"==typeof k[m].initialize&&k[m].initialize(l);var n=b.search();n.targetPlugin&&c(function(){var a=e.element('[data-plugin-id="'+n.targetPlugin+'"]');a.length&&a[0].scrollIntoView()}),i.showBreadcrumbs=!0,h.breadcrumbsClear(),h.breadcrumbsAdd({label:"Processes"}),h.titleSet("Processes")}],g=["$routeProvider",function(a){a.when("/processes",{template:d,controller:f,authentication:"required",reloadOnSearch:!1})}];b.exports=g},{"camunda-commons-ui/vendor/angular":706}],760:[function(a,b,c){"use strict";var d='<!-- # CE - camunda-cockpit-ui/client/scripts/pages/tasks.html -->\n<div class="ctn-view cockpit-section-dashboard tasks-dashboard">\n  <view ng-repeat="plugin in plugins"\n        class="dashboard-view"\n        data-plugin-id="{{ plugin.id }}"\n        provider="plugin"></view>\n</div><!-- end .ctn-view -->\n<!-- / CE - camunda-cockpit-ui/client/scripts/pages/tasks.html -->\n',e=["$scope","Views","page",function(a,b,c){var d=a.$root;d.showBreadcrumbs=!0,c.breadcrumbsClear(),c.breadcrumbsAdd({label:"Human Tasks"}),c.titleSet("Human Tasks"),a.plugins=b.getProviders({component:"cockpit.tasks.dashboard"})}],f=["$routeProvider",function(a){a.when("/tasks",{template:d,controller:e,authentication:"required",reloadOnSearch:!1})}];b.exports=f},{}],761:[function(a,b,c){"use strict";var d='<!-- # CE - camunda-cockpit-ui/client/scripts/reports/controllers/reports-view.html -->\n<div class="reports-wrapper">\n  <div class="container-fluid">\n    <div class="reports-type-wrapper"\n         ng-class="{dashboard: !selectedReportId}"\n         cam-reports-type\n         report-data="reportData"\n         get-plugin-providers="getPluginProviders"\n         ng-if="!selectedReportId">\n    </div>\n\n    <h3 ng-if="selectedReportId">{{ pluginLabel }}</h3>\n\n    <div class="reports-plugin-wrapper"\n         cam-reports-plugin\n         report-data="reportData">\n    </div>\n  </div>\n</div>\n<!-- / CE - camunda-cockpit-ui/client/scripts/reports/controllers/reports-view.html -->\n',e=a("camunda-commons-ui/vendor/angular"),f=e.extend,g=["$scope","$route","page","dataDepend","Views",function(a,b,c,d,e){function g(a){var b=f({},a||{},{component:"cockpit.report"});return e.getProviders(b)}a.selectedReportId=((b.current||{}).params||{}).reportType||null;var h=function(b){if(b&&a.selectedReportId)return a.selectedReportId?(g({id:a.selectedReportId})||[])[0]:void 0};if(a.$root.showBreadcrumbs=!0,c.breadcrumbsClear(),a.selectedReportId){var i=g({id:a.selectedReportId});a.pluginLabel=i[0].label,i.length&&(c.breadcrumbsAdd([{label:"Reports",href:"#/reports"},{label:i[0].label}]),c.titleSet(i[0].label+" report"))}else c.breadcrumbsAdd({label:"Reports"}),c.titleSet("Reports");var j=a.reportData=d.create(a),k=g(),l=h(k);j.provide("plugins",k),j.provide("plugin",l),a.getPluginProviders=g,a.$on("$routeChanged",function(){var a=h(k);j.set("plugin",a)}),a.reportTitle=((a.getPluginProviders()||[])[0]||{}).label||null}],h=["$routeProvider",function(a){a.when("/reports/:reportType?",{template:d,controller:g,authentication:"required",reloadOnSearch:!1})}];b.exports=h},{"camunda-commons-ui/vendor/angular":706}],762:[function(a,b,c){"use strict";var d='<!-- # CE - camunda-bpm-webapp/ui/cockpit/client/scripts/reports/directives/reports-plugin.html -->\n<view ng-if="plugin"\n      provider="plugin"\n      vars="reportPluginVars" />\n<!-- / CE - camunda-bpm-webapp/ui/cockpit/client/scripts/reports/directives/reports-plugin.html -->\n';b.exports=[function(){return{restrict:"A",scope:{reportData:"="},template:d,controller:["$scope",function(a){var b=a.reportPluginData=a.reportData.newChild(a);b.observe("plugin",function(b){a.plugin=b}),a.reportPluginVars={read:["reportPluginData"]}}]}}]},{}],763:[function(a,b,c){"use strict";var d='<!-- # CE - camunda-cockpit-ui/client/scripts/reports/directives/reports-type.html -->\n<section class="col-xs-12">\n  <div class="inner">\n    <header>\n      <h1 class="section-title">Available reports</h1>\n    </header>\n\n    <div class="reports-type-selection">\n      <div ng-if="!plugins || !(plugins.length > 0)"\n           class="well no-reports-available">\n        <span class="glyphicon glyphicon-info-sign"></span>\n        No reports available.\n      </div>\n\n      <ul ng-if="plugins">\n        <li ng-repeat="provider in plugins">\n          <a ng-class="{active: selection.type === provider.id}"\n             ng-href="#/reports/{{ provider.id }}">{{ provider.label }}</a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</section>\n<!-- / CE - camunda-cockpit-ui/client/scripts/reports/directives/reports-type.html -->\n';b.exports=[function(){return{restrict:"A",scope:{reportData:"=",getPluginProviders:"&"},template:d,controller:["$scope","$route",function(a,b){var c=a.getPluginProviders(),d=a.reportsTypeData=a.reportData.newChild(a);if(d.observe("plugin",function(b){a.plugin=b,a.selection={type:(b||{}).id}}),d.observe("plugins",function(b){a.plugins=b}),b.current.params.reportType){var e=(c({id:b.current.params.reportType})||[])[0];d.set("plugin",e)}}]}}]},{}],764:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./controllers/reports-view-ctrl"),f=a("./directives/reports-plugin"),g=a("./directives/reports-type"),h=d.module("cam.cockpit.reports",[]);h.config(e),h.directive("camReportsPlugin",f),h.directive("camReportsType",g),b.exports=h},{"./controllers/reports-view-ctrl":761,"./directives/reports-plugin":762,"./directives/reports-type":763,"camunda-commons-ui/vendor/angular":706}],765:[function(a,b,c){"use strict";var d='<!-- # cockpit client/scripts/repository/controllers/cam-cockpit-repository-view.html -->\n<div cam-repository\n     class="three-cols-layout">\n  <div class="columns">\n\n      <!-- # deployment-list column -->\n    <section class="column column-left deployments"\n             ng-controller="camDeploymentsCtrl">\n\n      <header class="cell top">\n        <div cam-deployments-sorting-choices\n             deployments-data="deploymentsData"></div>\n      </header>\n\n      <div class="cell content">\n\n        <view ng-repeat="deploymentsPlugin in deploymentsPlugins"\n              provider="deploymentsPlugin"\n              class="deployment-plugins"\n              vars="deploymentsVars" />\n\n        <div cam-deployments\n             ng-style="{top: deploymentsListTop}"\n             deployments-data="deploymentsData"></div>\n      </div>\n\n    </section>\n    <!-- / deployment-list column -->\n\n\n\n    <!-- # resource-list column -->\n    <section class="column column-center resources">\n\n      <header class="cell top">\n      </header>\n\n      <div class="cell content"\n           cam-resources\n           repository-data="repositoryData">\n      </div>\n\n    </section>\n    <!-- / resource-list column -->\n\n\n\n    <!-- # resource-details column -->\n    <section class="column column-right resource-details"\n             ng-controller="camResourceDetailsCtrl">\n\n      <header class="cell top">\n        <div class="resource-actions"\n             ng-if="resource"\n             ng-repeat="resourceAction in resourceActions">\n          <view provider="resourceAction" vars="resourceVars">\n        </div>\n      </header>\n\n      <div class="cell content"\n           cam-resource-wrapper\n           resource-details-data="resourceDetailsData"\n           control="control">\n      </div>\n\n    </section>\n    <!-- # resource-details column -->\n\n  </div>\n</div>\n<!-- / cockpit client/scripts/repository/controllers/cam-cockpit-repository-view.html -->\n';b.exports=["$routeProvider",function(a){a.when("/repository",{template:d,controller:"camCockpitRepositoryViewCtrl",authentication:"required",reloadOnSearch:!1})}]},{}],766:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular");b.exports=["$scope","$q","$location","$timeout","search","dataDepend","page","camAPI",function(a,b,c,e,f,g,h,i){function j(){var b=d.element('[ng-controller="camDeploymentsCtrl"] .content view');a.deploymentsListTop=1*b[0].offsetTop+Math.max(49,b.height()||0)+"px"}a.$root.showBreadcrumbs=!0,h.breadcrumbsClear(),h.titleSet("Deployments");var k=function(a){f.updateSilently(a)},l=function(a){var b=c.search()||{};return b[a]||null},m=15,n=i.resource("deployment"),o=a.repositoryData=g.create(a),p=l("deploymentsSortBy"),q=l("deploymentsSortOrder"),r=l("deploymentsPage"),s=l("deployment"),t=l("resource"),u=l("resourceName");o.provide("deploymentsSearchQuery",{}),o.provide("deploymentsPagination",function(){var a=b.defer();return r=l("deploymentsPage"),e(function(){a.resolve({firstResult:((r||1)-1)*m,maxResults:m})}),a.promise}),o.provide("deploymentsSorting",function(){return p=l("deploymentsSortBy"),q=l("deploymentsSortOrder"),{sortBy:p||"deploymentTime",sortOrder:q||"desc"}}),e(j,200),o.provide("deploymentsQuery",["deploymentsSearchQuery","deploymentsPagination","deploymentsSorting",function(a,c,f){var g=b.defer();return e(function(){a=a||{},g.resolve(d.extend({},a,c,f)),j()}),g.promise}]),o.provide(["deployments","deploymentsCount"],["deploymentsQuery",function(a){var c=b.defer();return n.list(a,function(a,b){a?c.reject(a):c.resolve([b.items,b.count])}),c.promise}]),o.provide("currentDeployment",["deployments",function(a){a=a||[];for(var b,e,f=l("deployment"),g=0;e=a[g];g++){if(f===e.id){b=e;break}b||(b=e)}return b?(s=b.id,b.id!==f&&(k({deployment:b.id,resource:null,viewbox:null,editMode:null}),c.replace())):(k({deployment:null,resource:null,viewbox:null,editMode:null}),c.replace()),d.copy(b)}]),o.provide("resources",["currentDeployment",function(a){var c=b.defer();return a&&null!==a.id?n.getResources(a.id,function(a,b){a?c.reject(a):c.resolve(b)}):c.resolve(null),c.promise}]),o.provide("resourceId",["resources",function(a){if(t=l("resource"),u=l("resourceName"),t)return{resourceId:t};if(u){a=a||[];for(var b,c=0;b=a[c];c++)if(b.name===u)return{resourceId:b.id}}return{resourceId:null}}]),o.provide("resource",["resourceId","currentDeployment",function(a,c){var d=b.defer();return a=a.resourceId,"string"!=typeof a?d.resolve(null):c&&null!==c.id?n.getResource(c.id,a,function(a,b){a?d.reject(a):d.resolve(b)}):d.resolve(null),d.promise}]),a.$on("$routeChanged",function(){var a=p,b=q,c=r,d=s,e=t,f=u;p=l("deploymentsSortBy"),q=l("deploymentsSortOrder"),r=l("deploymentsPage"),s=l("deployment"),t=l("resource"),u=l("resourceName"),(p&&a!==p||q&&b!==q)&&o.changed("deploymentsSorting"),r&&c!==r?o.changed("deploymentsPagination"):s&&d!==s?o.changed("currentDeployment"):(t&&e!==t||u&&f!==u)&&o.changed("resourceId")})}]},{"camunda-commons-ui/vendor/angular":706}],767:[function(a,b,c){"use strict";b.exports=["$scope","Views",function(a,b){a.deploymentsData=a.repositoryData.newChild(a),a.deploymentsVars={read:["deploymentsData"]},a.deploymentsPlugins=b.getProviders({component:"cockpit.repository.deployments.list"})}]},{}],768:[function(a,b,c){"use strict";var d='<div class="actions">\n  <view ng-repeat="deploymentPlugin in deploymentPlugins"\n        provider="deploymentPlugin"\n        vars="deploymentVars" />\n</div>\n\n<h4 class="name">{{ deployment.name || deployment.id }}</h4>\n\n<dl>\n  <dt>Time:</dt>\n  <dd class="time">{{ deployment.deploymentTime | camDate:\'normal\' }}</dd>\n\n  <dt>Source:</dt>\n  <dd class="source"\n      ng-if="deployment.source">{{ deployment.source }}</dd>\n  <dd class="source undefined"\n      ng-if="!deployment.source"><span class="null-value">null</span>\n\n  <dt>Tenant ID:</dt>\n  <dd class="tenant-id"\n      ng-if="deployment.tenantId">{{ deployment.tenantId }}</dd>\n  <dd class="tenant-id"\n      ng-if="!deployment.tenantId"><span class="null-value">null</span></dd>\n\n</dl>\n';b.exports=[function(){return{restrict:"A",scope:{deploymentsListData:"=",deployment:"=",control:"="},template:d,controller:["$scope","Views",function(a,b){a.deploymentData=a.deploymentsListData.newChild(a),a.deploymentVars={read:["deploymentData","deployment","control"]},a.deploymentPlugins=b.getProviders({component:"cockpit.repository.deployment.action"})}]}}]},{}],769:[function(a,b,c){"use strict";var d='<!-- # cockpit client/scripts/repository/deployments/directives/cam-cockpit-deployments-sorting-choices.html -->\n<div class="dropdown">\n\n  <a href\n     tabindex="-1"\n     role="button"\n     class="dropdown-toggle"\n     data-toggle="dropdown">\n    <span class="hidden-xs hidden-sm hidden-md"></span>\n    <span class="sort-by">{{ byLabel(sorting.sortBy) }}</span>\n  </a>\n\n  <a href\n     tabindex="-1"\n     tooltip="{{ (sorting.sortOrder === \'desc\' ? \'DESC\' : \'ASC\') }}"\n     class="glyphicon sort-direction"\n     ng-class="sorting.sortOrder === \'asc\' ? \'glyphicon-menu-up\' : \'glyphicon-menu-down\'"\n     ng-click="changeOrder()"></a>\n\n  <ul class="dropdown-menu"\n      role="menu">\n\n    <li ng-show="sorting.sortBy !== id"\n        ng-repeat="(id, name) in uniqueProps">\n      <a href\n         tabindex="-1"\n         class="sort-by-choice"\n         ng-click="changeBy(id)">{{ name }}</a>\n    </li>\n\n  </ul>\n\n</div>\n<!-- / cockpit client/scripts/repository/deployments/directives/cam-cockpit-deployments-sorting-choices.html -->\n',e=a("camunda-commons-ui/vendor/angular");b.exports=[function(){return{restrict:"A",scope:{deploymentsData:"="},template:d,controller:["$scope","search",function(a,b){var c=a.deploymentsSortingData=a.deploymentsData.newChild(a),d=a.uniqueProps={id:"ID",name:"Name",deploymentTime:"Deployment Time"},f=function(a){b.updateSilently(a)},g=function(a,b){var d={};d[a]=b,f(d),c.changed("deploymentsSorting")};c.observe("deploymentsSorting",function(b){a.sorting=e.copy(b)}),a.byLabel=function(a){return d[a]},a.changeOrder=function(){var b="asc"===a.sorting.sortOrder?"desc":"asc";g("deploymentsSortOrder",b)},a.changeBy=function(a){g("deploymentsSortBy",a)}}]}}]},{"camunda-commons-ui/vendor/angular":706}],770:[function(a,b,c){"use strict";var d='<!-- # cockpit client/scripts/repository/deployments/directives/cam-cockpit-deployments.html -->\n<div ng-show="!state.$loaded && !state.$error"\n     class="loader">\n  <span class="animate-spin glyphicon glyphicon-refresh"></span>\n  Loading\n</div>\n\n<div ng-show="state.$error" class="alert alert-danger" role="alert">\n  <span class="glyphicon glyphicon-exclamation-sign"></span>\n  <strong class="status">Failure:</strong>\n  <span class="message">Loading the deployments finished with failures. Try to refresh the page to try again.</span>\n</div>\n\n<div ng-show="state.$loaded && !state.$error"\n     class="wrapper">\n\n  <div ng-hide="totalItems"\n       class="well">\n    <span class="glyphicon glyphicon-info-sign"></span>\n    No deployments available.\n  </div>\n\n  <div ng-show="totalItems && (!deployments || !deployments.length)"\n       class="well">\n    <span class="glyphicon glyphicon-info-sign"></span>\n    The current search parameters could not retrieve any tasks. Try to reset the search parameters or to&nbsp;\n    <a ng-click="resetPage()">reset page number.</a>\n  </div>\n\n  <ul class="deployments">\n    <li ng-show="totalItems"\n        ng-repeat="(delta, deployment) in deployments"\n        ng-class="{active: isFocused(deployment), deployment: true}"\n        ng-style="{\'z-index\': ((deployments.length + 10) - delta) }"\n        ng-click="focus(deployment)">\n\n      <div cam-deployment\n           deployment="deployment"\n           deployments-list-data="deploymentsListData"\n           control="control">\n      </div>\n    </li>\n  </ul>\n</div>\n\n<pagination ng-show="state.$loaded && totalItems > pageSize"\n            class="pagination-sm"\n\n            ng-model="pageNum"\n            ng-change="pageChange(pageNum)"\n\n            total-items="totalItems"\n            items-per-page="pageSize"\n            max-size="3"\n\n            boundary-links="false"\n\n            next-text="&rsaquo;"\n            last-text="&raquo;"\n            previous-text="&lsaquo;"\n            first-text="&laquo;"></pagination>\n<!-- / cockpit client/scripts/repository/deployments/directives/cam-cockpit-deployments.html -->\n';b.exports=[function(){return{restrict:"A",scope:{deploymentsData:"="},template:d,controller:["$scope","$location","search","Notifications",function(a,b,c,d){var e=a.deploymentsListData=a.deploymentsData.newChild(a),f=function(a){c.updateSilently(a)},g=a.control={};g.addMessage=function(b,c){d.addMessage({status:b,message:c,scope:a})},a.pageNum=1,a.pageSize=null,a.totalItems=0;var h=a.pageChange=function(a){f({deploymentsPage:a,editMode:null}),e.changed("deploymentsPagination")};a.resetPage=function(){h(null)},a.state=e.observe("deployments",function(b){a.deployments=b}),a.state=e.observe(["deploymentsQuery","deploymentsCount",function(b,c){a.pageSize=b.maxResults,a.pageNum=b.firstResult/a.pageSize+1,a.totalItems=c}]),e.observe("currentDeployment",function(b){a.currentDeployment=b}),a.focus=function(a){i(a)||c.updateSilently({resource:null,resourceName:null,viewbox:null,editMode:!0}),c.updateSilently({deployment:a.id}),e.changed("currentDeployment")};var i=a.isFocused=function(b){return b&&a.currentDeployment&&b.id===a.currentDeployment.id}}]}}]},{}],771:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./controllers/cam-cockpit-deployments-ctrl"),f=a("./directives/cam-cockpit-deployments"),g=a("./directives/cam-cockpit-deployment"),h=a("./directives/cam-cockpit-deployments-sorting-choices"),i=a("./plugins/search/cam-cockpit-deployments-search-plugin"),j=a("./plugins/actions/delete/cam-cockpit-delete-deployment-plugin"),k=a("./plugins/actions/delete/modals/cam-cockpit-delete-deployment-modal-ctrl"),l=d.module("cam.cockpit.repository.deployments",["ui.bootstrap"]);l.controller("camDeploymentsCtrl",e),l.directive("camDeployments",f),l.directive("camDeployment",g),l.directive("camDeploymentsSortingChoices",h),l.config(i),l.config(j),l.controller("camDeleteDeploymentModalCtrl",k),b.exports=l},{"./controllers/cam-cockpit-deployments-ctrl":767,"./directives/cam-cockpit-deployment":768,"./directives/cam-cockpit-deployments":770,"./directives/cam-cockpit-deployments-sorting-choices":769,"./plugins/actions/delete/cam-cockpit-delete-deployment-plugin":772,"./plugins/actions/delete/modals/cam-cockpit-delete-deployment-modal-ctrl":773,"./plugins/search/cam-cockpit-deployments-search-plugin":774,"camunda-commons-ui/vendor/angular":706}],772:[function(a,b,c){"use strict";var d='<a class="delete-deployment"\n   ng-click="deleteDeployment($event, deployment)"\n   tooltip="Delete Deployment">\n  <span class="glyphicon glyphicon-trash"></span>\n</a>',e='<!-- # cockpit client/scripts/repository/deployments/modals/cam-cockpit-delete-deployment-modal.html -->\n<div class="modal-header">\n  <h3 class="modal-title">Delete Deployment: {{ deployment.name || deployment.id }}</h3>\n</div>\n\n<div class="modal-body delete-deployment-dialog">\n  <div notifications-panel></div>\n\n  <div ng-hide="countsLoaded()"\n       class="loader">\n    <span class="animate-spin glyphicon glyphicon-refresh"></span>\n    Loading deployment informations...\n  </div>\n\n  <div ng-show="countsLoaded()">\n\n    This deployment will be deleted.\n\n    <div class="alert alert-info" ng-show="hasInstances()">\n      {{ getInfoSnippet() }} In order to delete this deployment it is necessary to enable the <code>Cascade</code> flag.\n    </div>\n\n    <form class="form-horizontal"\n          name="deleteDeploymentForm"\n          novalidate\n          request-aware>\n\n      <div class="form-group cascade">\n\n        <label class="control-label col-xs-5"\n               for="cascade">\n          Cascade\n          <span class="glyphicon glyphicon-question-sign"\n                tooltip="If the value is enabled, all instances, including historic instances, related to this deployment will also be deleted."\n                tooltip-placement="right">\n          </span>\n        </label>\n\n        <div class="col-xs-7">\n          <label class="checkbox">\n            <input name="cascade"\n                   type="checkbox"\n                   ng-model="options.cascade">\n          </label>\n        </div>\n\n      </div>\n\n      <div class="form-group skip-custom-listener">\n\n        <label class="control-label col-xs-5"\n               for="skipCustomListeners">\n          Skip Custom Listeners\n          <span class="glyphicon glyphicon-question-sign"\n                tooltip="If the value is enabled, only built-in listeners will be notified with the end event."\n                tooltip-placement="right">\n          </span>\n        </label>\n\n        <div class="col-xs-7">\n          <label class="checkbox">\n            <input name="skipCustomListeners"\n                   type="checkbox"\n                   ng-model="options.skipCustomListeners">\n          </label>\n        </div>\n\n      </div>\n\n    </form>\n\n    Are you sure to delete the given deployment?\n\n  </div>\n\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-link"\n          ng-click="$dismiss()"\n          ng-disabled="status === \'PERFORM_DELETE\'">Close</button>\n\n  <button type="submit"\n          class="btn btn-primary"\n          ng-click="deleteDeployment()"\n          ng-show="countsLoaded()"\n          ng-disabled="!canDeleteDeployment() || status === \'PERFORM_DELETE\'">Delete</button>\n</div>\n<!-- / cockpit client/scripts/repository/deployments/modals/cam-cockpit-delete-deployment-modal.html -->\n',f=["$scope","$modal",function(a,b){var c=a.deploymentData;a.deleteDeployment=function(a,d){a.stopPropagation(),b.open({controller:"camDeleteDeploymentModalCtrl",template:e,resolve:{deploymentData:function(){return c},deployment:function(){return d}}}).result.then(function(){c.changed("deployments")})}}],g=function(a){a.registerDefaultView("cockpit.repository.deployment.action",{id:"delete-deployment",template:d,controller:f,priority:1e3})};g.$inject=["ViewsProvider"],b.exports=g},{}],773:[function(a,b,c){"use strict";b.exports=["$scope","$q","camAPI","Notifications","deploymentData","deployment",function(a,b,c,d,e,f){var g=c.resource("deployment"),h=c.resource("process-instance"),i=c.resource("case-instance"),j=e.newChild(a),k=a.options={cascade:!1,skipCustomListeners:!0};a.deployment=f,a.status,a.$on("$routeChangeStart",function(){a.$dismiss()}),j.provide("processInstanceCount",function(){
var a=b.defer();return h.count({deploymentId:f.id},function(b,c){return b?a.reject(b):void a.resolve(c)}),a.promise}),j.provide("caseInstanceCount",function(){var a=b.defer();return i.count({deploymentId:f.id},function(b,c){return b?a.reject(b):void a.resolve(c.count)}),a.promise}),a.processInstanceCountState=j.observe("processInstanceCount",function(b){a.processInstanceCount=b}),a.caseInstanceCountState=j.observe("caseInstanceCount",function(b){a.caseInstanceCount=b}),a.countsLoaded=function(){return a.processInstanceCountState&&(a.processInstanceCountState.$loaded||a.processInstanceCountState.$error)&&a.caseInstanceCountState&&(a.caseInstanceCountState.$loaded||a.caseInstanceCountState.$error)};var l=a.hasInstances=function(){return a.processInstanceCount&&a.processInstanceCount.count>0||a.caseInstanceCount>0};a.canDeleteDeployment=function(){return!(!k.cascade&&l())},a.getInfoSnippet=function(){var b=["There are"];return a.processInstanceCount&&a.processInstanceCount.count>0&&(b.push(a.processInstanceCount.count),b.push("running process"),a.processInstanceCount&&a.processInstanceCount.count>1?b.push("instances"):b.push("instance")),a.processInstanceCount&&a.processInstanceCount.count>0&&a.caseInstanceCount>0&&b.push("and"),a.caseInstanceCount>0&&(b.push(a.caseInstanceCount),b.push("open case"),a.caseInstanceCount>1?b.push("instances"):b.push("instance")),b.push("which belong to this deployment."),b=b.join(" ")},a.deleteDeployment=function(){a.status="PERFORM_DELETE",g["delete"](f.id,k,function(b){return a.status=null,b?d.addError({status:"Finished",message:"Could not delete deployment: "+b.message,exclusive:!0}):void a.$close()})}}]},{}],774:[function(a,b,c){"use strict";var d='<!-- # cockpit client/scripts/repository/deployments/plugins/search/cam-cockpit-deployments-search-plugin.html -->\n<div cam-widget-search\n     cam-widget-search-id="deployments"\n     cam-widget-search-valid-searches="searches"\n     cam-widget-search-translations="translations"\n     cam-widget-search-types="types"\n     cam-widget-search-operators="operators"\n     cam-widget-search-mode="filter"\n     class="multiline-pills"></div>\n<!-- / cockpit client/scripts/repository/deployments/plugins/search/cam-cockpit-deployments-search-plugin.html -->\n',e='{\n  "types": [\n    {\n      "id": {\n        "key": "id",\n        "value": "ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "name",\n        "value": "Name"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "like"\n        }\n      ],\n      "default": true\n    },\n    {\n      "id": {\n        "key": "deploymentTime",\n        "value": "Time"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "before"\n        },\n        {\n          "key": "After",\n          "value": "after"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "source",\n        "value": "Source"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "withoutSource",\n        "value": "Source Undefined"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "tenantIdIn",\n        "value": "Tenant ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "withoutTenantId",\n        "value": "without Tenant ID"\n      },\n      "basic": true\n    }\n  ],\n  "operators": {\n    "undefined":  [\n      {\n        "key": "eq",\n        "value": "="\n      }\n    ],\n    "string":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "like",\n        "value": "like"\n      }\n    ],\n    "date":       [\n      {\n        "key": "lteq",\n        "value": "before"\n      },\n      {\n        "key": "gteq",\n        "value": "after"\n      }\n    ]\n  },\n  "tooltips": {\n    "inputPlaceholder": "Add filtering criteria",\n    "invalid": "This filtering query is not valid",\n    "deleteSearch": "Remove filters",\n    "type": "Type",\n    "name": "Property",\n    "operator": "Operator",\n    "value": "Value"\n  }\n}\n',f=a("camunda-commons-ui/vendor/angular"),g=JSON.parse(e),h=["$scope",function(a){var b=function(a,b){return b?""+a:isNaN(a)||""===a.trim()?"true"===a||"false"!==a&&("NULL"===a?null:a):+a},c=function(a,b){return"Like"===b||"like"===b?"%"+a+"%":a},d=function(a){var b=a.type.value.key,c=a.operator.value.key;return["Like","like"].indexOf(c)!==-1?b+=c:["Before","before","After","after"].indexOf(c)!==-1&&(b=c.toLowerCase()),b},e=function(a){return!!a.basic||c(b(a.value.value,a.enforceString),a.operator.value.key)},h=function(a,b){var c=d(b);a[c]=e(b)};a.translations=g.tooltips,a.types=g.types,a.operators=g.operators;var i=a.deploymentsData.newChild(a);a.$watch("searches",function(a){var b={};f.forEach(a,function(a){h(b,a)}),i.set("deploymentsSearchQuery",b)},!0)}],i=function(a){a.registerDefaultView("cockpit.repository.deployments.list",{id:"deployments-search",template:d,controller:h,priority:100})};i.$inject=["ViewsProvider"],b.exports=i},{"camunda-commons-ui/vendor/angular":706}],775:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular");a("angular-data-depend"),a("camunda-commons-ui/lib/index");var e=a("./config/routes"),f=a("./controllers/cam-cockpit-repository-view-ctrl"),g=a("./deployments/main"),h=a("./resources/main"),i=a("./resource/main"),j=["cam.commons","dataDepend","ngRoute",g.name,h.name,i.name],k=d.module("cam.cockpit.repository",j);k.config(e),k.controller("camCockpitRepositoryViewCtrl",f),b.exports=k},{"./config/routes":765,"./controllers/cam-cockpit-repository-view-ctrl":766,"./deployments/main":771,"./resource/main":781,"./resources/main":785,"angular-data-depend":"angular-data-depend","camunda-commons-ui/lib/index":19,"camunda-commons-ui/vendor/angular":706}],776:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular");b.exports=["$scope","$q","Uri","camAPI","Views",function(a,b,c,e,f){var g=d.isObject,h=function(a,b){return a&&b.test(a.toLowerCase())},i=a.resourceDetailsData=a.repositoryData.newChild(a),j=e.resource("deployment"),k=a.control={},l=/\.(bpmn\d*.xml|bpmn)$/,m=/\.(cmmn\d*.xml|cmmn)$/,n=/\.(dmn\d*.xml|dmn)$/,o=/\.(gif|jpg|jpeg|jpe|png|svg|tif|tiff)$/,p="cockpit.repository.resource.action",q=function(a){return g(a)?a.name:a},r=k.isBpmnResource=a.isBpmnResource=function(a){var b=q(a);return h(b,l)},s=k.isCmmnResource=a.isCmmnResource=function(a){var b=q(a);return h(b,m)},t=k.isDmnResource=a.isDmnResource=function(a){var b=q(a);return h(b,n)},u=k.isImageResource=a.isImageResource=function(a){var b=q(a);return h(b,o)};k.isUnkownResource=a.isUnkownResource=function(a){return!(r(a)||s(a)||t(a)||u(a))};var v=e.resource("process-definition"),w=e.resource("case-definition"),x=e.resource("decision-definition");k.downloadLink=a.downloadLink=function(a,b){return a&&b&&c.appUri("engine://engine/:engine/deployment/"+a.id+"/resources/"+b.id+"/data")},i.provide("binary",["resource","currentDeployment",function(a,c){var d=b.defer();return a&&c&&null!==c.id?u(a)?d.resolve(null):j.getResourceData(c.id,a.id,function(a,b){a?d.reject(a):d.resolve({data:b})}):d.resolve(null),d.promise}]),i.provide("definitions",["currentDeployment","resource",function(c,d){var e=b.defer();a.loadingState="LOADING";var f=null,g=!1;return c&&d?(r(d)?(g=!0,f=v):s(d)?f=w:t(d)&&(f=x),f?f.list({deploymentId:c.id,resourceName:d.name},function(b,c){return b?(a.loadingState="ERROR",a.textError=b.message||"Failed to load definitions.",e.reject(b)):void e.resolve(g?c.items:c)}):e.resolve([])):e.resolve([]),e.promise}]),i.observe("resource",function(b){a.resource=b}),i.observe("currentDeployment",function(b){a.deployment=b}),a.resourceVars={read:["control","deployment","resource","resourceDetailsData"]},a.resourceActions=f.getProviders({component:p})}]},{"camunda-commons-ui/vendor/angular":706}],777:[function(a,b,c){"use strict";var d='<!-- # cockpit client/scripts/repository/resource/directives/cam-cockpit-resource-content.html -->\n<div ng-if="binary || (resource && isImageResource(resource))"\n     class="resource-wrapper">\n\n  <div ng-if="isBpmnResource(resource)"\n       cam-widget-bpmn-viewer\n       diagram-data="binary">\n  </div>\n\n\n  <div ng-if="isDmnResource(resource)"\n       cam-widget-dmn-viewer\n       enable-drd-navigation="true"\n       xml="binary">\n  </div>\n\n  <div ng-if="isCmmnResource(resource)"\n       cam-widget-cmmn-viewer\n       diagram-data="binary">\n  </div>\n\n  <div ng-if="isImageResource(resource)"\n       class="image-resource">\n    <img ng-src="{{ imageLink(deployment, resource) }}">\n  </div>\n\n\n  <div ng-if="isUnkownResource(resource)"\n       class="unkown-resource">\n    <div cam-source\n         name="resource.name"\n         source="binary">\n    </div>\n  </div>\n\n  <div>\n\n</div>\n<!-- / cockpit client/scripts/repository/resource/directives/cam-cockpit-resource-content.html -->\n';b.exports=[function(){return{scope:{resourceData:"=",control:"="},template:d,controller:["$scope",function(a){var b,c=a.resourceData.newChild(a);a.isBpmnResource=a.control.isBpmnResource,a.isCmmnResource=a.control.isCmmnResource,a.isDmnResource=a.control.isDmnResource,a.isImageResource=a.control.isImageResource,a.isUnkownResource=a.control.isUnkownResource,a.imageLink=a.control.downloadLink,c.observe("resource",function(c){c&&b&&c.id!==b.id&&(a.binary=null),b=a.resource=c}),c.observe("currentDeployment",function(b){a.deployment=b}),c.observe("binary",function(b){a.binary=(b||{}).data})}]}}]},{}],778:[function(a,b,c){"use strict";var d='<!-- # cockpit client/scripts/repository/resource/directives/cam-cockpit-resource-meta.html -->\n<div class="filepath">{{ resource._filepath }}</div>\n<div class="table-row">\n  <h2 class="name">{{ resource._filename }}</h2>\n  <h3 class="version" ng-show="!isDmnResource(resource) && definitions.length > 0">Version: {{ definitions[0].version }}</h3>\n</div>\n<!-- / cockpit client/scripts/repository/resource/directives/cam-cockpit-resource-meta.html -->\n';b.exports=[function(){return{scope:{resourceData:"=",control:"="},template:d,controller:["$scope",function(a){var b=a.resourceData.newChild(a);a.isDmnResource=a.control.isDmnResource,b.observe("resource",function(b){if(b){var c=(b.name||b.id).split("/");b._filename=c.pop(),b._filepath=c.join("/")}a.resource=b}),b.observe("definitions",function(b){a.definitions=b})}]}}]},{}],779:[function(a,b,c){"use strict";var d='<!-- # cockpit client/scripts/repository/resource/directives/cam-cockpit-resource-wrapper.html -->\n<div ng-show="!resourceState.$loaded"\n     class="loader">\n  <span class="animate-spin glyphicon glyphicon-refresh"></span>\n  Loading\n</div>\n\n<div ng-show="resourceState.$loaded">\n\n  <div ng-if="!resource">\n    <div class="no-resource well">\n      <span class="glyphicon glyphicon-info-sign"></span>\n      Select a resource in the list.\n    </div>\n  </div>\n\n  <section ng-if="resource" class="resource">\n\n    <header class="row">\n      <div class="col-xs-12"\n           cam-resource-meta\n           resource-data="resourceData"\n           control="control">\n      </div>\n    </header>\n\n    <div class="section-content row">\n      <div class="col-xs-12"\n           cam-resource-content\n           resource-data="resourceData"\n           control="control">\n      </div>\n\n      <div ng-show="resourceDetailTabs.length"\n           class="col-xs-12 ctn-tabbed-content">\n\n        <ul ng-if="resourceDetailTabs.length > 1"\n            class="nav nav-tabs">\n          <li ng-class="{ active: selectedResourceDetailTab == resourceDetailTab }"\n              ng-repeat="resourceDetailTab in resourceDetailTabs">\n            <a href\n               ng-click="selectResourceDetailTab(resourceDetailTab)">{{ resourceDetailTab.label }}</a>\n          </li>\n        </ul>\n\n        <h4 ng-if="resourceDetailTabs.length === 1">{{ resourceDetailTabs[0].label }}:</h4>\n\n        <div class="tab-content">\n          <view provider="selectedResourceDetailTab"\n                vars="resourceVars" />\n        </div>\n\n      </div><!-- / !!resourceDetailTabs -->\n\n    </div><!-- / .section-content -->\n\n  </section>\n\n</div>\n<!-- / cockpit client/scripts/repository/resource/directives/cam-cockpit-resource-wrapper.html -->\n',e=a("camunda-commons-ui/vendor/angular");b.exports=[function(){return{restrict:"A",scope:{resourceDetailsData:"=",control:"=?"},template:d,controller:["$scope","$q","$location","Views","Notifications","search",function(a,b,c,d,f,g){function h(b){var c=g().detailsTab;if(b&&b.length){if(c){var e=d.getProvider({component:m,id:c});if(e&&b.indexOf(e)!=-1)return void(a.selectedResourceDetailTab=e)}g.updateSilently({detailsTab:null}),a.selectedResourceDetailTab=b[0]}}var i=function(b,c){if(c.message){var d=c.message.indexOf("<-");d!==-1&&(c.message=c.message.split("<-")[1].trim())}f.addError({status:b,message:c?c.message:"",exclusive:!0,scope:a})},j=function(a){return a&&a.indexOf("does not exist")===-1?"The deployment resource does not exist anymore":"Could not load deployment resource"},k=function(){var a=c.search()||{};delete a.resource,delete a.resourceName,c.search(e.copy(a)),c.replace()},l=a.resourceData=a.resourceDetailsData.newChild(a),m="cockpit.repository.resource.detail";l.observe("currentDeployment",function(b){a.deployment=b}),a.resourceState=l.observe(["resource","binary",function(b){a.resource=b}]),a.$watch("resourceState.$error",function(a){if(a){var b=j(a.message);i(b,a),k()}}),a.resourceVars={read:["control","deployment","resource","resourceData"]},a.resourceDetailTabs=d.getProviders({component:m}),a.selectedResourceDetailTab=a.resourceDetailTabs[0],a.selectResourceDetailTab=function(b){a.selectedResourceDetailTab=b,g.updateSilently({detailsTab:b.id})},h(a.resResourceDetailTabs),a.$on("$routeChanged",function(){h(a.resResourceDetailTabs)})}]}}]},{"camunda-commons-ui/vendor/angular":706}],780:[function(a,b,c){"use strict";var d="<!-- # cockpit client/scripts/repository/resource/directives/cam-cockpit-source.html -->\n<pre><code ng-class=\"'language-' + extension()\">{{ source }}</code></pre>\n<!-- / cockpit client/scripts/repository/resource/directives/cam-cockpit-source.html -->\n",e=a("camunda-commons-ui/vendor/angular");a("camunda-commons-ui/vendor/prism"),b.exports=["$window",function(a){return{restrict:"A",scope:{name:"=",source:"="},template:d,link:function(b,c){var d=a.Prism,f={js:"javascript",html:"markup",xml:"markup",py:"python",rb:"ruby",bpmn:"markup",cmmn:"markup",dmn:"markup"},g=b.name;b.extension=function(){if(g){var a=(g.match(/\.([\w-]+)$/)||["",""])[1];return a=a&&a.toLowerCase(),f[a]||a}},b.$watch("source",function(a){if(a){var b=e.element("code",c);d.highlightElement(b[0])}})}}}]},{"camunda-commons-ui/vendor/angular":706,"camunda-commons-ui/vendor/prism":710}],781:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./controllers/cam-cockpit-resource-details-ctrl"),f=a("./directives/cam-cockpit-resource-wrapper"),g=a("./directives/cam-cockpit-resource-meta"),h=a("./directives/cam-cockpit-resource-content"),i=a("./directives/cam-cockpit-source"),j=a("./plugins/details/definitions/cam-cockpit-definitions-plugin"),k=a("./plugins/actions/download/cam-cockpit-resource-action-download-plugin"),l=d.module("cam.cockpit.repository.resource",[]);l.controller("camResourceDetailsCtrl",e),l.directive("camResourceWrapper",f),l.directive("camResourceMeta",g),l.directive("camResourceContent",h),l.directive("camSource",i),l.config(j),l.config(k),b.exports=l},{"./controllers/cam-cockpit-resource-details-ctrl":776,"./directives/cam-cockpit-resource-content":777,"./directives/cam-cockpit-resource-meta":778,"./directives/cam-cockpit-resource-wrapper":779,"./directives/cam-cockpit-source":780,"./plugins/actions/download/cam-cockpit-resource-action-download-plugin":782,"./plugins/details/definitions/cam-cockpit-definitions-plugin":783,"camunda-commons-ui/vendor/angular":706}],782:[function(a,b,c){"use strict";var d='<!-- # cockpit client/scripts/repository/resource/plugins/actions/download/cam-cockpit-resource-action-download-plugin.html -->\n<a class="download-resource"\n   ng-href="{{ downloadLink(deployment, resource) }}">\n  <span class="glyphicon glyphicon-download-alt"></span> Download\n</a>\n<!-- / cockpit client/scripts/repository/resource/plugins/actions/download/cam-cockpit-resource-action-download-plugin.html -->\n',e=["$scope",function(a){var b=a.resourceDetailsData.newChild(a);b.observe("resource",function(b){a.resource=b}),b.observe("currentDeployment",function(b){a.deployment=b}),a.downloadLink=a.control.downloadLink}],f=function(a){a.registerDefaultView("cockpit.repository.resource.action",{id:"download-resource",controller:e,template:d,priority:100})};f.$inject=["ViewsProvider"],b.exports=f},{}],783:[function(a,b,c){"use strict";var d='<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="No definitions matched by current deployment resource."\n     text-error="{{ textError }}">\n  <table class="definitions cam-table">\n    <thead>\n      <tr>\n        <th class="name">Name</th>\n        <th class="key">Key</th>\n        <th ng-if="!isDmnResource(resource)"\n            class="instance-count">Instance Count</th>\n        <th ng-if="isDmnResource(resource)"\n            class="version">Version</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr ng-repeat="definition in definitions">\n        <td class="name">\n          <a ng-if="!isCmmnResource(resource) || hasCasePlugin"\n             ng-href="{{ getDefinitionLink(definition, resource) }}">\n            {{ definition.name || definition.key || definition.id }}\n          </a>\n          <span ng-if="isCmmnResource(resource) && !hasCasePlugin">\n            {{ definition.name || definition.key || definition.id }}\n          </span>\n        </td>\n\n        <td class="key">\n          {{ definition.key }}\n        </td>\n\n        <td ng-if="!isDmnResource(resource)"\n            class="instance-count">\n          <span ng-if="!definition.instances.$loaded">\n            <span class="glyphicon glyphicon-refresh animate-spin"></span>&nbsp;Loading…\n          </span>\n          <span ng-if="definition.instances.$loaded">\n            {{ definition.instances.count }}\n          </span>\n          <span ng-if="definition.instances.$error">\n            Could not load instances count.\n          </span>\n        </td>\n\n        <td ng-if="isDmnResource(resource)"\n            class="version">\n          <span>\n            {{ definition.version }}\n          </span>\n        </td>\n\n      </tr>\n    </tbody>\n  </table>\n\n  <div ng-if="isDmnResource(resource)">\n    <h4>Decision Requirements Definitions:</h4>\n    <div cam-widget-loader\n         loading-state="{{ drdLoadingState }}"\n         text-empty="No decision requirements definitions matched by current deployment resource."\n         text-error="{{ drdTextError }}">\n      <table class="drd-definitions cam-table">\n        <thead>\n          <tr>\n            <th class="name">Name</th>\n            <th class="key">Key</th>\n            <th class="version">Version</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td class="name">\n              <a ng-if="hasDrdPlugin"\n                 ng-href="{{ getDrdLink(drd) }}">\n                {{ drd.name || drd.key || drd.id }}\n              </a>\n              <span ng-if="!hasDrdPlugin">\n                {{ drd.name || drd.key || drd.id }}\n              </span>\n            </td>\n\n            <td class="key">\n              {{ drd.key }}\n            </td>\n\n            <td class="version">\n              {{ drd.version }}\n            </td>\n\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n\n</div>\n',e=["$scope","$q","camAPI","hasPlugin",function(a,b,c,d){var e,f=a.resourceData.newChild(a),g=a.isBpmnResource=a.control.isBpmnResource,h=a.isCmmnResource=a.control.isCmmnResource,i=a.isDmnResource=a.control.isDmnResource,j=c.resource("process-instance"),k=c.resource("case-instance"),l=c.resource("drd");a.hasCasePlugin=d("cockpit.cases.dashboard","case-definition"),a.hasDrdPlugin=d("cockpit.drd.definition.tab","decision-instance-table"),f.observe("definitions",function(b){a.loadingState=b&&b.length?"LOADED":"EMPTY",a.definitions=b,b&&b.length&&!i(e)&&m(b),i(e)&&n(b)}),f.observe("resource",function(b){e=a.resource=b});var m=function(b){function c(b,c,d){b.instances={$loaded:!1},d.count(c,function(c,d){if(c)return b.instances.$error=!0;b.instances.$loaded=!0,b.instances.count=d.count||"0";var e=a.$root.$$phase;"$apply"!==e&&"$digest"!==e&&a.$apply()})}for(var d,e=0;d=b[e];e++){var f=null,i=null;g(d.resource)?(f=j,i={processDefinitionId:d.id}):h(d.resource)&&(f=k,i={caseDefinitionId:d.id}),f&&c(d,i,f)}},n=function(b){var c=b[0].decisionRequirementsDefinitionId;a.drdLoadingState=c?"LOADING":"EMPTY",c&&l.get(c,function(b,c){if(b)return a.drdTextError=b;a.drdLoadingState="LOADED",a.drd=c;var d=a.$root.$$phase;"$apply"!==d&&"$digest"!==d&&a.$apply()})};a.getDefinitionLink=function(a,b){if(b){var c=null;return g(b)?c="process-definition":i(b)?c="decision-definition":h(b)&&(c="case-definition"),"#/"+c+"/"+a.id}},a.getDrdLink=function(a){if(a)return"#/decision-requirement/"+a.id}}],f=function(a){a.registerDefaultView("cockpit.repository.resource.detail",{id:"resource-details",label:"Definitions",template:d,controller:e,priority:1e3})};f.$inject=["ViewsProvider"],b.exports=f},{}],784:[function(a,b,c){"use strict";var d='<!-- # cockpit client/scripts/repository/resources/directives/cam-cockpit-resources.html -->\n<div ng-if="!state.$loaded && !state.$error"\n     class="loader">\n  <span class="animate-spin glyphicon glyphicon-refresh"></span>\n  Loading\n</div>\n\n<div ng-if="state.$error"\n     class="alert alert-danger"\n     role="alert">\n  <span class="glyphicon glyphicon-exclamation-sign"></span>\n  <strong class="status">Failure:</strong>\n  <span class="message">Loading the resources finished with failures. Try to refresh the page to try again.</span>\n</div>\n\n<div ng-if="state.$loaded && !state.$error && !resources.length"\n     class="well">\n  <span class="glyphicon glyphicon-info-sign"></span>\n  No resources available.\n</div>\n\n<ol ng-if="state.$loaded && !state.$error && resources.length"\n    class="resources list-unstyled"\n    tabindex="0"\n    ng-keydown="handleKeydown($event)">\n  <li class="resource"\n      ng-repeat="(delta, resource) in resources"\n      ng-class="{active: currentResourceId === resource.id, clickable: true}"\n      ng-click="focus($event, resource)">\n    <div class="filepath">{{ truncateFilepath(resource._filepath) }}</div>\n    <h4>\n      <a href>{{ resource._filename }}</a>\n    </h4>\n  </li>\n</ol>\n<!-- / cockpit client/scripts/repository/resources/directives/cam-cockpit-resources.html -->\n',e=a("camunda-commons-ui/vendor/angular"),f=e.element;b.exports=[function(){return{restrict:"A",scope:{repositoryData:"="},template:d,controller:["$scope","$location","$timeout","search",function(a,b,c,d){function e(a){for(var b=a.concat().sort(),c=b[0],d=b[b.length-1],e=c.length,f=0;f<e&&c.charAt(f)===d.charAt(f);)f++;return c.substring(0,f)}var g=a.repositoryData.newChild(a),h=function(a){d.updateSilently(a)};a.state=g.observe("resourceId",function(b){a.currentResourceId=b.resourceId}),a.sharedStart="",a.state=g.observe("resources",function(b){var c=[];a.resources=(b||[]).map(function(a){var b=(a.name||a.id).split("/");return a._filename=b.pop(),a._filepath=b.join("/"),c.push(a._filepath),a}),a.sharedStart=e(c)}),a.truncateFilepath=function(b){return b.slice(a.sharedStart.length)},a.focus=function(b,c){b&&b.preventDefault();var d=c.id;h(a.currentResourceId===d?{resource:d,resourceName:null,editMode:null}:{resource:d,resourceName:null,viewbox:null,editMode:null}),g.changed("resourceId")};var i=function(){for(var b=0;b<a.resources.length-1;b++)if(a.resources[b].id===a.currentResourceId)return a.focus(null,a.resources[b+1])},j=function(){for(var b=1;b<a.resources.length;b++)if(a.resources[b].id===a.currentResourceId)return a.focus(null,a.resources[b-1])};a.handleKeydown=function(a){40===a.keyCode?(a.preventDefault(),i(a)):38===a.keyCode&&(a.preventDefault(),j()),c(function(){var b=f(a.target).find("li.active")[0];b&&b.scrollIntoView(!1)})}}]}}]},{"camunda-commons-ui/vendor/angular":706}],785:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./directives/cam-cockpit-resources"),f=d.module("cam.cockpit.repository.resources",[]);f.directive("camResources",e),b.exports=f},{"./directives/cam-cockpit-resources":784,"camunda-commons-ui/vendor/angular":706}],786:[function(a,b,c){"use strict";var d=["$resource","Uri",function(a,b){return a(b.appUri("engine://engine/:engine/incident/:action"),{},{count:{method:"GET",isArray:!1,params:{count:"count"}}})}];b.exports=d},{}],787:[function(a,b,c){"use strict";var d=["$resource","Uri",function(a,b){return a(b.appUri("engine://engine/:engine/job-definition/:id/:action"),{id:"@id"},{query:{method:"POST",isArray:!0},count:{method:"POST",isArray:!1,params:{id:"count"}},setRetries:{method:"PUT",params:{action:"retries"}},setJobPriority:{method:"PUT",params:{action:"jobPriority"}}})}];b.exports=d},{}],788:[function(a,b,c){"use strict";var d=["$resource","Uri",function(a,b){return a(b.appUri("engine://engine/:engine/job/:id/:action"),{id:"@id"},{query:{method:"POST",isArray:!0},count:{method:"POST",isArray:!1,params:{id:"count"}},setRetries:{method:"PUT",params:{action:"retries"}}})}];b.exports=d},{}],789:[function(a,b,c){"use strict";var d=["$resource","Uri",function(a,b){return a(b.appUri("engine://engine/:engine/execution/:executionId/localVariables/:localVariableName"),{},{updateVariables:{method:"POST"}})}];b.exports=d},{}],790:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular");a("camunda-commons-ui/lib/util/index");var e=a("./processDefinitionResource"),f=a("./incidentResource"),g=a("./processInstanceResource"),h=a("./localExecutionVariableResource"),i=a("./jobResource"),j=a("./taskResource"),k=a("./jobDefinitionResource"),l=d.module("cam.cockpit.resources",[]);l.factory("ProcessDefinitionResource",e),l.factory("IncidentResource",f),l.factory("ProcessInstanceResource",g),l.factory("LocalExecutionVariableResource",h),l.factory("JobResource",i),l.factory("TaskResource",j),l.factory("JobDefinitionResource",k),b.exports=l},{"./incidentResource":786,"./jobDefinitionResource":787,"./jobResource":788,"./localExecutionVariableResource":789,"./processDefinitionResource":791,"./processInstanceResource":792,"./taskResource":793,"camunda-commons-ui/lib/util/index":35,"camunda-commons-ui/vendor/angular":706}],791:[function(a,b,c){"use strict";var d=["$resource","Uri",function(a,b){return a(b.appUri("engine://engine/:engine/process-definition/:id/:action"),{id:"@id"},{queryStatistics:{method:"GET",isArray:!0,params:{id:"statistics"}},queryActivityStatistics:{method:"GET",isArray:!0,params:{action:"statistics"}},getBpmn20Xml:{method:"GET",params:{action:"xml"},cache:!0}})}];b.exports=d},{}],792:[function(a,b,c){"use strict";b.exports=["$resource","Uri",function(a,b){return a(b.appUri("engine://engine/:engine/process-instance/:id/:action"),{id:"@id"},{query:{method:"POST",isArray:!0},count:{method:"POST",isArray:!1,params:{id:"count"}},activityInstances:{method:"GET",isArray:!1,params:{action:"activity-instances"}}})}]},{}],793:[function(a,b,c){"use strict";var d=["$resource","Uri",function(a,b){var c=b.appUri("engine://engine/:engine/task/:id/:action/:subAction"),d={id:"@id"};return a(c,d,{query:{method:"POST",isArray:!0},count:{method:"POST",isArray:!1,params:{id:"count"}},getIdentityLinks:{method:"GET",isArray:!0,params:{action:"identity-links"}},addIdentityLink:{method:"POST",params:{action:"identity-links"}},deleteIdentityLink:{method:"POST",params:{action:"identity-links",subAction:"delete"}},setAssignee:{method:"POST",params:{action:"assignee"}}})}];b.exports=d},{}],794:[function(a,b,c){"use strict";b.exports=["ProcessDefinitionResource","page",function(a,b){function c(d,e,f,g,h){function i(d,i){return i?void a.get({id:i.processDefinitionId||i.definitionId}).$promise.then(function(a){var b=a;f=[{href:"#/process-definition/"+b.id+(h?"/"+h:""),label:b.name||b.key},{divider:":",href:"#/process-instance/"+i.id+(h?"/"+h:""),label:i.id.slice(0,8)+"…"}].concat(f),c(i,e,f,g,h)}):void b.breadcrumbsInsertAt(g,f)}f=f||[],e(d,i)}return c}]},{}],795:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./transform"),f=a("./variables"),g=a("./breadcrumbTrails"),h=a("./../../../../common/scripts/services/routeUtil"),i=a("./../../../../common/scripts/services/page"),j=a("./../../../../common/scripts/services/cam-api"),k=a("./../../../../common/scripts/services/has-plugin"),l=a("./../../../../common/scripts/services/cam-local-configuration"),m=d.module("cam.cockpit.services",[]);m.factory("Transform",e),m.factory("Variables",f),m.service("page",i),m.factory("breadcrumbTrails",g),m.factory("routeUtil",h),m.factory("camAPI",j),m.factory("hasPlugin",k),m.factory("localConf",l),b.exports=m},{"./../../../../common/scripts/services/cam-api":816,"./../../../../common/scripts/services/cam-local-configuration":817,"./../../../../common/scripts/services/has-plugin":818,"./../../../../common/scripts/services/page":819,"./../../../../common/scripts/services/routeUtil":820,"./breadcrumbTrails":794,"./transform":796,"./variables":797,"camunda-commons-ui/vendor/angular":706}],796:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/bpmn-js"),e=["$q",function(a){return{transformBpmn20Xml:function(b){var c=a.defer();d.prototype.options={};var e=d.prototype._createModdle({});return e.fromXML(b,"bpmn:Definitions",function(a,b,d){c.resolve({definitions:b,bpmnElements:d.elementsById})}),c.promise}}}];b.exports=e},{"camunda-commons-ui/vendor/bpmn-js":707}],797:[function(a,b,c){"use strict";var d=[function(){function a(a){var b={};for(var c in a)b[a[c]]=c;return b}function b(a){var b=[];for(var c in a)b.push(c);return b}function c(a){return f[a]}function d(a){if(/^".*"\s*$/.test(a))return a.substring(1,a.length-1);if(parseFloat(a)+""===a)return parseFloat(a);if("true"===a||"false"===a)return"true"===a;throw new Error("Cannot infer type of value "+a)}function e(a){if(!a)return a;if("string"==typeof a)return'"'+a+'"';if("boolean"==typeof a)return a?"true":"false";if("number"==typeof a)return a;throw new Error("Cannot infer type of value "+a)}var f={eq:"=",neq:"!=",gt:">",gteq:">=",lt:"<",lteq:"<=",like:" like "},g=a(f),h=new RegExp("^(\\w+)\\s*("+b(g).join("|")+")\\s*([^!=<>]+)$");return{parse:function(a){var b,c=h.exec(a);if(!c)throw new Error("Invalid variable syntax: "+a);return b=d(c[3]),{name:c[1],operator:g[c[2]],value:b}},toString:function(a){return a?a.name+c(a.operator)+e(a.value):""},operators:b(g)}}];b.exports=d},{}],798:[function(a,b,c){"use strict";var d='<!-- # CE - camunda-bpm-webapp/ui/common/scripts/directives/breadcrumbs.html -->\n<ul class="cam-breadcrumb">\n  <li ng-class="{ active: !breadcrumbs || !breadcrumbs.length }">\n    <a href="#/"\n       class="text">Dashboard</a>\n  </li>\n\n  <li ng-repeat="(index, crumb) in breadcrumbs"\n      ng-class="{ active: !!$last }"\n      data-index="{{ index }}">\n    <span class="divider">{{ crumb.divider || divider }}</span>\n\n    <a ng-if="!!crumb.href && !$last"\n       href="{{ getHref(crumb) }}"\n       class="text">{{ crumb.label }}</a>\n\n    <span ng-if="!!crumb.href && !!$last"\n          class="text">{{ crumb.label }}</span>\n\n    <a ng-if="!crumb.href && !!crumb.callback"\n       ng-click="crumb.callback(index, breadcrumbs)"\n       href\n       class="text">{{ crumb.label }}</a>\n\n    <span ng-if="!crumb.href && !crumb.callback"\n          class="text">{{ crumb.label }}</span>\n\n    <span ng-if="(crumb.type === \'processDefinition\' && crumb.processDefinition.suspended) || (crumb.type === \'processInstance\' && crumb.processInstance.suspended)"\n          class="badge badge-warning badge-suspended"\n          tooltip="Currently suspended"\n          tooltip-placement="bottom">\n      <span class="glyphicon glyphicon-pause white"></span>\n    </span>\n\n    <span ng-if="!!crumb.choices && crumb.choices.length === 1">\n      <span class="divider">:</span>\n      {{ getActiveChoice(crumb.choices) }}\n    </span>\n\n    <span ng-if="!!crumb.choices && crumb.choices.length === 2"\n          class="switcher"\n          ng-init="choices = sortedChoices(crumb.choices)">\n      <span class="divider">:</span>\n\n      <span class="current">{{ choices[0].label }}</span>\n      <span class="divider">|</span>\n      <a href ng-click="selectChoice($event, choices[1])">{{ choices[1].label }}</a>\n    </span>\n\n    <span ng-if="!!crumb.choices && crumb.choices.length > 2"\n          class="dropdown">\n      <span class="divider">:</span>\n\n      <a class="dropdown-toggle"\n         href>\n        {{ getActiveChoice(crumb.choices) }}\n        <span class="caret"></span>\n      </a>\n\n      <ul class="dropdown-menu dropdown-menu-right">\n        <li ng-repeat="choice in crumb.choices"\n            ng-class="{active: choice.active}">\n          <a href ng-click="selectChoice($event, choice)">{{ choice.label }}</a>\n        </li>\n      </ul>\n    </span>\n  </li>\n</ul>\n<!-- / CE - camunda-bpm-webapp/ui/common/scripts/directives/breadcrumbs.html -->\n';
b.exports=["$location","routeUtil",function(a,b){return{scope:{divider:"@"},restrict:"A",template:d,link:function(c){c.$on("page.breadcrumbs.changed",function(a,b){c.breadcrumbs=b}),c.getHref=function(c){return b.redirectTo(c.href,a.search(),c.keepSearchParams)},c.selectChoice=function(b,c){b.preventDefault(),a.path(c.href.substr(1))},c.getActiveChoice=function(a){var b;return a.forEach(function(a){a.active&&(b=a.label)}),b||"Options"},c.sortedChoices=function(a){return a.sort(function(a,b){return a.active?-1:b.active?1:0})}},controller:["$scope","page",function(a,b){a.breadcrumbs=b.breadcrumbsGet()}]}}]},{}],799:[function(a,b,c){"use strict";var d='<!-- EE # src/main/resources-plugin/cockpit/drd/app/definition/tabs/decision-instances/component/drd-decision-instances-pagination.html -->\n<pagination ng-if="Pagination.total > Pagination.pages.size"\n            class="pagination-sm"\n\n            page="Pagination.pages.current"\n            ng-model="Pagination.pages.current"\n\n            total-items="Pagination.total"\n            items-per-page="Pagination.pages.size"\n\n            boundary-links="true"></pagination>\n<!-- EE / src/main/resources-plugin/cockpit/drd/app/definition/tabs/decision-instances/component/drd-decision-instances-pagination.html -->\n';b.exports=function(){return{restrict:"A",template:d,controller:"CamPaginationController as Pagination",scope:{total:"=",onPaginationChange:"&camPagination"}}}},{}],800:[function(a,b,c){"use strict";var d='<div cam-widget-search\n     cam-widget-search-valid-searches="CamSearch.config.searches"\n     cam-widget-search-translations="CamSearch.config.tooltips"\n     cam-widget-search-types="CamSearch.config.types"\n     cam-widget-search-operators="CamSearch.config.operators"\n     cam-widget-search-mode="filter">\n</div>\n';b.exports=function(){return{restrict:"A",template:d,controller:"CamSearchController as CamSearch",scope:{config:"=camSearch",arrayTypes:"=?",variableTypes:"=?",onQueryChange:"&"}}}},{}],801:[function(a,b,c){"use strict";var d='<div cam-search="Searchable.config"\n     on-query-change="Searchable.onQueryChange(query)"\n     array-types="Searchable.arrayTypes">\n</div>\n\n<div cam-widget-loader\n     text-error="{{Searchable.loadingError}}"\n     text-empty="{{Searchable.textEmpty}}"\n     loading-state="{{Searchable.loadingState}}">\n\n  <div ng-transclude></div>\n\n  <div cam-pagination="Searchable.onPaginationChange(pages)"\n       total="Searchable.total">\n  </div>\n</div>\n';b.exports=function(){return{restrict:"A",transclude:!0,template:d,controller:"CamSearchAbleAreaController as Searchable",scope:{config:"=",total:"=",loadingState:"=",loadingError:"=",arrayTypes:"=?",variableTypes:"=?",onSearchChange:"&",textEmpty:"@"}}}},{}],802:[function(a,b,c){"use strict";var d='<ul class="nav nav-tabs"\n    ng-if="Tabs.providers.length > 1">\n  <li ng-repeat="tabProvider in Tabs.providers"\n      ng-class="{ active: Tabs.isSelected(tabProvider) }">\n    <a href ng-click="Tabs.selectTab(tabProvider)">{{ tabProvider.label }}</a>\n  </li>\n</ul>\n\n<h4 ng-if="Tabs.providers.length === 1">{{ Tabs.providers[0].label }}:</h4>\n\n<div class="ctn-tabbed-content ctn-scroll"\n     ng-if="Tabs.providers.length">\n  <view provider="Tabs.selected"\n        vars="Tabs.vars" />\n</div>\n';b.exports=function(){return{restrict:"A",template:d,controller:"CamTabsController as Tabs",scope:{providerParams:"=camTabs",tabsApi:"="}}}},{}],803:[function(a,b,c){"use strict";var d='<!-- # CE - ui/common/scripts/module/components/cam-toolbar.html -->\n<div class="ctn-toolbar">\n  <!-- Toolbar actions are provided by plugins -->\n  <span ng-repeat="provider in providers">\n    <view provider="provider"\n          vars="vars" />\n  </span>\n</div>\n<!-- / CE - ui/common/scripts/module/components/cam-toolbar.html -->\n';b.exports=function(){return{restrict:"A",template:d,scope:{providers:"=camToolbar",vars:"=?"}}}},{}],804:[function(a,b,c){"use strict";function d(a,b,c,d){c.initializePaginationInController(a,b,function(){a.onPaginationChange({pages:a.pages})}),d(a,this,["total","pages"]),a.onPaginationChange({pages:a.pages})}b.exports=["$scope","search","paginationUtils","exposeScopeProperties",d]},{}],805:[function(a,b,c){function d(a,b,c){this.searchWidgetUtils=c,b(a,this,["config","onQueryChange","arrayTypes","variableTypes"]),this.init(a)}var e=a("camunda-commons-ui/vendor/angular");b.exports=["$scope","exposeScopeProperties","searchWidgetUtils",d],d.prototype.init=function(a){this.arrayTypes=e.isArray(this.arrayTypes)?this.arrayTypes:[],this.variableTypes=e.isArray(this.variableTypes)?this.variableTypes:[],a.$watch("config.searches",this.updateQuery.bind(this),!0)},d.prototype.updateQuery=function(a,b){if(!e.equals(a,b)){var c=this.createQuery(a);this.onQueryChange({query:c})}},d.prototype.createQuery=function(a){return this.searchWidgetUtils.createSearchQueryForSearchWidget(a,this.arrayTypes,this.variableTypes)}},{"camunda-commons-ui/vendor/angular":706}],806:[function(a,b,c){"use strict";function d(a,b){b(a,this,["config","total","arrayTypes","variableTypes","onSearchChange","loadingError","loadingState","textEmpty"])}b.exports=["$scope","exposeScopeProperties",d],d.prototype.onQueryChange=function(a){this.query=a,this.triggerSearchChange()},d.prototype.onPaginationChange=function(a){this.pages=a,this.triggerSearchChange()},d.prototype.triggerSearchChange=function(){this.query&&this.pages&&this.onSearchChange({query:this.query,pages:this.pages})}},{}],807:[function(a,b,c){"use strict";function d(a,b,c){this.providers=this.getProviders(c,a),this.selected=this.providers[0],this.search=b,this.vars={read:["tabsApi"]},a.$on("$locationChangeSuccess",this.onLocationChange.bind(this)),this.onLocationChange()}function e(a,b){return(b.priority||0)-(a.priority||0)}var f=a("camunda-commons-ui/vendor/angular");b.exports=["$scope","search","Views",d],d.prototype.getProviders=function(a,b){return a.getProviders(b.providerParams).sort(e)},d.prototype.onLocationChange=function(){var a=this.search();this.isTabSelectionChangedInUrl(a)?this.selected=this.providers.filter(function(b){return b.id===a.tab})[0]:a.tab||(this.selected=this.providers[0])},d.prototype.isTabSelectionChangedInUrl=function(a){return f.isString(a.tab)&&(!this.selected||a.tab!==this.selected.id)},d.prototype.selectTab=function(a){var b=this.search(),c={tab:a.id};this.selected=a,this.search.updateSilently(f.extend(b,c))},d.prototype.isSelected=function(a){return this.selected===a}},{"camunda-commons-ui/vendor/angular":706}],808:[function(a,b,c){"use strict";function d(){this._hovered=null,this._listeners=[]}b.exports=d,d.prototype.hoverTitle=function(a){this._hovered=a,this._fireListeners()},d.prototype.cleanHover=function(){this._hovered=null,this._fireListeners()},d.prototype.addHoverListener=function(a,b){var c={title:a,listener:b};return this._listeners.push(c),this._fireEntry(c),function(){this._listeners=this._listeners.filter(function(a){return a.listener!==b})}.bind(this)},d.prototype._fireListeners=function(){this._listeners.forEach(this._fireEntry.bind(this))},d.prototype._fireEntry=function(a){a.listener(a.title===this._hovered)}},{}],809:[function(a,b,c){"use strict";b.exports=function(){return{restrict:"A",transclude:!0,scope:!0,controller:"HoverAreaController as HoverArea",link:function(a,b,c,d,e){e(function(a){b.empty(),b.append(a)})}}}},{}],810:[function(a,b,c){"use strict";b.exports=function(){return{restrict:"A",require:"^camHoverArea",link:function(a,b,c,d){b.on("mouseenter",function(){a.$apply(function(){d.hoverTitle(c.camHoverTrigger)})}),b.on("mouseleave",function(){a.$apply(d.cleanHover.bind(d))})}}}},{}],811:[function(a,b,c){"use strict";b.exports=function(){return{restrict:"A",require:"^camHoverArea",link:function(a,b,c,d){function e(){f&&f()}var f,g=c.hoverClass||"hovered";c.$observe("camHoverableTitle",function(a){e(),f=d.addHoverListener(a,function(a){a?b.addClass(g):b.removeClass(g)})}),b.on("$destroy",e)}}}},{}],812:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./services/is-module-available"),f=a("./services/expose-scope-properties"),g=a("./services/loaders"),h=a("./components/cam-toolbar"),i=a("./components/cam-pagination"),j=a("./components/cam-search"),k=a("./components/cam-searchable-area"),l=a("./components/cam-tabs"),m=a("./directives/cam-hover-area"),n=a("./directives/cam-hover-trigger"),o=a("./directives/cam-hoverable-title"),p=a("./controllers/hover-area"),q=a("./controllers/cam-pagination"),r=a("./controllers/cam-search"),s=a("./controllers/cam-searchable-area"),t=a("./controllers/cam-tabs"),u=a("../util/routeUtil"),v=a("../util/pagination-utils"),w=a("../util/search-widget-utils"),x=d.module("cam-common",[]);x.factory("isModuleAvailable",e),x.factory("exposeScopeProperties",f),x.factory("Loaders",g),x.directive("camToolbar",h),x.directive("camPagination",i),x.directive("camSearch",j),x.directive("camSearchableArea",k),x.directive("camTabs",l),x.directive("camHoverArea",m),x.directive("camHoverTrigger",n),x.directive("camHoverableTitle",o),x.controller("HoverAreaController",p),x.controller("CamPaginationController",q),x.controller("CamSearchController",r),x.controller("CamSearchAbleAreaController",s),x.controller("CamTabsController",t),x.value("routeUtil",u),x.value("paginationUtils",v),x.value("searchWidgetUtils",w),b.exports=x},{"../util/pagination-utils":822,"../util/routeUtil":823,"../util/search-widget-utils":824,"./components/cam-pagination":799,"./components/cam-search":800,"./components/cam-searchable-area":801,"./components/cam-tabs":802,"./components/cam-toolbar":803,"./controllers/cam-pagination":804,"./controllers/cam-search":805,"./controllers/cam-searchable-area":806,"./controllers/cam-tabs":807,"./controllers/hover-area":808,"./directives/cam-hover-area":809,"./directives/cam-hover-trigger":810,"./directives/cam-hoverable-title":811,"./services/expose-scope-properties":813,"./services/is-module-available":814,"./services/loaders":815,"camunda-commons-ui/vendor/angular":706}],813:[function(a,b,c){"use strict";b.exports=function(){return function(a,b,c){var d=c.reduce(function(b,c){return b[c]={get:function(){return a[c]},set:function(b){a[c]=b}},b},{});Object.defineProperties(b,d)}}},{}],814:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular");b.exports=function(){return function(a){try{return!!d.module(a)}catch(b){return!1}}}},{"camunda-commons-ui/vendor/angular":706}],815:[function(a,b,c){"use strict";b.exports=["$rootScope",function(a){function b(){var a=function(){f=f.filter(function(b){return b!==a}),c()};return f.push(a),c(),a}function c(){a.$broadcast(g)}function d(a,b){return b(e()),a.$on(g,function(){var a=e();b(a)})}function e(){return 0===f.length?"LOADED":"LOADING"}var f=[],g="LoaderService:active-loaders-changed";return{startLoading:b,addStatusListener:d}}]},{}],816:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/camunda-bpm-sdk-angular");b.exports=["Uri","camAPIHttpClient",function(a,b){return new d.Client({HttpClient:b,apiUri:a.appUri("engine://"),engine:a.appUri(":engine")})}]},{"camunda-commons-ui/vendor/camunda-bpm-sdk-angular":708}],817:[function(a,b,c){"use strict";b.exports=["$window",function(a){var b=a.localStorage,c=JSON.parse(b.getItem("camunda")||"{}");return{get:function(a,b){return"undefined"!=typeof c[a]?c[a]:b},set:function(a,d){c[a]=d,b.setItem("camunda",JSON.stringify(c))},remove:function(a){delete c[a],b.setItem("camunda",JSON.stringify(c))}}}]},{}],818:[function(a,b,c){"use strict";b.exports=["Views",function(a){return function(b,c){return!!a.getProviders({component:b}).filter(function(a){return a.id===c}).length}}]},{}],819:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular");b.exports=["$rootScope","$location","camAPI",function(a,b,c){function e(b){if(!b||!b.name)return void(a.userFullName=null);var d=c.resource("user");d.profile(b.name,function(b,c){if(b)throw a.userFullName=null,b;a.userFullName=c.firstName+" "+c.lastName})}var f={title:"Camunda",breadcrumbs:[]},g=d.element(document.querySelector("head title")),h=g[0].textContent||"Camunda Cockpit";return a.$on("page.title.changed",function(){g.text([h,f.title].join(" | "))}),a.isActivePage=function(a){return 0===b.path().indexOf("/"+a)?"active":""},a.$on("authentication.changed",function(a,b){e(b)}),e(a.authentication),{titleSet:function(b){return f.title=b,a.$broadcast("page.title.changed",f.title),this},titleGet:function(){return f.title},breadcrumbsAdd:function(b){if(d.isArray(b))return d.forEach(b,this.breadcrumbsAdd);if(d.isFunction(b)){var c=b;b={callback:c}}return b.label=b.label||"…",f.breadcrumbs.push(b),a.$broadcast("page.breadcrumbs.changed",f.breadcrumbs),this},breadcrumbsInsertAt:function(b,c){return f.breadcrumbs=f.breadcrumbs.slice(0,b).concat(d.isArray(c)?c:[c]).concat(f.breadcrumbs.slice(b+1)),a.$broadcast("page.breadcrumbs.changed",f.breadcrumbs),this},breadcrumbsGet:function(a){return a?("last"===a&&(a=f.length-1),f.breadcrumbs[a]):f.breadcrumbs},breadcrumbsClear:function(){return f.breadcrumbs=[],a.$broadcast("page.breadcrumbs.changed",f.breadcrumbs),this}}}]},{"camunda-commons-ui/vendor/angular":706}],820:[function(a,b,c){"use strict";var d=a("./../util/routeUtil");b.exports=[function(){return{redirectToRuntime:function(a,b,c){return d.redirectToRuntime(a,b,c)},replaceLastPathFragment:function(a,b,c,e){return d.replaceLastPathFragment(a,b,c,e)},redirectTo:function(a,b,c){return d.redirectTo(a,b,c)}}}]},{"./../util/routeUtil":823}],821:[function(a,b,c){"use strict";function d(a,b){return a.indexOf(b)!==-1}b.exports=d},{}],822:[function(a,b,c){"use strict";function d(a,b,c){var d=a.pages=f.copy(g);return d.current=e(b),a.$watch("pages.current",function(a,d){a!=d&&(b("page",a&&1!=a?a:null),c(a,d))}),d}function e(a){return a().page||1}var f=a("camunda-commons-ui/vendor/angular"),g={size:50,total:0,current:1};b.exports={initializePaginationInController:d}},{"camunda-commons-ui/vendor/angular":706}],823:[function(a,b,c){"use strict";var d={};d.redirectToRuntime=function(a,b,c){var e=b+"/runtime";return d.redirectTo(e,c,!0)},d.replaceLastPathFragment=function(a,b,c,e){var f=b.replace(/[^\/]*$/,a);return d.redirectTo(f,c,e)},d.redirectTo=function(a,b,c){var d,e=[];if(b&&c){var f="[object Array]"===Object.prototype.toString.call(c);for(d in b)f&&c.indexOf(d)===-1||e.push(d+"="+encodeURIComponent(b[d]))}return a+(e.length?"?"+e.join("&"):"")},b.exports=d},{}],824:[function(a,b,c){"use strict";function d(a,b){b=[].concat(b);var c=JSON.stringify(q(a,b));return e("searchQuery="+c)}function e(a){return encodeURI(a).replace(/#/g,"%23")}function f(a,b,c){return c=C.isArray(c)?c:[],!C.equals(g(a,c),g(b,c))}function g(a,b){return C.isObject(a)?i(h(a,b)):a}function h(a,b){return Object.keys(a).reduce(function(c,d){var e=a[d];return D(b,d)&&(c[d]=e),c},{})}function i(a){return Object.keys(a).reduce(function(b,c){var d=a[c];return null!=d&&(b[c]=d),b},{})}function j(a,b){var c=JSON.parse(b.searchQuery||"[]");return k(a,c)}function k(a,b){return b.filter(function(b){return b.type===a}).map(function(a){return a.value})}function l(a,b,c){var d=m(a,c,b),e=n(c,a,b);return d.concat(q(b,e))}function m(a,b,c){return a.filter(function(a){return a.type!==c||!D(b,a.value)})}function n(a,b,c){var d=b.filter(function(a){return a.type===c}).map(function(a){return a.value});return a.filter(function(a){return!D(d,a)})}function o(a,b,c){return p(b,a).concat(q(b,c))}function p(a,b){return b.filter(function(b){return b.type!==a})}function q(a,b){return b.map(r.bind(null,a))}function r(a,b){return{type:a,operator:"eq",value:b}}function s(a,b,c){return a=C.isArray(a)?a:[],b=C.isArray(b)?b:[],c=C.isArray(c)?c:["variables"],b=b.concat(c),a.reduce(t.bind(null,b,c),{})}function t(a,b,c,d){var e=u(d,b),f=x(d,e,b);return D(b,e)&&(f=A(d,f)),D(a,e)?c[e]=B(c,e,f):c[e]=f,c}function u(a,b){var c=a.type.value.key,d=a.operator.value.key;return v(c)&&(c=c.slice(0,-4)),w(d)&&!D(b,c)&&(c+=d),c}function v(a){return a.indexOf("Date")!==-1}function w(a){return D(["After","Before","Like"],a)}function x(a){return!!a.basic||y(z(a.value.value),a.operator.value.key)}function y(a,b){return D(["like","Like"],b)?"%"+a+"%":a}function z(a){return isNaN(a)||""===a.trim()?"true"===a||"false"!==a&&("NULL"===a?null:0===a.indexOf("'")&&a.lastIndexOf("'")===a.length-1?a.substr(1,a.length-2):a):+a}function A(a,b){return{name:a.name.value,operator:a.operator.value.key,value:b}}function B(a,b,c){return C.isArray(a[b])?a[b].concat([c]):[c]}var C=a("camunda-commons-ui/vendor/angular"),D=a("./includes");b.exports={getSearchQueryForSearchType:d,getActivityIdsFromUrlParams:j,replaceActivitiesInSearchQuery:o,createSearchQueryForSearchWidget:s,shouldUpdateFilter:f,createSearchesForActivityIds:q,encodeQuery:e,updateSearchValuesForTypeInCtrlMode:l}},{"./includes":821,"camunda-commons-ui/vendor/angular":706}]},{},[725])(725)});